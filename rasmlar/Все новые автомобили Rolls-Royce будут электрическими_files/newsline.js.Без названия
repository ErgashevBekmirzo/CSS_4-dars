(function(a,e,d,l){function m(c){var g=c.currentTarget,h=c.data?c.data.options:{},b=c.data?c.data.items:[],n="",a=0;c.preventDefault();c.stopPropagation();d(g).attr("data-fancybox")&&(n=d(g).data("fancybox"));n?(b=b.length?b.filter('[data-fancybox="'+n+'"]'):d("[data-fancybox="+n+"]"),a=b.index(g)):b=[g];d.fancybox.open(b,h,a)}if(!d)return l;var p={speed:330,loop:!0,opacity:"auto",margin:[44,0],gutter:30,infobar:!0,buttons:!0,slideShow:!0,fullScreen:!0,thumbs:!0,closeBtn:!0,smallBtn:"auto",image:{preload:"auto",
protect:!1},ajax:{settings:{data:{fancybox:!0}}},iframe:{tpl:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen allowtransparency="true" src=""></iframe>',preload:!0,scrolling:"no",css:{}},baseClass:"",slideClass:"",baseTpl:'<div class="fancybox-container" role="dialog" tabindex="-1"><div class="fancybox-bg"></div><div class="fancybox-controls"><div class="fancybox-infobar"><button data-fancybox-previous class="fancybox-button fancybox-button--left" title="Previous"></button><div class="fancybox-infobar__body"><span class="js-fancybox-index"></span>&nbsp;/&nbsp;<span class="js-fancybox-count"></span></div><button data-fancybox-next class="fancybox-button fancybox-button--right" title="Next"></button></div><div class="fancybox-buttons"><button data-fancybox-close class="fancybox-button fancybox-button--close" title="Close (Esc)"></button></div></div><div class="fancybox-slider-wrap"><div class="fancybox-slider"></div></div><div class="fancybox-caption-wrap"><div class="fancybox-caption"></div></div></div>',
spinnerTpl:'<div class="fancybox-loading"></div>',errorTpl:'<div class="fancybox-error"><p>The requested content cannot be loaded. <br /> Please try again later.<p></div>',closeTpl:'<button data-fancybox-close class="fancybox-close-small"></button>',parentEl:"body",touch:!0,keyboard:!0,focus:!0,closeClickOutside:!0,beforeLoad:d.noop,afterLoad:d.noop,beforeMove:d.noop,afterMove:d.noop,onComplete:d.noop,onInit:d.noop,beforeClose:d.noop,afterClose:d.noop,onActivate:d.noop,onDeactivate:d.noop},q=d(a),
f=d(e),b=0,k=function(){return a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||function(c){a.setTimeout(c,1E3/60)}}(),r=function(c){"function"===typeof d&&c instanceof d&&(c=c[0]);c=c.getBoundingClientRect();return 0<c.bottom&&0<c.right&&c.left<(a.innerWidth||e.documentElement.clientWidth)&&c.top<(a.innerHeight||e.documentElement.clientHeight)},t=function(c,g,h){this.opts=d.extend(!0,{index:h},p,g||{});this.id=this.opts.id||++b;this.group=[];this.currIndex=parseInt(this.opts.index,
10)||0;this.prevPos=this.prevIndex=null;this.currPos=0;this.firstRun=null;this.createGroup(c);this.group.length&&(this.$lastFocus=d(e.activeElement).blur(),this.slides={},this.init(c))};d.extend(t.prototype,{init:function(){var c=!1,g;this.scrollTop=f.scrollTop();this.scrollLeft=f.scrollLeft();d.fancybox.getInstance()||(g=d("body").width(),d("html").addClass("fancybox-enabled"),d.fancybox.isTouch?(d.each(this.group,function(g,b){if("image"!==b.type&&"iframe"!==b.type)return c=!0,!1}),c&&d("body").css({position:"fixed",
width:g,top:-1*this.scrollTop})):(g=d("body").width()-g,1<g&&d('<style id="fancybox-noscroll" type="text/css">').html(".compensate-for-scrollbar, .fancybox-enabled body { margin-right: "+g+"px; }").appendTo("head")));g=d(this.opts.baseTpl).attr("id","fancybox-container-"+this.id).data("FancyBox",this).addClass(this.opts.baseClass).hide().prependTo(this.opts.parentEl);this.$refs={container:g,bg:g.find(".fancybox-bg"),controls:g.find(".fancybox-controls"),buttons:g.find(".fancybox-buttons"),slider_wrap:g.find(".fancybox-slider-wrap"),
slider:g.find(".fancybox-slider"),caption:g.find(".fancybox-caption")};this.trigger("onInit");this.activate();this.current||this.jumpTo(this.currIndex)},createGroup:function(c){var g=this;c=d.makeArray(c);d.each(c,function(c,b){c={};var n={},a=[],k,e,f;d.isPlainObject(b)?(c=b,n=b.opts||{}):"object"===d.type(b)&&d(b).length?(k=d(b),a=k.data(),n="options"in a?a.options:{},n="object"===d.type(n)?n:{},c.type="type"in a?a.type:n.type,c.src="src"in a?a.src:n.src||k.attr("href"),n.width="width"in a?a.width:
n.width,n.height="height"in a?a.height:n.height,n.thumb="thumb"in a?a.thumb:n.thumb,n.selector="selector"in a?a.selector:n.selector,"srcset"in a&&(n.image={srcset:a.srcset}),n.$orig=k):c={type:"html",content:b+""};c.opts=d.extend(!0,{},g.opts,n);e=c.type;f=c.src||"";e||(c.content?e="html":f.match(/(^data:image\/[a-z0-9+\/=]*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\?|#).*)?$)/i)?e="image":f.match(/\.(pdf)((\?|#).*)?$/i)?e="pdf":"#"===f.charAt(0)&&(e="inline"),c.type=e);c.index=g.group.length;
c.opts.$orig&&!c.opts.$orig.length&&delete c.opts.$orig;!c.opts.$thumb&&c.opts.$orig&&(c.opts.$thumb=c.opts.$orig.find("img:first"));c.opts.$thumb&&!c.opts.$thumb.length&&delete c.opts.$thumb;"function"===d.type(c.opts.caption)?c.opts.caption=c.opts.caption.apply(b,[g,c]):"caption"in a?c.opts.caption=a.caption:n.$orig&&(c.opts.caption=k.attr("title"));c.opts.caption=c.opts.caption===l?"":c.opts.caption+"";"ajax"===e&&(b=f.split(/\s+/,2),1<b.length&&(c.src=b.shift(),c.opts.selector=b.shift()));"auto"==
c.opts.smallBtn&&(-1<d.inArray(e,["html","inline","ajax"])?(c.opts.buttons=!1,c.opts.smallBtn=!0):c.opts.smallBtn=!1);"pdf"===e&&(c.type="iframe",c.opts.closeBtn=!0,c.opts.smallBtn=!1,c.opts.iframe.preload=!1);c.opts.modal&&d.extend(!0,c.opts,{infobar:0,buttons:0,keyboard:0,slideShow:0,fullScreen:0,closeClickOutside:0});g.group.push(c)})},addEvents:function(){var c=this;c.removeEvents();c.$refs.container.on("click.fb-close","[data-fancybox-close]",function(g){g.stopPropagation();g.preventDefault();
c.close(g)}).on("click.fb-previous","[data-fancybox-previous]",function(g){g.stopPropagation();g.preventDefault();c.previous()}).on("click.fb-next","[data-fancybox-next]",function(g){g.stopPropagation();g.preventDefault();c.next()});d(a).on("orientationchange.fb resize.fb",function(g){k(function(){g&&g.originalEvent&&"resize"===g.originalEvent.type?c.update():(c.$refs.slider_wrap.hide(),k(function(){c.$refs.slider_wrap.show();c.update()}))})});f.on("focusin.fb",function(g){var h=d.fancybox?d.fancybox.getInstance():
null;!h||d(g.target).hasClass("fancybox-container")||d.contains(h.$refs.container[0],g.target)||(g.stopPropagation(),h.focus(),q.scrollTop(c.scrollTop).scrollLeft(c.scrollLeft))});f.on("keydown.fb",function(g){var h=c.current,b=g.keyCode||g.which;if(h&&h.opts.keyboard&&!d(g.target).is("input")&&!d(g.target).is("textarea"))if(8===b||27===b)g.preventDefault(),c.close(g);else switch(b){case 37:case 38:g.preventDefault();c.previous();break;case 39:case 40:g.preventDefault();c.next();break;case 80:case 32:g.preventDefault();
c.SlideShow&&(g.preventDefault(),c.SlideShow.toggle());break;case 70:c.FullScreen&&(g.preventDefault(),c.FullScreen.toggle());break;case 71:c.Thumbs&&(g.preventDefault(),c.Thumbs.toggle())}})},removeEvents:function(){q.off("scroll.fb resize.fb orientationchange.fb");f.off("keydown.fb focusin.fb click.fb-close");this.$refs.container.off("click.fb-close click.fb-previous click.fb-next")},previous:function(c){this.jumpTo(this.currIndex-1,c)},next:function(c){this.jumpTo(this.currIndex+1,c)},jumpTo:function(c,
g){var h=this,b,d,a,e;b=h.firstRun=null===h.firstRun;d=a=c=parseInt(c,10);e=h.current?h.current.opts.loop:!1;if(!h.isAnimating&&(d!=h.currIndex||b)){if(1<h.group.length&&e)d%=h.group.length,d=0>d?h.group.length+d:d,2==h.group.length?a=c-h.currIndex+h.currPos:(a=d-h.currIndex+h.currPos,Math.abs(h.currPos-(a+h.group.length))<Math.abs(h.currPos-a)?a+=h.group.length:Math.abs(h.currPos-(a-h.group.length))<Math.abs(h.currPos-a)&&(a-=h.group.length));else if(!h.group[d]){h.update(!1,!1,g);return}h.current&&
(h.current.$slide.removeClass("fancybox-slide--current fancybox-slide--complete"),h.updateSlide(h.current,!0));h.prevIndex=h.currIndex;h.prevPos=h.currPos;h.currIndex=d;h.currPos=a;h.current=h.createSlide(a);1<h.group.length&&((h.opts.loop||0<=a-1)&&h.createSlide(a-1),(h.opts.loop||a+1<h.group.length)&&h.createSlide(a+1));h.current.isMoved=!1;h.current.isComplete=!1;g=parseInt(g===l?1.5*h.current.opts.speed:g,10);h.trigger("beforeMove");h.updateControls();b&&(h.current.$slide.addClass("fancybox-slide--current"),
h.$refs.container.show(),k(function(){h.$refs.bg.css("transition-duration",h.current.opts.speed+"ms");h.$refs.container.addClass("fancybox-container--ready")}));h.update(!0,!1,b?0:g,function(){h.afterMove()});h.loadSlide(h.current);b&&h.current.$ghost||h.preload()}},createSlide:function(c){var g,b;b=c%this.group.length;b=0>b?this.group.length+b:b;if(!this.slides[c]&&this.group[b]){if(this.opts.loop&&2<this.group.length)for(g in this.slides)if(this.slides[g].index===b)return b=this.slides[g],b.pos=
c,this.slides[c]=b,delete this.slides[g],this.updateSlide(b),b;g=d('<div class="fancybox-slide"></div>').appendTo(this.$refs.slider);this.slides[c]=d.extend(!0,{},this.group[b],{pos:c,$slide:g,isMoved:!1,isLoaded:!1})}return this.slides[c]},zoomInOut:function(c,g,b){var a=this,n=a.current,e=n.$placeholder,l=n.opts.opacity,k=n.opts.$thumb,f=k?k.offset():0,m=n.$slide.offset();if(!(e&&n.isMoved&&f&&r(k))||"In"===c&&!a.firstRun)return!1;d.fancybox.stop(e);a.isAnimating=!0;f={top:f.top-m.top+parseFloat(k.css("border-top-width")||
0),left:f.left-m.left+parseFloat(k.css("border-left-width")||0),width:k.width(),height:k.height(),scaleX:1,scaleY:1};"auto"==l&&(l=.1<Math.abs(n.width/n.height-f.width/f.height));"In"===c?(k=f,f=a.getFitPos(n),f.scaleX=f.width/k.width,f.scaleY=f.height/k.height,l&&(k.opacity=.1,f.opacity=1)):(k=d.fancybox.getTranslate(e),n.$ghost&&(n.$ghost.show(),n.$image&&n.$image.remove()),k.scaleX=k.width/f.width,k.scaleY=k.height/f.height,k.width=f.width,k.height=f.height,l&&(f.opacity=0));a.updateCursor(f.width,
f.height);delete f.width;delete f.height;d.fancybox.setTranslate(e,k);e.show();a.trigger("beforeZoom"+c);e.css("transition","all "+g+"ms");d.fancybox.setTranslate(e,f);setTimeout(function(){var g;e.css("transition","none");g=d.fancybox.getTranslate(e);g.scaleX=1;g.scaleY=1;d.fancybox.setTranslate(e,g);a.trigger("afterZoom"+c);b.apply(a);a.isAnimating=!1},g);return!0},canPan:function(){var c=this.current,g=c.$placeholder,b=!1;g&&(b=this.getFitPos(c),b=1<Math.abs(g.width()-b.width)||1<Math.abs(g.height()-
b.height));return b},isScaledDown:function(){var c=this.current,g=c.$placeholder,b=!1;g&&(b=d.fancybox.getTranslate(g),b=b.width<c.width||b.height<c.height);return b},scaleToActual:function(c,g,b){var a=this,n=a.current,k=n.$placeholder,e,f,m,r,p,q=parseInt(n.$slide.width(),10),t=parseInt(n.$slide.height(),10),u=n.width,x=n.height;k&&(a.isAnimating=!0,c=c===l?.5*q:c,g=g===l?.5*t:g,e=d.fancybox.getTranslate(k),r=u/e.width,p=x/e.height,f=.5*q-.5*u,m=.5*t-.5*x,u>q&&(f=e.left*r-(c*r-c),0<f&&(f=0),f<q-
u&&(f=q-u)),x>t&&(m=e.top*p-(g*p-g),0<m&&(m=0),m<t-x&&(m=t-x)),a.updateCursor(u,x),d.fancybox.animate(k,null,{top:m,left:f,scaleX:r,scaleY:p},b||n.opts.speed,function(){a.isAnimating=!1}))},scaleToFit:function(c){var g=this,b=g.current,a=b.$placeholder,n;a&&(g.isAnimating=!0,n=g.getFitPos(b),g.updateCursor(n.width,n.height),d.fancybox.animate(a,null,{top:n.top,left:n.left,scaleX:n.width/a.width(),scaleY:n.height/a.height()},c||b.opts.speed,function(){g.isAnimating=!1}))},getFitPos:function(c){var g=
c.$placeholder||c.$content,b=c.width,a=c.height,n=c.opts.margin,k;if(!g||!g.length||!b&&!a)return!1;"number"===d.type(n)&&(n=[n,n]);2==n.length&&(n=[n[0],n[1],n[0],n[1]]);800>q.width()&&(n=[0,0,0,0]);g=parseInt(c.$slide.width(),10)-(n[1]+n[3]);c=parseInt(c.$slide.height(),10)-(n[0]+n[2]);k=Math.min(1,g/b,c/a);b=Math.floor(k*b);a=Math.floor(k*a);return{top:Math.floor(.5*(c-a))+n[0],left:Math.floor(.5*(g-b))+n[3],width:b,height:a}},update:function(c,g,b,a){var k=this,e;!0!==k.isAnimating&&k.current&&
(e=k.current.pos*Math.floor(k.current.$slide.width())*-1-k.current.pos*k.current.opts.gutter,b=parseInt(b,10)||0,d.fancybox.stop(k.$refs.slider),!1===c?k.updateSlide(k.current,g):d.each(k.slides,function(c,b){k.updateSlide(b,g)}),b?d.fancybox.animate(k.$refs.slider,null,{top:0,left:e},b,function(){k.current.isMoved=!0;"function"===d.type(a)&&a.apply(k)}):(d.fancybox.setTranslate(k.$refs.slider,{top:0,left:e}),k.current.isMoved=!0,"function"===d.type(a)&&a.apply(k)))},updateSlide:function(c,g){var b=
c.$placeholder,a;(c=c||this.current)&&!this.isClosing&&(a=c.pos*Math.floor(c.$slide.width())+c.pos*c.opts.gutter,a!==c.leftPos&&(d.fancybox.setTranslate(c.$slide,{top:0,left:a}),c.leftPos=a),!1!==g&&b&&(d.fancybox.setTranslate(b,this.getFitPos(c)),c.pos===this.currPos&&this.updateCursor()),c.$slide.trigger("refresh"),this.trigger("onUpdate",c))},updateCursor:function(c,b){var d=this.$refs.container.removeClass("fancybox-controls--canzoomIn fancybox-controls--canzoomOut fancybox-controls--canGrab");
!this.isClosing&&this.opts.touch&&((c=c!==l&&b!==l?c<this.current.width&&b<this.current.height:this.isScaledDown())?d.addClass("fancybox-controls--canzoomIn"):2>this.group.length?d.addClass("fancybox-controls--canzoomOut"):d.addClass("fancybox-controls--canGrab"))},loadSlide:function(c){var b=this,h,a,k;if(c&&!c.isLoaded&&!c.isLoading){c.isLoading=!0;b.trigger("beforeLoad",c);h=c.type;a=c.$slide;a.off("refresh").trigger("onReset").addClass("fancybox-slide--"+(h||"unknown")).addClass(c.opts.slideClass);
switch(h){case "image":b.setImage(c);break;case "iframe":b.setIframe(c);break;case "html":b.setContent(c,c.content);break;case "inline":d(c.src).length?b.setContent(c,d(c.src)):b.setError(c);break;case "ajax":b.showLoading(c);k=d.ajax(d.extend({},c.opts.ajax.settings,{url:c.src,success:function(d,h){"success"===h&&b.setContent(c,d)},error:function(d,h){d&&"abort"!==h&&b.setError(c)}}));a.one("onReset",function(){k.abort()});break;default:b.setError(c)}return!0}},setImage:function(c){var b=this,h=
c.opts.image.srcset,k,e,f;if(c.isLoaded&&!c.hasError)b.afterLoad(c);else{if(h){e=a.devicePixelRatio||1;f=a.innerWidth*e;h=h.split(",").map(function(c){var b={};c.trim().split(/\s+/).forEach(function(c,g){var d=parseInt(c.substring(0,c.length-1),10);if(0===g)return b.url=c;d&&(b.value=d,b.postfix=c[c.length-1])});return b});h.sort(function(c,b){return c.value-b.value});for(var l=0;l<h.length;l++){var m=h[l];if("w"===m.postfix&&m.value>=f||"x"===m.postfix&&m.value>=e){k=m;break}}!k&&h.length&&(k=h[h.length-
1]);k&&(c.src=k.url,c.width&&c.height&&"w"==k.postfix&&(c.height=c.width/c.height*k.value,c.width=k.value))}c.$placeholder=d('<div class="fancybox-placeholder"></div>').hide().appendTo(c.$slide);!1!==c.opts.preload&&c.opts.width&&c.opts.height&&(c.opts.thumb||c.opts.$thumb)?(c.width=c.opts.width,c.height=c.opts.height,c.$ghost=d("<img />").one("load error",function(){b.isClosing||(d("<img/>")[0].src=c.src,b.revealImage(c,function(){b.setBigImage(c);b.firstRun&&c.index===b.currIndex&&b.preload()}))}).addClass("fancybox-image").appendTo(c.$placeholder).attr("src",
c.opts.thumb||c.opts.$thumb.attr("src"))):b.setBigImage(c)}},setBigImage:function(c){var b=this,h=d("<img />");c.$image=h.one("error",function(){b.setError(c)}).one("load",function(){clearTimeout(c.timouts);c.timouts=null;b.isClosing||(c.width=this.naturalWidth,c.height=this.naturalHeight,c.opts.image.srcset&&h.attr("sizes","100vw").attr("srcset",c.opts.image.srcset),b.afterLoad(c),c.$ghost&&(c.timouts=setTimeout(function(){c.$ghost.hide()},350)))}).addClass("fancybox-image").attr("src",c.src).appendTo(c.$placeholder);
h[0].complete?h.trigger("load"):h[0].error?h.trigger("error"):c.timouts=setTimeout(function(){h[0].complete||c.hasError||b.showLoading(c)},150);if(c.opts.image.protect)d('<div class="fancybox-spaceball"></div>').appendTo(c.$placeholder).on("contextmenu.fb",function(c){2==c.button&&c.preventDefault();return!0})},revealImage:function(c,b){b=b||d.noop;"image"!==c.type||c.hasError||!0===c.isRevealed?b.apply(this):(c.isRevealed=!0,c.pos===this.currPos&&this.zoomInOut("In",c.opts.speed,b)||(c.$ghost&&!c.isLoaded&&
this.updateSlide(c,!0),c.pos===this.currPos?d.fancybox.animate(c.$placeholder,{opacity:0},{opacity:1},300,b):c.$placeholder.show(),b.apply(this)))},setIframe:function(c){var b=this,h=c.opts.iframe,a=c.$slide,k;c.$content=d('<div class="fancybox-content"></div>').css(h.css).appendTo(a);k=d(h.tpl.replace(/\{rnd\}/g,(new Date).getTime())).attr("scrolling",d.fancybox.isTouch?"auto":h.scrolling).appendTo(c.$content);h.preload?(c.$content.addClass("fancybox-tmp"),b.showLoading(c),k.on("load.fb error.fb",
function(d){this.isReady=1;c.$slide.trigger("refresh");b.afterLoad(c)}),a.on("refresh.fb",function(){var b=c.$content,g,d;if(1===k[0].isReady){try{g=k.contents(),d=g.find("body")}catch(a){}d&&d.length&&(h.css.width===l||h.css.height===l)&&(g=k[0].contentWindow.document.documentElement.scrollWidth,g=Math.ceil(d.outerWidth(!0)+(b.width()-g)),d=Math.ceil(d.outerHeight(!0)),b.css({width:h.css.width===l?g+(b.outerWidth()-b.innerWidth()):h.css.width,height:h.css.height===l?d+(b.outerHeight()-b.innerHeight()):
h.css.height}));b.removeClass("fancybox-tmp")}})):this.afterLoad(c);k.attr("src",c.src);c.opts.smallBtn&&c.$content.prepend(c.opts.closeTpl);a.one("onReset",function(){try{d(this).find("iframe").hide().attr("src","//about:blank")}catch(b){}d(this).empty();c.isLoaded=!1})},setContent:function(c,b){this.isClosing||(this.hideLoading(c),c.$slide.empty(),b&&b.hasOwnProperty&&b instanceof d&&b.parent().length?(b.data("placeholder")&&b.parents(".fancybox-slide").trigger("onReset"),b.data({placeholder:d("<div></div>").hide().insertAfter(b)}).css("display",
"inline-block")):("string"===d.type(b)&&(b=d("<div>").append(b).contents(),3===b[0].nodeType&&(b=d("<div>").html(b))),c.opts.selector&&(b=d("<div>").html(b).find(c.opts.selector))),c.$slide.one("onReset",function(){var h=b&&b.hasOwnProperty&&b instanceof d?b.data("placeholder"):0;h&&(b.hide().replaceAll(h),b.data("placeholder",null));c.hasError||(d(this).empty(),c.isLoaded=!1)}),c.$content=d(b).appendTo(c.$slide),!0===c.opts.smallBtn&&c.$content.find(".fancybox-close-small").remove().end().eq(0).append(c.opts.closeTpl),
this.afterLoad(c))},setError:function(c){c.hasError=!0;this.setContent(c,c.opts.errorTpl)},showLoading:function(c){(c=c||this.current)&&!c.$spinner&&(c.$spinner=d(this.opts.spinnerTpl).appendTo(c.$slide))},hideLoading:function(c){(c=c||this.current)&&c.$spinner&&(c.$spinner.remove(),delete c.$spinner)},afterMove:function(){var c=this,b=c.current,h={};b&&(b.$slide.siblings().trigger("onReset"),d.each(c.slides,function(b,g){g.pos>=c.currPos-1&&g.pos<=c.currPos+1?h[g.pos]=g:g&&g.$slide.remove()}),c.slides=
h,c.trigger("afterMove"),b.isLoaded&&c.complete())},afterLoad:function(c){this.isClosing||(c.isLoading=!1,c.isLoaded=!0,this.trigger("afterLoad",c),this.hideLoading(c),c.$ghost||this.updateSlide(c,!0),c.index===this.currIndex&&c.isMoved?this.complete():c.$ghost||this.revealImage(c))},complete:function(){var c=this,b=c.current;c.revealImage(b,function(){b.isComplete=!0;b.$slide.addClass("fancybox-slide--complete");c.updateCursor();c.trigger("onComplete");b.opts.focus&&"image"!==b.type&&"iframe"!==
b.type&&c.focus()})},preload:function(){var c,b;2>this.group.length||(c=this.slides[this.currPos+1],b=this.slides[this.currPos-1],c&&"image"===c.type&&this.loadSlide(c),b&&"image"===b.type&&this.loadSlide(b))},focus:function(){var c=this.current,b;b=c&&c.isComplete?c.$slide.find('button,:input,[tabindex],a:not(".disabled")').filter(":visible:first"):null;b&&b.length||(b=this.$refs.container);b.focus();this.$refs.slider_wrap.scrollLeft(0);c&&c.$slide.scrollTop(0)},activate:function(){var c=this;d(".fancybox-container").each(function(){var b=
d(this).data("FancyBox");b&&b.uid!==c.uid&&!b.isClosing&&b.trigger("onDeactivate")});c.current&&(0<c.$refs.container.index()&&c.$refs.container.prependTo(e.body),c.updateControls());c.trigger("onActivate");c.addEvents()},close:function(c){var b=this,h=b.current,a=h.opts.speed,e=d.proxy(function(){b.cleanUp(c)},this);if(b.isAnimating||b.isClosing)return!1;!1===b.trigger("beforeClose",c)?(d.fancybox.stop(b.$refs.slider),k(function(){b.update(!0,!0,150)})):(b.isClosing=!0,h.timouts&&clearTimeout(h.timouts),
!0!==c&&d.fancybox.stop(b.$refs.slider),b.$refs.container.removeClass("fancybox-container--active").addClass("fancybox-container--closing"),h.$slide.removeClass("fancybox-slide--complete").siblings().remove(),h.isMoved||h.$slide.css("overflow","visible"),b.removeEvents(),b.hideLoading(h),b.hideControls(),b.updateCursor(),b.$refs.bg.css("transition-duration",a+"ms"),this.$refs.container.removeClass("fancybox-container--ready"),!0===c?setTimeout(e,a):b.zoomInOut("Out",a,e)||d.fancybox.animate(b.$refs.container,
null,{opacity:0},a,"easeInSine",e))},cleanUp:function(c){this.$refs.slider.children().trigger("onReset");this.$refs.container.empty().remove();this.trigger("afterClose",c);this.current=null;(c=d.fancybox.getInstance())?c.activate():(d("html").removeClass("fancybox-enabled"),d("body").removeAttr("style"),q.scrollTop(this.scrollTop).scrollLeft(this.scrollLeft),d("#fancybox-noscroll").remove());this.$lastFocus&&this.$lastFocus.focus()},trigger:function(c,b){var a=Array.prototype.slice.call(arguments,
1),k=b&&b.opts?b:this.current,f;k?a.unshift(k):k=this;a.unshift(this);d.isFunction(k.opts[c])&&(f=k.opts[c].apply(k,a));if(!1===f)return f;"afterClose"===c?d(e).trigger(c+".fb",a):this.$refs.container.trigger(c+".fb",a)},toggleControls:function(c){this.isHiddenControls?this.updateControls(c):this.hideControls()},hideControls:function(){this.isHiddenControls=!0;this.$refs.container.removeClass("fancybox-show-controls");this.$refs.container.removeClass("fancybox-show-caption")},updateControls:function(c){var b=
this.$refs.container,a=this.$refs.caption,k=this.current,e=k.index,f=k.opts,l=f.caption;this.isHiddenControls&&!0!==c||(this.isHiddenControls=!1,b.addClass("fancybox-show-controls").toggleClass("fancybox-show-infobar",!!f.infobar&&1<this.group.length).toggleClass("fancybox-show-buttons",!!f.buttons).toggleClass("fancybox-is-modal",!!f.modal),d(".fancybox-button--left",b).toggleClass("fancybox-button--disabled",!f.loop&&0>=e),d(".fancybox-button--right",b).toggleClass("fancybox-button--disabled",!f.loop&&
e>=this.group.length-1),d(".fancybox-button--play",b).toggle(!!(f.slideShow&&1<this.group.length)),d(".fancybox-button--close",b).toggle(!!f.closeBtn),d(".js-fancybox-count",b).html(this.group.length),d(".js-fancybox-index",b).html(e+1),k.$slide.trigger("refresh"),a&&a.empty(),l&&l.length?(a.html(l),this.$refs.container.addClass("fancybox-show-caption "),this.$caption=a):this.$refs.container.removeClass("fancybox-show-caption"))}});d.fancybox={version:"3.0.47",defaults:p,getInstance:function(c){var b=
d('.fancybox-container:not(".fancybox-container--closing"):first').data("FancyBox"),a=Array.prototype.slice.call(arguments,1);return b instanceof t?("string"===d.type(c)?b[c].apply(b,a):"function"===d.type(c)&&c.apply(b,a),b):!1},open:function(c,b,d){return new t(c,b,d)},close:function(c){var b=this.getInstance();b&&(b.close(),!0===c&&this.close())},isTouch:e.createTouch!==l&&/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent),use3d:function(){var b=e.createElement("div");return a.getComputedStyle(b).getPropertyValue("transform")&&
!(e.documentMode&&11>=e.documentMode)}(),getTranslate:function(b){var d,a;if(!b||!b.length)return!1;d=b.get(0).getBoundingClientRect();(a=b.eq(0).css("transform"))&&-1!==a.indexOf("matrix")?(a=a.split("(")[1],a=a.split(")")[0],a=a.split(",")):a=[];a.length?(a=10<a.length?[a[13],a[12],a[0],a[5]]:[a[5],a[4],a[0],a[3]],a=a.map(parseFloat)):a=[0,0,1,1];return{top:a[0],left:a[1],scaleX:a[2],scaleY:a[3],opacity:parseFloat(b.css("opacity")),width:d.width,height:d.height}},setTranslate:function(b,a){var d=
"",k={};if(b&&a){if(a.left!==l||a.top!==l)d=(a.left===l?b.position().top:a.left)+"px, "+(a.top===l?b.position().top:a.top)+"px",d=this.use3d?"translate3d("+d+", 0px)":"translate("+d+")";a.scaleX!==l&&a.scaleY!==l&&(d=(d.length?d+" ":"")+"scale("+a.scaleX+", "+a.scaleY+")");d.length&&(k.transform=d);a.opacity!==l&&(k.opacity=a.opacity);a.width!==l&&(k.width=a.width);a.height!==l&&(k.height=a.height);return b.css(k)}},easing:{easeOutCubic:function(b,a,d,k){return d*((b=b/k-1)*b*b+1)+a},easeInCubic:function(b,
a,d,k){return d*(b/=k)*b*b+a},easeOutSine:function(b,a,d,k){return d*Math.sin(b/k*(Math.PI/2))+a},easeInSine:function(b,a,d,k){return-d*Math.cos(b/k*(Math.PI/2))+d+a}},stop:function(b){b.removeData("animateID")},animate:function(b,a,e,f,m,r){var p=this,q=null,t=0,v,z,A,C=function(){e.scaleX!==l&&e.scaleY!==l&&a&&a.width!==l&&a.height!==l&&(e.width=a.width*e.scaleX,e.height=a.height*e.scaleY,e.scaleX=1,e.scaleY=1);p.setTranslate(b,e);r()},u=function(d){v=[];z=0;if(b.length&&b.data("animateID")===A)if(d=
d||Date.now(),q&&(z=d-q),q=d,t+=z,t>=f)C();else{for(var r in e)e.hasOwnProperty(r)&&a[r]!==l&&(v[r]=a[r]==e[r]?e[r]:p.easing[m](t,a[r],e[r]-a[r],f));p.setTranslate(b,v);k(u)}};p.animateID=A=p.animateID===l?1:p.animateID+1;b.data("animateID",A);r===l&&"function"==d.type(m)&&(r=m,m=l);m||(m="easeOutCubic");r=r||d.noop;a?this.setTranslate(b,a):a=this.getTranslate(b);f?(b.show(),k(u)):C()}};d.fn.fancybox=function(b){this.off("click.fb-start").on("click.fb-start",{items:this,options:b||{}},m);return this};
d(e).on("click.fb-start","[data-fancybox]",m)})(window,document,window.jQuery);
(function(a){var e=function(d,e,p){if(d)return p=p||"","object"===a.type(p)&&(p=a.param(p,!0)),a.each(e,function(a,e){d=d.replace("$"+a,e||"")}),p.length&&(d+=(0<d.indexOf("?")?"&":"?")+p),d},d={youtube:{matcher:/(youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(watch\?(.*&)?v=|v\/|u\/|embed\/?)?(videoseries\?list=(.*)|[\w-]{11}|\?listType=(.*)&list=(.*))(.*)/i,params:{autoplay:1,autohide:1,fs:1,rel:0,hd:1,wmode:"transparent",enablejsapi:1,html5:1},paramPlace:8,type:"iframe",url:"//www.youtube.com/embed/$4",
thumb:"//img.youtube.com/vi/$4/hqdefault.jpg"},vimeo:{matcher:/^.+vimeo.com\/(.*\/)?([\d]+)(.*)?/,params:{autoplay:1,hd:1,show_title:1,show_byline:1,show_portrait:0,fullscreen:1,api:1},paramPlace:3,type:"iframe",url:"//player.vimeo.com/video/$2"},metacafe:{matcher:/metacafe.com\/watch\/(\d+)\/(.*)?/,type:"iframe",url:"//www.metacafe.com/embed/$1/?ap=1"},dailymotion:{matcher:/dailymotion.com\/video\/(.*)\/?(.*)/,params:{additionalInfos:0,autoStart:1},type:"iframe",url:"//www.dailymotion.com/embed/video/$1"},
vine:{matcher:/vine.co\/v\/([a-zA-Z0-9\?\=\-]+)/,type:"iframe",url:"//vine.co/v/$1/embed/simple"},instagram:{matcher:/(instagr\.am|instagram\.com)\/p\/([a-zA-Z0-9_\-]+)\/?/i,type:"image",url:"//$1/p/$2/media/?size=l"},google_maps:{matcher:/(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(((maps\/(place\/(.*)\/)?\@(.*),(\d+.?\d+?)z))|(\?ll=))(.*)?/i,type:"iframe",url:function(a){return"//maps.google."+a[2]+"/?ll="+(a[9]?a[9]+"&z="+Math.floor(a[10])+(a[12]?a[12].replace(/^\//,"&"):""):a[12])+"&output="+
(a[12]&&0<a[12].indexOf("layer=c")?"svembed":"embed")}}};a(document).on("onInit.fb",function(l,m){a.each(m.group,function(l,m){var f=m.src||"",b=!1,k,r,t,c,g,h;m.type||(a.each(d,function(d,l){r=f.match(l.matcher);g={};h=d;if(r){b=l.type;if(l.paramPlace&&r[l.paramPlace]){c=r[l.paramPlace];"?"==c[0]&&(c=c.substring(1));c=c.split("&");for(var p=0;p<c.length;++p){var w=c[p].split("=",2);2==w.length&&(g[w[0]]=decodeURIComponent(w[1].replace(/\+/g," ")))}}t=a.extend(!0,{},l.params,m.opts[d],g);f="function"===
a.type(l.url)?l.url.call(this,r,t,m):e(l.url,r,t);k="function"===a.type(l.thumb)?l.thumb.call(this,r,t,m):e(l.thumb,r);"vimeo"===h&&(f=f.replace("&%23","#"));return!1}}),b?(m.src=f,m.type=b,m.opts.thumb||m.opts.$thumb&&m.opts.$thumb.length||(m.opts.thumb=k),"iframe"===b&&(a.extend(!0,m.opts,{iframe:{preload:!1,scrolling:"no"},smallBtn:!1,closeBtn:!0,fullScreen:!1,slideShow:!1}),m.opts.slideClass+=" fancybox-slide--video")):m.type="iframe")})})})(window.jQuery);
(function(a,e,d){var l=function(){return a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||function(b){a.setTimeout(b,1E3/60)}}(),m=function(b){var d=[];b=b.originalEvent||b||a.e;b=b.touches&&b.touches.length?b.touches:b.changedTouches&&b.changedTouches.length?b.changedTouches:[b];for(var e in b)b[e].pageX?d.push({x:b[e].pageX,y:b[e].pageY}):b[e].clientX&&d.push({x:b[e].clientX,y:b[e].clientY});return d},p=function(b,a,d){return a&&b?"x"===d?b.x-a.x:"y"===d?b.y-a.y:
Math.sqrt(Math.pow(b.x-a.x,2)+Math.pow(b.y-a.y,2)):0},q=function(b){return b.is("a")||b.is("button")||b.is("input")||b.is("select")||b.is("textarea")||d.isFunction(b.get(0).onclick)},f=function(b){this.instance=b;this.$wrap=b.$refs.slider_wrap;this.$slider=b.$refs.slider;this.$container=b.$refs.container;this.destroy();this.$wrap.on("touchstart.fb mousedown.fb",d.proxy(this,"ontouchstart"))};f.prototype.destroy=function(){this.$wrap.off("touchstart.fb mousedown.fb touchmove.fb mousemove.fb touchend.fb touchcancel.fb mouseup.fb mouseleave.fb")};
f.prototype.ontouchstart=function(b){var k=d(b.target),e=this.instance.current,f=e.$content||e.$placeholder;this.startPoints=m(b);this.$target=k;this.$content=f;this.canvasWidth=Math.round(e.$slide[0].clientWidth);this.canvasHeight=Math.round(e.$slide[0].clientHeight);this.startEvent=b;if(b.originalEvent.clientX>this.canvasWidth+e.$slide.offset().left)return!0;if(!(f=q(k)||q(k.parent())))for(;;){var f=k.get(0),c=a.getComputedStyle(f)["overflow-y"],g=a.getComputedStyle(f)["overflow-x"],g=("scroll"===
g||"auto"===g)&&f.scrollWidth>f.clientWidth;if(f=("scroll"===c||"auto"===c)&&f.scrollHeight>f.clientHeight||g)break;k=k.parent();if(!k.length||k.hasClass("fancybox-slider")||k.is("body"))break}if(!f){if(!e.opts.touch)return this.endPoints=this.startPoints,this.ontap();b.originalEvent&&2==b.originalEvent.button||(b.stopPropagation(),b.preventDefault(),!e||this.instance.isAnimating||this.instance.isClosing||!this.startPoints||1<this.startPoints.length&&!e.isMoved||(this.$wrap.off("touchmove.fb mousemove.fb",
d.proxy(this,"ontouchmove")),this.$wrap.off("touchend.fb touchcancel.fb mouseup.fb mouseleave.fb",d.proxy(this,"ontouchend")),this.$wrap.on("touchend.fb touchcancel.fb mouseup.fb mouseleave.fb",d.proxy(this,"ontouchend")),this.$wrap.on("touchmove.fb mousemove.fb",d.proxy(this,"ontouchmove")),this.startTime=(new Date).getTime(),this.distanceX=this.distanceY=this.distance=0,this.isZooming=this.isSwiping=this.isPanning=this.canTap=!1,this.sliderStartPos=d.fancybox.getTranslate(this.$slider),this.contentStartPos=
d.fancybox.getTranslate(this.$content),this.contentLastPos=null,1!==this.startPoints.length||this.isZooming||(this.canTap=e.isMoved,"image"===e.type&&(this.contentStartPos.width>this.canvasWidth+1||this.contentStartPos.height>this.canvasHeight+1)?(d.fancybox.stop(this.$content),this.isPanning=!0):(d.fancybox.stop(this.$slider),this.isSwiping=!0),this.$container.addClass("fancybox-controls--isGrabbing")),2===this.startPoints.length&&e.isMoved&&!e.hasError&&"image"===e.type&&(e.isLoaded||e.$ghost)&&
(this.isZooming=!0,this.isPanning=this.isSwiping=!1,d.fancybox.stop(this.$content),this.centerPointStartX=.5*(this.startPoints[0].x+this.startPoints[1].x)-d(a).scrollLeft(),this.centerPointStartY=.5*(this.startPoints[0].y+this.startPoints[1].y)-d(a).scrollTop(),this.percentageOfImageAtPinchPointX=(this.centerPointStartX-this.contentStartPos.left)/this.contentStartPos.width,this.percentageOfImageAtPinchPointY=(this.centerPointStartY-this.contentStartPos.top)/this.contentStartPos.height,this.startDistanceBetweenFingers=
p(this.startPoints[0],this.startPoints[1]))))}};f.prototype.ontouchmove=function(b){b.preventDefault();if((this.newPoints=m(b))&&this.newPoints.length&&(this.distanceX=p(this.newPoints[0],this.startPoints[0],"x"),this.distanceY=p(this.newPoints[0],this.startPoints[0],"y"),this.distance=p(this.newPoints[0],this.startPoints[0]),0<this.distance))if(this.isSwiping)this.onSwipe();else if(this.isPanning)this.onPan();else if(this.isZooming)this.onZoom()};f.prototype.onSwipe=function(){var b=this,e=b.isSwiping,
f=b.sliderStartPos.left;!0===e?10<Math.abs(b.distance)&&(2>b.instance.group.length?b.isSwiping="y":!b.instance.current.isMoved||!1===b.instance.opts.touch.vertical||"auto"===b.instance.opts.touch.vertical&&800<d(a).width()?b.isSwiping="x":(e=Math.abs(180*Math.atan2(b.distanceY,b.distanceX)/Math.PI),b.isSwiping=45<e&&135>e?"y":"x"),b.canTap=!1,b.instance.current.isMoved=!1,b.startPoints=b.newPoints):("x"==e&&(f=!b.instance.current.opts.loop&&0===b.instance.current.index&&0<b.distanceX?f+Math.pow(b.distanceX,
.8):!b.instance.current.opts.loop&&b.instance.current.index===b.instance.group.length-1&&0>b.distanceX?f-Math.pow(-b.distanceX,.8):f+b.distanceX),b.sliderLastPos={top:"x"==e?0:b.sliderStartPos.top+b.distanceY,left:f},l(function(){d.fancybox.setTranslate(b.$slider,b.sliderLastPos)}))};f.prototype.onPan=function(){var b=this,a;b.canTap=!1;a=b.limitMovement(b.contentStartPos.width>b.canvasWidth?b.contentStartPos.left+b.distanceX:b.contentStartPos.left,b.contentStartPos.top+b.distanceY,b.contentStartPos.width,
b.contentStartPos.height);a.scaleX=b.contentStartPos.scaleX;a.scaleY=b.contentStartPos.scaleY;b.contentLastPos=a;l(function(){d.fancybox.setTranslate(b.$content,b.contentLastPos)})};f.prototype.limitMovement=function(b,a,d,e){var c,f,l,m,p=this.canvasWidth,q=this.canvasHeight,w=this.contentStartPos.left,B=this.contentStartPos.top,y=this.distanceX,v=this.distanceY;c=Math.max(0,.5*p-.5*d);f=Math.max(0,.5*q-.5*e);l=Math.min(p-d,.5*p-.5*d);m=Math.min(q-e,.5*q-.5*e);d>p&&(0<y&&b>c&&(b=c-1+Math.pow(-c+
w+y,.8)||0),0>y&&b<l&&(b=l+1-Math.pow(l-w-y,.8)||0));e>q&&(0<v&&a>f&&(a=f-1+Math.pow(-f+B+v,.8)||0),0>v&&a<m&&(a=m+1-Math.pow(m-B-v,.8)||0));return{top:a,left:b}};f.prototype.limitPosition=function(b,a,d,e){var c=this.canvasWidth,f=this.canvasHeight;d>c?(b=0<b?0:b,b=b<c-d?c-d:b):b=Math.max(0,c/2-d/2);e>f?(a=0<a?0:a,a=a<f-e?f-e:a):a=Math.max(0,f/2-e/2);return{top:a,left:b}};f.prototype.onZoom=function(){var b=this,e=b.contentStartPos.width,f=b.contentStartPos.height,m=b.contentStartPos.left,c=b.contentStartPos.top,
g=p(b.newPoints[0],b.newPoints[1])/b.startDistanceBetweenFingers,h=Math.floor(e*g),q=Math.floor(f*g),e=(e-h)*b.percentageOfImageAtPinchPointX,f=(f-q)*b.percentageOfImageAtPinchPointY,n=(b.newPoints[0].x+b.newPoints[1].x)/2-d(a).scrollLeft(),D=(b.newPoints[0].y+b.newPoints[1].y)/2-d(a).scrollTop(),m={top:c+(f+(D-b.centerPointStartY)),left:m+(e+(n-b.centerPointStartX)),scaleX:b.contentStartPos.scaleX*g,scaleY:b.contentStartPos.scaleY*g};b.canTap=!1;b.newWidth=h;b.newHeight=q;b.contentLastPos=m;l(function(){d.fancybox.setTranslate(b.$content,
b.contentLastPos)})};f.prototype.ontouchend=function(b){var a=this.instance.current,e=Math.max((new Date).getTime()-this.startTime,1),f=this.isSwiping,c=this.isPanning,g=this.isZooming;this.endPoints=m(b);this.$container.removeClass("fancybox-controls--isGrabbing");this.$wrap.off("touchmove.fb mousemove.fb",d.proxy(this,"ontouchmove"));this.$wrap.off("touchend.fb touchcancel.fb mouseup.fb mouseleave.fb",d.proxy(this,"ontouchend"));this.isZooming=this.isPanning=this.isSwiping=!1;if(this.canTap)return this.ontap();
this.velocityX=this.distanceX/e*.5;this.velocityY=this.distanceY/e*.5;this.speed=a.opts.speed||330;this.speedX=Math.max(.75*this.speed,Math.min(1.5*this.speed,1/Math.abs(this.velocityX)*this.speed));this.speedY=Math.max(.75*this.speed,Math.min(1.5*this.speed,1/Math.abs(this.velocityY)*this.speed));c?this.endPanning():g?this.endZooming():this.endSwiping(f)};f.prototype.endSwiping=function(b){"y"==b&&50<Math.abs(this.distanceY)?(d.fancybox.animate(this.$slider,null,{top:this.sliderStartPos.top+this.distanceY+
150*this.velocityY,left:this.sliderStartPos.left,opacity:0},this.speedY),this.instance.close(!0)):"x"==b&&50<this.distanceX?this.instance.previous(this.speedX):"x"==b&&-50>this.distanceX?this.instance.next(this.speedX):this.instance.update(!1,!0,150)};f.prototype.endPanning=function(){var b,a;this.contentLastPos&&(b=this.contentLastPos.left+this.velocityX*this.speed*2,a=this.contentLastPos.top+this.velocityY*this.speed*2,b=this.limitPosition(b,a,this.contentStartPos.width,this.contentStartPos.height),
b.width=this.contentStartPos.width,b.height=this.contentStartPos.height,d.fancybox.animate(this.$content,null,b,this.speed,"easeOutSine"))};f.prototype.endZooming=function(){var b=this.instance.current,a,e,f,c=this.newWidth,g=this.newHeight;this.contentLastPos&&(a=this.contentLastPos.left,e=this.contentLastPos.top,f={top:e,left:a,width:c,height:g,scaleX:1,scaleY:1},d.fancybox.setTranslate(this.$content,f),c<this.canvasWidth&&g<this.canvasHeight?this.instance.scaleToFit(150):c>b.width||g>b.height?
this.instance.scaleToActual(this.centerPointStartX,this.centerPointStartY,150):(b=this.limitPosition(a,e,c,g),d.fancybox.animate(this.$content,null,b,this.speed,"easeOutSine")))};f.prototype.ontap=function(){var b=this,a=b.instance,e=a.current,f=b.endPoints[0].x,c=b.endPoints[0].y,f=f-b.$wrap.offset().left,c=c-b.$wrap.offset().top;a.SlideShow&&a.SlideShow.isActive&&a.SlideShow.stop();if(d.fancybox.isTouch){if(b.tapped){clearTimeout(b.tapped);b.tapped=null;if(50<Math.abs(f-b.x)||50<Math.abs(c-b.y)||
!e.isMoved)return this;"image"==e.type&&(e.isLoaded||e.$ghost)&&(a.canPan()?a.scaleToFit():a.isScaledDown()&&a.scaleToActual(f,c))}else b.x=f,b.y=c,b.tapped=setTimeout(function(){b.tapped=null;a.toggleControls(!0)},300);return this}e.opts.closeClickOutside&&b.$target.is(".fancybox-slide")?a.close(b.startEvent):"image"==e.type&&e.isMoved&&(a.canPan()?a.scaleToFit():a.isScaledDown()?a.scaleToActual(f,c):2>a.group.length&&a.close(b.startEvent))};d(e).on("onActivate.fb",function(b,a){a&&!a.Guestures&&
(a.Guestures=new f(a))});d(e).on("beforeClose.fb",function(b,a){a&&a.Guestures&&a.Guestures.destroy()})})(window,document,window.jQuery);
(function(a,e){var d=function(a){this.instance=a;this.init()};e.extend(d.prototype,{timer:null,isActive:!1,$button:null,speed:3E3,init:function(){var a=this;a.$button=e('<button data-fancybox-play class="fancybox-button fancybox-button--play" title="Slideshow (P)"></button>').appendTo(a.instance.$refs.buttons);a.instance.$refs.container.on("click","[data-fancybox-play]",function(){a.toggle()})},set:function(){var a=this;a.instance&&a.instance.current&&(a.instance.current.opts.loop||a.instance.currIndex<
a.instance.group.length-1)?a.timer=setTimeout(function(){a.instance.next()},a.instance.current.opts.slideShow.speed||a.speed):a.stop()},clear:function(){clearTimeout(this.timer);this.timer=null},start:function(){this.stop();this.instance&&this.instance.current&&(this.instance.current.opts.loop||this.instance.currIndex<this.instance.group.length-1)&&(this.instance.$refs.container.on({"beforeLoad.fb.player":e.proxy(this,"clear"),"onComplete.fb.player":e.proxy(this,"set")}),this.isActive=!0,this.instance.current.isComplete&&
this.set(),this.instance.$refs.container.trigger("onPlayStart"),this.$button.addClass("fancybox-button--pause"))},stop:function(){this.clear();this.instance.$refs.container.trigger("onPlayEnd").off(".player");this.$button.removeClass("fancybox-button--pause");this.isActive=!1},toggle:function(){this.isActive?this.stop():this.start()}});e(a).on("onInit.fb",function(a,e){e&&1<e.group.length&&e.opts.slideShow&&!e.SlideShow&&(e.SlideShow=new d(e))});e(a).on("beforeClose.fb onDeactivate.fb",function(a,
d){d&&d.SlideShow&&d.SlideShow.stop()})})(document,window.jQuery);
(function(a,e){var d=function(){var d=["requestFullscreen exitFullscreen fullscreenElement fullscreenEnabled fullscreenchange fullscreenerror".split(" "),"webkitRequestFullscreen webkitExitFullscreen webkitFullscreenElement webkitFullscreenEnabled webkitfullscreenchange webkitfullscreenerror".split(" "),"webkitRequestFullScreen webkitCancelFullScreen webkitCurrentFullScreenElement webkitCancelFullScreen webkitfullscreenchange webkitfullscreenerror".split(" "),"mozRequestFullScreen mozCancelFullScreen mozFullScreenElement mozFullScreenEnabled mozfullscreenchange mozfullscreenerror".split(" "),
"msRequestFullscreen msExitFullscreen msFullscreenElement msFullscreenEnabled MSFullscreenChange MSFullscreenError".split(" ")],e,l={},f;for(f=0;f<d.length;f++)if((e=d[f])&&e[1]in a){for(f=0;f<e.length;f++)l[d[0][f]]=e[f];return l}return!1}();if(d){var l={request:function(e){e=e||a.documentElement;e[d.requestFullscreen](e.ALLOW_KEYBOARD_INPUT)},exit:function(){a[d.exitFullscreen]()},toggle:function(a){this.isFullscreen()?this.exit():this.request(a)},isFullscreen:function(){return!!a[d.fullscreenElement]},
enabled:function(){return!!a[d.fullscreenEnabled]}};e(a).on({"onInit.fb":function(a,d){var q;d&&d.opts.fullScreen&&!d.FullScreen&&(q=d.$refs.container,d.$refs.button_fs=e('<button data-fancybox-fullscreen class="fancybox-button fancybox-button--fullscreen" title="Full screen (F)"></button>').appendTo(d.$refs.buttons),q.on("click.fb-fullscreen","[data-fancybox-fullscreen]",function(a){a.stopPropagation();a.preventDefault();l.toggle(q[0])}),!0===d.opts.fullScreen.requestOnStart&&l.request(q[0]))},"beforeMove.fb":function(a,
d){d&&d.$refs.button_fs&&d.$refs.button_fs.toggle(!!d.current.opts.fullScreen)},"beforeClose.fb":function(){l.exit()}});e(a).on(d.fullscreenchange,function(){var a=e.fancybox.getInstance(),d=a?a.current.$placeholder:null;d&&(d.css("transition","none"),a.isAnimating=!1,a.update(!0,!0,0))})}})(document,window.jQuery);
(function(a,e){var d=function(a){this.instance=a;this.init()};e.extend(d.prototype,{$button:null,$grid:null,$list:null,isVisible:!1,init:function(){var a=this;a.$button=e('<button data-fancybox-thumbs class="fancybox-button fancybox-button--thumbs" title="Thumbnails (G)"></button>').appendTo(this.instance.$refs.buttons).on("touchend click",function(d){d.stopPropagation();d.preventDefault();a.toggle()})},create:function(){var a=this.instance,d,p;this.$grid=e('<div class="fancybox-thumbs"></div>').appendTo(a.$refs.container);
d="<ul>";e.each(a.group,function(a,e){p=e.opts.thumb||(e.opts.$thumb?e.opts.$thumb.attr("src"):null);p||"image"!==e.type||(p=e.src);p&&p.length&&(d+='<li data-index="'+a+'"  tabindex="0" class="fancybox-thumbs-loading"><img data-src="'+p+'" /></li>')});d+="</ul>";this.$list=e(d).appendTo(this.$grid).on("click touchstart","li",function(){a.jumpTo(e(this).data("index"))});this.$list.find("img").hide().one("load",function(){var a=e(this).parent().removeClass("fancybox-thumbs-loading"),d=a.outerWidth(),
a=a.outerHeight(),b,k,l,m;b=this.naturalWidth||this.width;k=this.naturalHeight||this.height;l=b/d;m=k/a;1<=l&&1<=m&&(l>m?(b/=m,k=a):(b=d,k/=l));e(this).css({width:Math.floor(b),height:Math.floor(k),"margin-top":Math.min(0,Math.floor(.3*a-.3*k)),"margin-left":Math.min(0,Math.floor(.5*d-.5*b))}).show()}).each(function(){this.src=e(this).data("src")})},focus:function(){this.instance.current&&this.$list.children().removeClass("fancybox-thumbs-active").filter('[data-index="'+this.instance.current.index+
'"]').addClass("fancybox-thumbs-active").focus()},close:function(){this.$grid.hide()},update:function(){this.instance.$refs.container.toggleClass("fancybox-container--thumbs",this.isVisible);this.isVisible?(this.$grid||this.create(),this.$grid.show(),this.focus()):this.$grid&&this.$grid.hide();this.instance.update()},hide:function(){this.isVisible=!1;this.update()},show:function(){this.isVisible=!0;this.update()},toggle:function(){this.isVisible?this.hide():this.show()}});e(a).on("onInit.fb",function(a,
e){a=e.group[0];var p=e.group[1];e.opts.thumbs&&!e.Thumbs&&1<e.group.length&&("image"==a.type||a.opts.thumb||a.opts.$thumb)&&("image"==p.type||p.opts.thumb||p.opts.$thumb)&&(e.Thumbs=new d(e))});e(a).on("beforeMove.fb",function(a,d,e){if(a=d&&d.Thumbs)e.modal?(a.$button.hide(),a.hide()):(!0===d.opts.thumbs.showOnStart&&d.firstRun&&a.show(),a.$button.show(),a.isVisible&&a.focus())});e(a).on("beforeClose.fb",function(a,d){d&&d.Thumbs&&(d.Thumbs.isVisible&&!1!==d.opts.thumbs.hideOnClosing&&d.Thumbs.close(),
d.Thumbs=null)})})(document,window.jQuery);
(function(a,e,d){function l(){var a=e.location.hash.substr(1),b=a.split("-"),d=1<b.length&&/^\+?\d+$/.test(b[b.length-1])?parseInt(b.pop(-1),10)||1:1,b=b.join("-");1>d&&(d=1);return{hash:a,index:d,gallery:b}}function m(a){var b;""!==a.gallery&&(b=d("[data-fancybox='"+d.escapeSelector(a.gallery)+"']").eq(a.index-1),b.length?b.trigger("click"):d("#"+d.escapeSelector(a.gallery)+"").trigger("click"))}function p(a){if(!a)return!1;a=a.current?a.current.opts:a.opts;return a.$orig?a.$orig.data("fancybox"):
a.hash||""}d.escapeSelector||(d.escapeSelector=function(a){return(a+"").replace(/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,function(b,a){return a?"\x00"===b?"\ufffd":b.slice(0,-1)+"\\"+b.charCodeAt(b.length-1).toString(16)+" ":"\\"+b})});var q=null;d(function(){setTimeout(function(){!1!==d.fancybox.defaults.hash&&(d(e).on("hashchange.fb",function(){var a=l();d.fancybox.getInstance()?q&&q!==a.gallery+"-"+a.index&&(q=null,d.fancybox.close()):""!==a.gallery&&m(a)}),d(a).on({"onInit.fb":function(a,
b){a=l();var d=p(b);d&&a.gallery&&d==a.gallery&&(b.currIndex=a.index-1)},"beforeMove.fb":function(d,b,k){(d=p(b))&&""!==d&&(0>e.location.hash.indexOf(d)&&(b.opts.origHash=e.location.hash),q=d+(1<b.group.length?"-"+(k.index+1):""),"pushState"in history?history.pushState("",a.title,e.location.pathname+e.location.search+"#"+q):e.location.hash=q)},"beforeClose.fb":function(d,b,k){d=p(b);b=b&&b.opts.origHash?b.opts.origHash:"";d&&""!==d&&("pushState"in history?history.pushState("",a.title,e.location.pathname+
e.location.search+b):e.location.hash=b);q=null}}),m(l()))},50)})})(document,window,window.jQuery);
jQuery(document).ready(function(a){a(".material-content img").not(".directLink").each(function(){a(this).parents("ins").eq(0).length||(a(this).parents("a").eq(0).length?0<a.url(a(this).parents("a").attr("href")).attr("host").search(/overclockers\.ru/i)?a(this).parents("a").attr("data-fancybox","gallery"):a(this).parents("a").attr("target","_blank"):a(this).wrap(a("<a></a>").attr("href",a(this).attr("data-src")).attr("data-fancybox","gallery")))});a(".image-view").attr("data-fancybox","gallery");a(".startFancybox").click(function(e){e.preventDefault();
a("a[data-fancybox^='gallery']:first").click()});a.fancybox.defaults.hash=!1});var next_data_url="",next_data_cache,last_scroll=0,is_loading=0,hide_on_load=!1,similarArray=[],currentPage=1,historyUrl="";function reInitOther(a){"undefined"!=typeof bLazy&&$.isFunction(bLazy)&&bLazy.revalidate();initRegisterLink();bookmarkInit();initRating();replaceSeoHtmlLink("line-page-"+a)}
function loadFollowing(){if(""!=next_data_url){var a=function(a){1==a.error&&showErrorMessage(a.message);1==a.empty&&$(".newsline .all-news").show();$(".newsline.line-data > .ui.grid:last").after(a.response);currentPage=a.currentPage;reInitOther(currentPage);next_data_url=a.nextDataUrl;next_data_cache=!1;$.getJSON(next_data_url,function(a){next_data_cache=a})};is_loading=1;next_data_cache?(a(next_data_cache),is_loading=0):$.getJSON(next_data_url,function(e){a(e);is_loading=0})}}
function mostlyVisible(a){var e=$(window).scrollTop(),d=$(window).height(),l=$(a).offset().top;a=$(a).height();return l+a-.25*a>e&&l<e+.5*d}function initFirstCheck(){if($(window).height()>$("#otherPageContent").height())if(""!=next_data_url)loadFollowing();else{var a=document.createElement("div");a.id="filler";a.style.height=$(window).height()-$("#otherPageContent").height()+"px";$("#otherPageContent").after(a);hide_on_load="filler"}}
function initInfiniteScroll(){$(window).scroll(function(){var a=$(window).scrollTop();a>=.9*($("#otherPageContent").height()-$(window).height())&&0==is_loading&&loadFollowing();Math.abs(a-last_scroll)>.1*$(window).height()&&(last_scroll=a,$(".newsline > .newsline-item").each(function(a){if(mostlyVisible(this)){var d=$(this).attr("data-matid");-1==$.inArray(d,similarArray)&&0<$(".material-similar-"+d).length&&!(0<$(".material-similar-"+d+" .similar-material").length)&&(a=$(this).attr("data-whatid"),
a="/news/getSimilarMaterials?materialId="+d+"&forWhat="+a,similarArray.push(d),$.getJSON(a,function(a){1==a.empty?$(".material-similar-"+d).remove():($(".material-similar-"+d).html(a.response),bLazy.revalidate())}));a=$(this).attr("data-url");var l=$(this).find(".nl-header a.header").text();historyUrl!=a&&(historyUrl=a,history.replaceState(null,null,a));document.title!=l&&(document.title=l);if(0==$(this).data("isload")){$(this).data("isload",1);"undefined"!=typeof ym&&$.isFunction(ym)&&ym(24362446,
"hit",a,{title:l});dataLayer.push({event:"pageviewNewsLine",pageUrl:a,pageTitle:l});var m=document.createElement("img");m.src="//counter.yadro.ru/hit?r"+escape(document.referrer)+("undefined"==typeof screen?"":";s"+screen.width+"*"+screen.height+"*"+(screen.colorDepth?screen.colorDepth:screen.pixelDepth))+";u"+escape(a)+";h"+escape(l.substring(0,80))+";"+Math.random();m.style.position="absolute";m.style.top="-9999px";m.style.left="-9999px";$(this).append(m);controlViewNewsline($(this).data("matid"),
$(this).data("isblog"))}return!1}}))});window.addEventListener("load",initFirstCheck,!1)}function getInfiniteCache(){""!=next_data_url&&$.getJSON(next_data_url,function(a){next_data_cache=a})}
function addRating(a,e){var d=a.data("material-id"),l=a.data("for-what"),m="";l&&(m="&forWhat="+l);e=$.ajax({url:"/rating/add?materialId="+d+"&rating="+e+m,type:"GET",dataType:"jsonp",crossDomain:!0,contentType:"application/json",jsonp:jsonpKey,cache:!1});e.done(function(d,e,f){d=JSON.parse(JSON.stringify(d));1==d.error?showErrorMessage(d.message):(a.hasClass("rating-short")?a.after(d.messageShort).fadeOut(400).fadeIn(800).fadeOut(400).fadeIn(800):$("#curRating").html(d.message).fadeOut(400).fadeIn(800).fadeOut(400).fadeIn(800),
a.rating("disable"))});e.fail(function(a,d,e){showErrorMessage(a.responseText)});e.always(function(){})}function initRating(){$(".ui.rating").rating({initialRating:0,maxRating:5,onRate:function(a){addRating($(this),a)}})}$(function(){initRating()});
function initDonateBox(a,e,d,l){initModalForm("#donateAuthorBox form");$("#donateAuthorBox .header").text("\u0421\u043f\u0430\u0441\u0438\u0431\u043e \u0430\u0432\u0442\u043e\u0440\u0443 "+d+"!");$("#donateAuthorBox form input[name=label]").val(""+a+"::"+e);$("#donateAuthorBox form input[name=targets]").val("\u0421\u043f\u0430\u0441\u0438\u0431\u043e, "+d+"! \u0417\u0430 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b "+e);$("#donateAuthorBox form textarea[name=comment]").val("\u0417\u0430 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b \u2116"+
e+" "+l);$("#donateAuthorBox").modal({onApprove:function(){$("#donateAuthorBox form").submit();return!0},onHidden:function(){}}).modal("show")}
$(function(){$(".newsline-settings .news-filter").dropdown({on:"click"});$(".newsline-settings .newsline-type").dropdown({onChange:function(a,e,d){window.location.href=updateURLParameter(window.location.href,"viewType",a)}});$("#otherPageContent").on("click",".newsline-item .nl-bottom .comment-link",function(){showCommentsInline($(this).data("channel"))});$("#otherPageContent").on("click",".button.comments-show",function(){showCommentsInline($(this).data("channel"))});window.location.hash&&window.location.hash.substring(1).startsWith("comments")&&
(showCommentsInline($("#comments .comments-show").data("channel")),scrollToElement("#comments"))});
function bookmarkInit(){$(".control-bookmark-link").api({action:"controlBookmark",method:"POST",dataType:"json",beforeSend:function(a){a.data=$.extend(a.data,{addAction:$(this).data("add"),forWhat:$(this).data("for-what"),whatId:$(this).data("what-id")});return a},onRequest:function(a,e){$(".control-bookmark-link").find(".control-icon").removeClass("bookmark bookmark outline red");$(".control-bookmark-link").find(".control-icon").addClass("asterisk loading")},onComplete:function(a,e,d){$(".control-bookmark-link").find(".control-icon").removeClass("asterisk loading")},
onSuccess:function(a){2==$(this).data("add")?($(".control-bookmark-link").data("add",0),$(".control-bookmark-link.bookmark-label").find(".control-icon").addClass("bookmark outline"),$(".control-bookmark-link.bookmark-icon-txt").find(".control-icon").addClass("bookmark"),$(".control-bookmark-link.bookmark-icon-txt").find(".icon.label").removeClass("blue")):($(".control-bookmark-link").data("add",2),$(".control-bookmark-link.bookmark-label").find(".control-icon").addClass("bookmark red"),$(".control-bookmark-link.bookmark-icon-txt").find(".control-icon").addClass("bookmark"),
$(".control-bookmark-link.bookmark-icon-txt").find(".icon.label").addClass("blue"));$(".control-bookmark-link.bookmark-icon-txt").find(".status-text").text(a.txtLong)},onFailure:function(a){showErrorMessage(a.message)}})}jQuery(document).ready(function(a){bookmarkInit()});cackle_widget=window.cackle_widget||[];
function cackleChannelInit(a,e,d,l,m,p,q){var f="";1==d&&(f=l);d=100;p&&0<p&&(d=p);cackle_widget=window.cackle_widget||[];cackle_widget.push({widget:"Comment",id:a,container:"mcContainer-"+e,channel:e,countContainer:"cackleRemoteCount-"+e,ratingOff:!0,providers:"vkontakte;facebook;twitter;odnoklassniki;instagram;other;",ssoAuth:f,size:d,theme:q,ssoProvider:{name:"\u0412\u043e\u0439\u0442\u0438 \u0447\u0435\u0440\u0435\u0437 overclockers.ru",url:m,logo:"https://overclockers.ru/assets/logo_micro.png",
width:56,height:30}})}
function replaceSeoHtmlLink(a){a="undefined"===typeof a?"":a+" ";$(a+".over-hiddenlink-html").each(function(){var a=$(this).data("link"),d="_blank";0==a.indexOf("#")&&(d="");if(0==a.indexOf("#")||0<=a.indexOf("overclockers.ru"))d="_self";"undefined"!==typeof a&&0!=a.length&&($(this).attr("href",a),$(this).attr("target",d))});$(a+".hidlink,"+a+".over-hiddenlink").replaceWith(function(){var a=$(this).data("link"),d=' target="_blank" ',l=!1;0==a.indexOf("#")&&(l=!0,d="");if(0==a.indexOf("#")||0<=a.indexOf("overclockers.ru"))d=
' target="_self" ';if("undefined"===typeof a||0==a.length)return $(this).html();var m=$(this).data("desc");if("undefined"===typeof m||0==m.length||"\u0432\u043d\u0435\u0448\u043d\u044f\u044f \u0441\u0441\u044b\u043b\u043a\u0430"==m)m=a;var p=m;80<m.length&&(p=m.substr(0,30)+"..."+m.substr(m.length-30));var q=["class","style","id","onclick"],f="";for(i=0;i<q.length;i++)var b=$(this).data(q[i]),b="undefined"===typeof b||0==b.length?"":" "+q[i]+'="'+b+'" ',f=f+b;return l?'<a href="'+a+'" class="scroll">'+
m+"</a>":'<a href="'+a+'"'+f+' title="'+m+'"'+d+">"+p+"</a>"})}$(function(){replaceSeoHtmlLink();$(".hidlink-img").each(function(){$(this).attr("href",$(this).data("u"));$(this).attr("title",$(this).text())});$(".hidlink-mail").each(function(){$(this).attr("href","mailto:"+$(this).data("mail")+"@overclockers.ru");$(this).attr("title","mail address")})});