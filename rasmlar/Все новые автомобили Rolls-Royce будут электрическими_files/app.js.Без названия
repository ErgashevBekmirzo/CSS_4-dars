/*
 2014, macek <paulmacek@gmail.com>
 @link https://github.com/macek/jquery-serialize-object
 @license BSD
 @version 2.5.0
*/
(function(a){"function"===typeof define&&define.amd?define(a):window.purl=a()})(function(){function a(a,e){a=decodeURI(a);e=N[e?"strict":"loose"].exec(a);a={attr:{},param:{},seg:{}};for(var c=14;c--;)a.attr[x[c]]=e[c]||"";a.param.query=h(a.attr.query);a.param.fragment=h(a.attr.fragment);a.seg.path=a.attr.path.replace(/^\/+|\/+$/g,"").split("/");a.seg.fragment=a.attr.fragment.replace(/^\/+|\/+$/g,"").split("/");a.attr.base=a.attr.host?(a.attr.protocol?a.attr.protocol+"://"+a.attr.host:a.attr.host)+
(a.attr.port?":"+a.attr.port:""):"";return a}function l(a){a=a.tagName;return"undefined"!==typeof a?L[a.toLowerCase()]:a}function F(a,e,h,J){var y=a.shift();if(y){var b=e[h]=e[h]||[];if("]"==y)if(c(b))""!==J&&b.push(J);else if("object"==typeof b){e=a=b;h=[];for(var n in e)e.hasOwnProperty(n)&&h.push(n);a[h.length]=J}else e[h]=[e[h],J];else{~y.indexOf("]")&&(y=y.substr(0,y.length-1));if(!P.test(y)&&c(b))if(0===e[h].length)b=e[h]={};else{n={};for(var A in e[h])n[A]=e[h][A];b=e[h]=n}F(a,b,y,J)}}else c(e[h])?
e[h].push(J):e[h]="object"==typeof e[h]?J:"undefined"==typeof e[h]?J:[e[h],J]}function h(a){return e(String(a).split(/&|;/),function(a,e){try{e=decodeURIComponent(e.replace(/\+/g," "))}catch(h){}var J=e.indexOf("="),y;a:{for(var b=e.length,n,A=0;A<b;++A)if(n=e[A],"]"==n&&(y=!1),"["==n&&(y=!0),"="==n&&!y){y=A;break a}y=void 0}b=e.substr(0,y||J);J=e.substr(y||J,e.length);J=J.substr(J.indexOf("=")+1,J.length);""===b&&(b=e,J="");e=b;if(~e.indexOf("]")){var l=e.split("[");F(l,a,"base",J)}else{if(!P.test(e)&&
c(a.base)){b={};for(l in a.base)b[l]=a.base[l];a.base=b}""!==e&&(l=a.base,b=l[e],"undefined"===typeof b?l[e]=J:c(b)?b.push(J):l[e]=[b,J])}return a},{base:{}}).base}function e(a,e,h){for(var c=0,y=a.length>>0;c<y;)c in a&&(h=e.call(void 0,h,a[c],c,a)),++c;return h}function c(a){return"[object Array]"===Object.prototype.toString.call(a)}function S(e,h){1===arguments.length&&!0===e&&(h=!0,e=void 0);e=e||window.location.toString();return{data:a(e,h||!1),attr:function(a){a=T[a]||a;return"undefined"!==
typeof a?this.data.attr[a]:this.data.attr},param:function(a){return"undefined"!==typeof a?this.data.param.query[a]:this.data.param.query},fparam:function(a){return"undefined"!==typeof a?this.data.param.fragment[a]:this.data.param.fragment},segment:function(a){if("undefined"===typeof a)return this.data.seg.path;a=0>a?this.data.seg.path.length+a:a-1;return this.data.seg.path[a]},fsegment:function(a){if("undefined"===typeof a)return this.data.seg.fragment;a=0>a?this.data.seg.fragment.length+a:a-1;return this.data.seg.fragment[a]}}}
var L={a:"href",img:"src",form:"action",base:"href",script:"src",iframe:"src",link:"href"},x="source protocol authority userInfo user password host port relative path directory file query fragment".split(" "),T={anchor:"fragment"},N={strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/},
P=/^[0-9]+$/;S.jQuery=function(a){null!=a&&(a.fn.url=function(e){var h="";this.length&&(h=a(this).attr(l(this[0]))||"");return S(h,e)},a.url=S)};S.jQuery(window.jQuery);return S});
!function(a,l){"function"==typeof define&&define.amd?define(["exports","jquery"],function(a,h){return l(a,h)}):"undefined"!=typeof exports?(a=require("jquery"),l(exports,a)):l(a,a.jQuery||a.Zepto||a.ender||a.$)}(this,function(a,l){function F(a,c){var S={},L={};this.addPair=function(x){if(!h.validate.test(x.name))return this;var F=x.name;a:switch(l('[name="'+x.name+'"]',c).attr("type")){case "checkbox":x="on"===x.value?!0:x.value;break a;default:x=x.value}for(var N,P=F.match(h.key);void 0!==(N=P.pop());)if(h.push.test(N)){N=
F.replace(/\[\]$/,"");N=(void 0===L[N]&&(L[N]=0),L[N]++);var C=[];x=(C[N]=x,C)}else h.fixed.test(N)?(C=[],x=(C[N]=x,C)):h.named.test(N)&&(C={},x=(C[N]=x,C));return S=a.extend(!0,S,x),this};this.addPairs=function(h){if(!a.isArray(h))throw Error("formSerializer.addPairs expects an Array");for(var c=0,l=h.length;l>c;c++)this.addPair(h[c]);return this};this.serialize=function(){return S};this.serializeJSON=function(){return JSON.stringify(S)}}var h={validate:/^[a-z_][a-z0-9_]*(?:\[(?:\d*|[a-z0-9_]+)\])*$/i,
key:/[a-z0-9_]+|(?=\[\])/gi,push:/^$/,fixed:/^\d+$/,named:/^[a-z0-9_]+$/i};return F.patterns=h,F.serializeObject=function(){return(new F(l,this)).addPairs(this.serializeArray()).serialize()},F.serializeJSON=function(){return(new F(l,this)).addPairs(this.serializeArray()).serializeJSON()},"undefined"!=typeof l.fn&&(l.fn.serializeObject=F.serializeObject,l.fn.serializeJSON=F.serializeJSON),a.FormSerializer=F,F});
(function(a,l,F,h){a.isWindow=a.isWindow||function(a){return null!=a&&a===a.window};l="undefined"!=typeof l&&l.Math==Math?l:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();a.api=a.fn.api=function(e){var c=a.isFunction(this)?a(l):a(this),S=c.selector||"",L=(new Date).getTime(),x=[],F=arguments[0],N="string"==typeof F,P=[].slice.call(arguments,1),C;c.each(function(){var c=a.isPlainObject(e)?a.extend(!0,{},a.fn.api.settings,e):a.extend({},a.fn.api.settings),D=c.namespace,J=c.metadata,
y=c.selector,b=c.error,n=c.className,A="."+D,K="module-"+D,z=a(this),r=z.closest(y.form),H=c.stateContext?a(c.stateContext):z,k,d,f,O,M=this,m=H[0],G=z.data(K),u;u={initialize:function(){N||u.bind.events();u.instantiate()},instantiate:function(){u.verbose("Storing instance of module",u);G=u;z.data(K,G)},destroy:function(){u.verbose("Destroying previous module for",M);z.removeData(K).off(A)},bind:{events:function(){var a=u.get.event();a?(u.verbose("Attaching API events to element",a),z.on(a+A,u.event.trigger)):
"now"==c.on&&(u.debug("Querying API endpoint immediately"),u.query())}},decode:{json:function(a){if(a!==h&&"string"==typeof a)try{a=JSON.parse(a)}catch(b){}return a}},read:{cachedResponse:function(a){var d;if(l.Storage===h)u.error(b.noStorage);else return d=sessionStorage.getItem(a),u.debug("Using cached response",a,d),d=u.decode.json(d)}},write:{cachedResponse:function(d,f){f&&""===f?u.debug("Response empty, not caching",f):l.Storage===h?u.error(b.noStorage):(a.isPlainObject(f)&&(f=JSON.stringify(f)),
sessionStorage.setItem(d,f),u.verbose("Storing cached response for url",d,f))}},query:function(){if(u.is.disabled())u.debug("Element is disabled API request aborted");else{if(u.is.loading())if(c.interruptRequests)u.debug("Interrupting previous request"),u.abort();else{u.debug("Cancelling request, previous request is still pending");return}c.defaultData&&a.extend(!0,c.urlData,u.get.defaultData());c.serializeForm&&(c.data=u.add.formData(c.data));d=u.get.settings();if(!1===d)u.cancelled=!0,u.error(b.beforeSend);
else if(u.cancelled=!1,(f=u.get.templatedURL())||u.is.mocked()){if((f=u.add.urlData(f))||u.is.mocked())d.url=c.base+f,k=a.extend(!0,{},c,{type:c.method||c.type,data:void 0,url:c.base+f,beforeSend:c.beforeXHR,success:function(){},failure:function(){},complete:function(){}}),u.debug("Querying URL",k.url),u.verbose("Using AJAX settings",k),"local"===c.cache&&u.read.cachedResponse(f)?(u.debug("Response returned from local cache"),u.request=u.create.request(),u.request.resolveWith(m,[u.read.cachedResponse(f)])):
c.throttle?c.throttleFirstRequest||u.timer?(u.debug("Throttling request",c.throttle),clearTimeout(u.timer),u.timer=setTimeout(function(){u.timer&&delete u.timer;u.debug("Sending throttled request",void 0,k.method);u.send.request()},c.throttle)):(u.debug("Sending request",void 0,k.method),u.send.request(),u.timer=setTimeout(function(){},c.throttle)):(u.debug("Sending request",void 0,k.method),u.send.request())}else u.error(b.missingURL)}},should:{removeError:function(){return!0===c.hideError||"auto"===
c.hideError&&!u.is.form()}},is:{disabled:function(){return 0<z.filter(y.disabled).length},expectingJSON:function(){return"json"===c.dataType||"jsonp"===c.dataType},form:function(){return z.is("form")||H.is("form")},mocked:function(){return c.mockResponse||c.mockResponseAsync||c.response||c.responseAsync},input:function(){return z.is("input")},loading:function(){return u.request?"pending"==u.request.state():!1},abortedRequest:function(a){if(a&&a.readyState!==h&&0===a.readyState)return u.verbose("XHR request determined to be aborted"),
!0;u.verbose("XHR request was not aborted");return!1},validResponse:function(b){if(!u.is.expectingJSON()||!a.isFunction(c.successTest))return u.verbose("Response is not JSON, skipping validation",c.successTest,b),!0;u.debug("Checking JSON returned success",c.successTest,b);if(c.successTest(b))return u.debug("Response passed success test",b),!0;u.debug("Response failed success test",b);return!1}},was:{cancelled:function(){return u.cancelled||!1},succesful:function(){u.verbose('This behavior will be deleted due to typo. Use "was successful" instead.');
return u.was.successful()},successful:function(){return u.request&&"resolved"==u.request.state()},failure:function(){return u.request&&"rejected"==u.request.state()},complete:function(){return u.request&&("resolved"==u.request.state()||"rejected"==u.request.state())}},add:{urlData:function(d,f){var e,k;d&&(e=d.match(c.regExp.required),k=d.match(c.regExp.optional),f=f||c.urlData,e&&(u.debug("Looking for required URL variables",e),a.each(e,function(e,t){e=-1!==t.indexOf("$")?t.substr(2,t.length-3):
t.substr(1,t.length-2);var q=a.isPlainObject(f)&&f[e]!==h?f[e]:z.data(e)!==h?z.data(e):H.data(e)!==h?H.data(e):f[e];if(q===h)return u.error(b.requiredParameter,e,d),d=!1;u.verbose("Found required variable",e,q);q=c.encodeParameters?u.get.urlEncodedValue(q):q;d=d.replace(t,q)})),k&&(u.debug("Looking for optional URL variables",e),a.each(k,function(b,e){b=-1!==e.indexOf("$")?e.substr(3,e.length-4):e.substr(2,e.length-3);var q=a.isPlainObject(f)&&f[b]!==h?f[b]:z.data(b)!==h?z.data(b):H.data(b)!==h?H.data(b):
f[b];q!==h?(u.verbose("Optional variable Found",b,q),d=d.replace(e,q)):(u.verbose("Optional variable not found",b),d=-1!==d.indexOf("/"+e)?d.replace("/"+e,""):d.replace(e,""))})));return d},formData:function(d){var f=a.fn.serializeObject!==h,e=f?r.serializeObject():r.serialize();d=d||c.data;a.isPlainObject(d)?f?(u.debug("Extending existing data with form data",d,e),d=a.extend(!0,{},d,e)):(u.error(b.missingSerialize),u.debug("Cant extend data. Replacing data with form data",d,e),d=e):(u.debug("Adding form data",
e),d=e);return d}},send:{request:function(){u.set.loading();u.request=u.create.request();u.is.mocked()?u.mockedXHR=u.create.mockedXHR():u.xhr=u.create.xhr();c.onRequest.call(m,u.request,u.xhr)}},event:{trigger:function(a){u.query();"submit"!=a.type&&"click"!=a.type||a.preventDefault()},xhr:{always:function(){},done:function(b,d,f){var e=this;d=(new Date).getTime()-O;d=c.loadingDuration-d;var h=a.isFunction(c.onResponse)?u.is.expectingJSON()&&!c.rawResponse?c.onResponse.call(e,a.extend(!0,{},b)):c.onResponse.call(e,
b):!1;d=0<d?d:0;h&&(u.debug("Modified API response in onResponse callback",c.onResponse,h,b),b=h);0<d&&u.debug("Response completed early delaying state change by",d);setTimeout(function(){u.is.validResponse(b)?u.request.resolveWith(e,[b,f]):u.request.rejectWith(e,[f,"invalid"])},d)},fail:function(a,b,d){var f=this,e=(new Date).getTime()-O,e=c.loadingDuration-e,e=0<e?e:0;0<e&&u.debug("Response completed early delaying state change by",e);setTimeout(function(){u.is.abortedRequest(a)?u.request.rejectWith(f,
[a,"aborted",d]):u.request.rejectWith(f,[a,"error",b,d])},e)}},request:{done:function(a,b){u.debug("Successful API Response",a);"local"===c.cache&&f&&(u.write.cachedResponse(f,a),u.debug("Saving server response locally",u.cache));c.onSuccess.call(m,a,z,b)},complete:function(a,b){u.was.successful()||(b=a,a=u.get.responseFromXHR(b));u.remove.loading();c.onComplete.call(m,a,z,b)},fail:function(a,d,f){var e=u.get.responseFromXHR(a),n=u.get.errorFromRequest(e,d,f);if("aborted"==d)return u.debug("XHR Aborted (Most likely caused by page navigation or CORS Policy)",
d,f),c.onAbort.call(m,d,z,a),!0;"invalid"==d?u.debug("JSON did not pass success test. A server-side error has most likely occurred",e):"error"==d&&a!==h&&(u.debug("XHR produced a server error",d,f),(200>a.status||300<=a.status)&&f!==h&&""!==f&&u.error(b.statusMessage+f,k.url),c.onError.call(m,n,z,a));c.errorDuration&&"aborted"!==d&&(u.debug("Adding error state"),u.set.error(),u.should.removeError()&&setTimeout(u.remove.error,c.errorDuration));u.debug("API Request failed",n,a);c.onFailure.call(m,e,
z,a)}}},create:{request:function(){return a.Deferred().always(u.event.request.complete).done(u.event.request.done).fail(u.event.request.fail)},mockedXHR:function(){var b=c.mockResponse||c.response,f=c.mockResponseAsync||c.responseAsync,e;e=a.Deferred().always(u.event.xhr.complete).done(u.event.xhr.done).fail(u.event.xhr.fail);b?(a.isFunction(b)?(u.debug("Using specified synchronous callback",b),f=b.call(m,d)):(u.debug("Using settings specified response",b),f=b),e.resolveWith(m,[f,!1,{responseText:f}])):
a.isFunction(f)&&(b=function(a){u.debug("Async callback returned response",a);a?e.resolveWith(m,[a,!1,{responseText:a}]):e.rejectWith(m,[{responseText:a},!1,!1])},u.debug("Using specified async response callback",f),f.call(m,d,b));return e},xhr:function(){var b;b=a.ajax(k).always(u.event.xhr.always).done(u.event.xhr.done).fail(u.event.xhr.fail);u.verbose("Created server request",b,k);return b}},set:{error:function(){u.verbose("Adding error state to element",H);H.addClass(n.error)},loading:function(){u.verbose("Adding loading state to element",
H);H.addClass(n.loading);O=(new Date).getTime()}},remove:{error:function(){u.verbose("Removing error state from element",H);H.removeClass(n.error)},loading:function(){u.verbose("Removing loading state from element",H);H.removeClass(n.loading)}},get:{responseFromXHR:function(b){return a.isPlainObject(b)?u.is.expectingJSON()?u.decode.json(b.responseText):b.responseText:!1},errorFromRequest:function(b,d,f){return a.isPlainObject(b)&&b.error!==h?b.error:c.error[d]!==h?c.error[d]:f},request:function(){return u.request||
!1},xhr:function(){return u.xhr||!1},settings:function(){var d;if(d=c.beforeSend.call(z,c))d.success!==h&&(u.debug("Legacy success callback detected",d),u.error(b.legacyParameters,d.success),d.onSuccess=d.success),d.failure!==h&&(u.debug("Legacy failure callback detected",d),u.error(b.legacyParameters,d.failure),d.onFailure=d.failure),d.complete!==h&&(u.debug("Legacy complete callback detected",d),u.error(b.legacyParameters,d.complete),d.onComplete=d.complete);d===h&&u.error(b.noReturnedValue);return!1===
d?d:d!==h?a.extend(!0,{},d):a.extend(!0,{},c)},urlEncodedValue:function(a){var b=l.decodeURIComponent(a),d=l.encodeURIComponent(a);if(b!==a)return u.debug("URL value is already encoded, avoiding double encoding",a),a;u.verbose("Encoding value using encodeURIComponent",a,d);return d},defaultData:function(){var b={};a.isWindow(M)||(u.is.input()?b.value=z.val():u.is.form()||(b.text=z.text()));return b},event:function(){return a.isWindow(M)||"now"==c.on?(u.debug("API called without element, no events attached"),
!1):"auto"==c.on?z.is("input")?M.oninput!==h?"input":M.onpropertychange!==h?"propertychange":"keyup":z.is("form")?"submit":"click":c.on},templatedURL:function(a){a=a||z.data(J.action)||c.action||!1;if(f=z.data(J.url)||c.url||!1)return u.debug("Using specified url",f),f;if(a){u.debug("Looking up url for action",a,c.api);if(c.api[a]===h&&!u.is.mocked()){u.error(b.missingAction,c.action,c.api);return}f=c.api[a]}else u.is.form()&&(f=z.attr("action")||H.attr("action")||!1,u.debug("No url or action specified, defaulting to form action",
f));return f}},abort:function(){var a=u.get.xhr();a&&"resolved"!==a.state()&&(u.debug("Cancelling API request"),a.abort())},reset:function(){u.remove.error();u.remove.loading()},setting:function(b,d){u.debug("Changing setting",b,d);if(a.isPlainObject(b))a.extend(!0,c,b);else if(d!==h)a.isPlainObject(c[b])?a.extend(!0,c[b],d):c[b]=d;else return c[b]},internal:function(b,d){if(a.isPlainObject(b))a.extend(!0,u,b);else if(d!==h)u[b]=d;else return u[b]},debug:function(){!c.silent&&c.debug&&(c.performance?
u.performance.log(arguments):(u.debug=Function.prototype.bind.call(console.info,console,c.name+":"),u.debug.apply(console,arguments)))},verbose:function(){!c.silent&&c.verbose&&c.debug&&(c.performance?u.performance.log(arguments):(u.verbose=Function.prototype.bind.call(console.info,console,c.name+":"),u.verbose.apply(console,arguments)))},error:function(){c.silent||(u.error=Function.prototype.bind.call(console.error,console,c.name+":"),u.error.apply(console,arguments))},performance:{log:function(a){var b,
d;c.performance&&(b=(new Date).getTime(),d=L||b,d=b-d,L=b,x.push({Name:a[0],Arguments:[].slice.call(a,1)||"","Execution Time":d}));clearTimeout(u.performance.timer);u.performance.timer=setTimeout(u.performance.display,500)},display:function(){var b=c.name+":",d=0;L=!1;clearTimeout(u.performance.timer);a.each(x,function(a,b){d+=b["Execution Time"]});b+=" "+d+"ms";S&&(b+=" '"+S+"'");(console.group!==h||console.table!==h)&&0<x.length&&(console.groupCollapsed(b),console.table?console.table(x):a.each(x,
function(a,b){console.log(b.Name+": "+b["Execution Time"]+"ms")}),console.groupEnd());x=[]}},invoke:function(d,f,e){var c=G,k,t,q;f=f||P;e=M||e;"string"==typeof d&&c!==h&&(d=d.split(/[\. ]/),k=d.length-1,a.each(d,function(v,f){var e=v!=k?f+d[v+1].charAt(0).toUpperCase()+d[v+1].slice(1):d;if(a.isPlainObject(c[e])&&v!=k)c=c[e];else{if(c[e]!==h)return t=c[e],!1;if(a.isPlainObject(c[f])&&v!=k)c=c[f];else return c[f]!==h?t=c[f]:u.error(b.method,d),!1}}));a.isFunction(t)?q=t.apply(e,f):t!==h&&(q=t);Array.isArray(C)?
C.push(q):C!==h?C=[C,q]:q!==h&&(C=q);return t}};N?(G===h&&u.initialize(),u.invoke(F)):(G!==h&&G.invoke("destroy"),u.initialize())});return C!==h?C:this};a.api.settings={name:"API",namespace:"api",debug:!1,verbose:!1,performance:!0,api:{},cache:!0,interruptRequests:!0,on:"auto",stateContext:!1,loadingDuration:0,hideError:"auto",errorDuration:2E3,encodeParameters:!0,action:!1,url:!1,base:"",urlData:{},defaultData:!0,serializeForm:!1,throttle:0,throttleFirstRequest:!0,method:"get",data:{},dataType:"json",
mockResponse:!1,mockResponseAsync:!1,response:!1,responseAsync:!1,rawResponse:!1,beforeSend:function(a){return a},beforeXHR:function(a){},onRequest:function(a,c){},onResponse:!1,onSuccess:function(a,c){},onComplete:function(a,c){},onFailure:function(a,c){},onError:function(a,c){},onAbort:function(a,c){},successTest:!1,error:{beforeSend:"The before send function has aborted the request",error:"There was an error with your request",exitConditions:"API Request Aborted. Exit conditions met",JSONParse:"JSON could not be parsed during error handling",
legacyParameters:"You are using legacy API success callback names",method:"The method you called is not defined",missingAction:"API action used but no url was defined",missingSerialize:"jquery-serialize-object is required to add form data to an existing data object",missingURL:"No URL specified for api event",noReturnedValue:"The beforeSend callback must return a settings object, beforeSend ignored.",noStorage:"Caching responses locally requires session storage",parseError:"There was an error parsing your request",
requiredParameter:"Missing a required URL parameter: ",statusMessage:"Server gave an error: ",timeout:"Your request timed out"},regExp:{required:/\{\$*[A-z0-9]+\}/g,optional:/\{\/\$*[A-z0-9]+\}/g},className:{loading:"loading",error:"error"},selector:{disabled:".disabled",form:"form"},metadata:{action:"action",url:"url"}}})(jQuery,window,document);
(function(a,l,F,h){a.isFunction=a.isFunction||function(a){return"function"===typeof a&&"number"!==typeof a.nodeType};l="undefined"!=typeof l&&l.Math==Math?l:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();a.fn.calendar=function(e){var c=a(this),S=c.selector||"",L=(new Date).getTime(),x=[],T=arguments[0],N="string"==typeof T,P=[].slice.call(arguments,1),C,I={5:{row:4,column:3},10:{row:3,column:2},15:{row:2,column:2},20:{row:3,column:1},30:{row:2,column:1}},D=" one two three four five six seven eight".split(" ");
c.each(function(){var c=a.isPlainObject(e)?a.extend(!0,{},a.fn.calendar.settings,e):a.extend({},a.fn.calendar.settings),y=c.className,b=c.namespace,n=c.selector,A=c.formatter,K=c.parser,z=c.metadata,r=I[c.minTimeGap],H=c.error,k="."+b,d="module-"+b,f=a(this),O=f.find(n.input),M=f.find(n.popup),m=f.find(n.activator),G=this,u=f.data(d),E,Q=!1,V=f.hasClass(y.inverted),R=!1,B=!1,t,q;q={initialize:function(){q.debug("Initializing calendar for",G,f);E=q.get.isTouch();q.setup.config();q.setup.popup();q.setup.inline();
q.setup.input();q.setup.date();q.create.calendar();q.bind.events();q.observeChanges();q.instantiate()},instantiate:function(){q.verbose("Storing instance of calendar");u=q;f.data(d,u)},destroy:function(){q.verbose("Destroying previous calendar for",G);f.removeData(d);q.unbind.events();q.disconnect.classObserver()},setup:{config:function(){null!==q.get.minDate()&&q.set.minDate(f.data(z.minDate));null!==q.get.maxDate()&&q.set.maxDate(f.data(z.maxDate));q.setting("type",q.get.type());q.setting("on",
c.on||(O.length?"focus":"click"))},popup:function(){if(!c.inline){if(!m.length&&(m=f.children().first(),!m.length))return;if(a.fn.popup===h)q.error(H.popup);else{if(!M.length){var v=m.parent(),b=0!==v.closest(n.append).length?"appendTo":"prependTo";M=a("<div/>").addClass(y.popup)[b](v)}M.addClass(y.calendar);V&&M.addClass(y.inverted);v=function(){q.refreshTooltips();return c.onVisible.apply(M,arguments)};b=c.onHidden;O.length||(M.attr("tabindex","0"),v=function(){q.refreshTooltips();q.focus();return c.onVisible.apply(M,
arguments)},b=function(){q.blur();return c.onHidden.apply(M,arguments)});var d=q.setting("on"),v=a.extend({},c.popupOptions,{popup:M,on:d,hoverable:"hover"===d,closable:"click"===d,onShow:function(){q.set.focusDate(q.get.date());q.set.mode(q.get.validatedMode(c.startMode));return c.onShow.apply(M,arguments)},onVisible:v,onHide:c.onHide,onHidden:b});q.popup(v)}}},inline:function(){if(!m.length||c.inline)c.inline=!0,M=a("<div/>").addClass(y.calendar).appendTo(f),O.length||M.attr("tabindex","0")},input:function(){c.touchReadonly&&
O.length&&E&&O.prop("readonly",!0);q.check.disabled()},date:function(){var a;c.initialDate?a=K.date(c.initialDate,c):f.data(z.date)!==h?a=K.date(f.data(z.date),c):O.length&&(a=K.date(O.val(),c));q.set.date(a,c.formatInput,!1);q.set.mode(q.get.mode(),!1)}},trigger:{change:function(){var a=O[0];if(a){var b=F.createEvent("HTMLEvents");q.verbose("Triggering native change event");b.initEvent("change",!0,!1);a.dispatchEvent(b)}}},create:{calendar:function(){var b,d,f,e,t,k,m,p=q.get.mode(),n=new Date,u=
q.get.date(),O=q.get.focusDate(),G=q.helper.dateInRange(O||u||c.initialDate||n);O||(O=G,q.set.focusDate(O,!1,!1));var B="year"===p,l="month"===p,I="day"===p,K="hour"===p,E="minute"===p,C="time"===c.type;e=Math.max(c.multiMonth,1);var S=I?q.get.monthOffset():0,g=G.getMinutes(),Z=G.getHours(),ka=G.getDate(),S=G.getMonth()+S,G=G.getFullYear(),oa=I?c.showWeekNumbers?8:7:K?4:r.column,pa=I||K?6:r.row,H=I?e:1,R=M,L=R.hasClass("left")?"right center":"left center";R.empty();1<H&&(m=a("<div/>").addClass(y.grid).appendTo(R));
for(e=0;e<H;e++){1<H&&(R=a("<div/>").addClass(y.column).appendTo(m));var x=S+e;d=((new Date(G,x,1)).getDay()-c.firstDayOfWeek%7+7)%7;!c.constantHeight&&I&&(pa=(new Date(G,x+1,0)).getDate()+d,pa=Math.ceil(pa/7));var Q=B?10:l?1:0,F=I?1:0;k=K||E?1:0;t=K||E?ka:1;b=new Date(G-Q,x-F,t-k,Z);var N=new Date(G+Q,x+F,t+k,Z),P=B?new Date(10*Math.ceil(G/10)-9,0,0):l?new Date(G,0,0):I?new Date(G,x,0):new Date(G,x,ka,-1);f=B?new Date(10*Math.ceil(G/10)+1,0,1):l?new Date(G+1,0,1):I?new Date(G,x+1,1):new Date(G,x,
ka+1);Q=p;I&&c.showWeekNumbers&&(Q+=" andweek");Q=a("<table/>").addClass(y.table).addClass(Q).addClass(D[oa]+" column").appendTo(R);V&&Q.addClass(y.inverted);F=oa;if(!C){var T=a("<thead/>").appendTo(Q);t=a("<tr/>").appendTo(T);k=a("<th/>").attr("colspan",""+oa).appendTo(t);t=B||l?new Date(G,0,1):I?new Date(G,x,1):new Date(G,x,ka,Z,g);var fa=a("<span/>").addClass(y.link).appendTo(k);fa.text(A.header(t,p,c));fa.data(z.mode,l?c.disableYear?"day":"year":I?c.disableMonth?"year":"month":"day");0===e&&(t=
a("<span/>").addClass(y.prev).appendTo(k),t.data(z.focusDate,b),t.toggleClass(y.disabledCell,!q.helper.isDateInRange(P,p)),a("<i/>").addClass(y.prevIcon).appendTo(t));e===H-1&&(k=a("<span/>").addClass(y.next).appendTo(k),k.data(z.focusDate,N),k.toggleClass(y.disabledCell,!q.helper.isDateInRange(f,p)),a("<i/>").addClass(y.nextIcon).appendTo(k));if(I)for(t=a("<tr/>").appendTo(T),c.showWeekNumbers&&(k=a("<th/>").appendTo(t),k.text(c.text.weekNo),k.addClass(y.weekCell),F--),b=0;b<F;b++)k=a("<th/>").appendTo(t),
k.text(A.dayColumnHeader((b+c.firstDayOfWeek)%7,c))}N=a("<tbody/>").appendTo(Q);b=B?10*Math.ceil(G/10)-9:I?1-d:0;for(d=0;d<pa;d++)for(t=a("<tr/>").appendTo(N),I&&c.showWeekNumbers&&(k=a("<th/>").appendTo(t),k.text(q.get.weekOfYear(G,x,b+1-c.firstDayOfWeek)),k.addClass(y.weekCell)),f=0;f<F;f++,b++){P=B?new Date(b,x,1,Z,g):l?new Date(G,b,1,Z,g):I?new Date(G,x,b,Z,g):K?new Date(G,x,ka,b):new Date(G,x,ka,Z,b*c.minTimeGap);T=B?b:l?c.text.monthsShort[b]:I?P.getDate():A.time(P,c,!0);k=a("<td/>").addClass(y.cell).appendTo(t);
k.text(T);k.data(z.date,P);var T=I&&P.getMonth()!==(x+12)%12,fa=!c.selectAdjacentDays&&T||!q.helper.isDateInRange(P,p)||c.isDisabled(P,p)||q.helper.isDisabled(P,p)||!q.helper.isEnabled(P,p),aa;if(fa){var ba=q.helper.findDayAsObject(P,p,c.disabledDates);null!==ba&&ba[z.message]&&(k.attr("data-tooltip",ba[z.message]),k.attr("data-position",ba[z.position]||L),(ba[z.inverted]||V&&ba[z.inverted]===h)&&k.attr("data-inverted",""),ba[z.variation]&&k.attr("data-variation",ba[z.variation]))}else aa=q.helper.findDayAsObject(P,
p,c.eventDates),null!==aa&&(k.addClass(aa[z.class]||c.eventClass),aa[z.message]&&(k.attr("data-tooltip",aa[z.message]),k.attr("data-position",aa[z.position]||L),(aa[z.inverted]||V&&aa[z.inverted]===h)&&k.attr("data-inverted",""),aa[z.variation]&&k.attr("data-variation",aa[z.variation])));var ba=q.helper.dateEqual(P,u,p),sa=q.helper.dateEqual(P,n,p);k.toggleClass(y.adjacentCell,T&&!aa);k.toggleClass(y.disabledCell,fa);k.toggleClass(y.activeCell,ba&&!(T&&fa));K||E||k.toggleClass(y.todayCell,!T&&sa);
A.cell(k,P,{mode:p,adjacent:T,disabled:fa,active:ba,today:sa});q.helper.dateEqual(P,O,p)&&q.set.focusDate(P,!1,!1)}c.today&&(x=a("<tr/>").appendTo(N),x=a("<td/>").attr("colspan",""+oa).addClass(y.today).appendTo(x),x.text(A.today(c)),x.data(z.date,n));q.update.focus(!1,Q);c.inline&&q.refreshTooltips()}}},update:{focus:function(b,d){d=d||M;var f=q.get.mode(),e=q.get.date(),t=q.get.focusDate(),h=q.get.startDate(),k=q.get.endDate(),p=(b?t:null)||e||(E?null:t);d.find("td").each(function(){var b=a(this),
d=b.data(z.date);if(d){var v=b.hasClass(y.disabledCell),e=b.hasClass(y.activeCell),U=b.hasClass(y.adjacentCell),m=q.helper.dateEqual(d,t,f),d=p?!!h&&q.helper.isDateInRange(d,f,h,p)||!!k&&q.helper.isDateInRange(d,f,p,k):!1;b.toggleClass(y.focusCell,m&&(!E||Q)&&(!U||c.selectAdjacentDays&&U)&&!v);q.helper.isTodayButton(b)||b.toggleClass(y.rangeCell,d&&!e&&!v)}})}},refresh:function(){q.create.calendar()},refreshTooltips:function(){var b=a(l).width();M.find("td[data-position]").each(function(){var d=a(this),
c=l.getComputedStyle(d[0],":after").width.replace(/[^0-9\.]/g,""),f=d.attr("data-position"),c=b-d.width()-(parseInt(c,10)||250)>d.offset().left?"right":"left";-1===f.indexOf(c)&&d.attr("data-position",f.replace(/(left|right)/,c))})},bind:{events:function(){q.debug("Binding events");M.on("mousedown"+k,q.event.mousedown);M.on("touchstart"+k,q.event.mousedown);M.on("mouseup"+k,q.event.mouseup);M.on("touchend"+k,q.event.mouseup);M.on("mouseover"+k,q.event.mouseover);if(O.length)O.on("input"+k,q.event.inputChange),
O.on("focus"+k,q.event.inputFocus),O.on("blur"+k,q.event.inputBlur),O.on("keydown"+k,q.event.keydown);else M.on("keydown"+k,q.event.keydown)}},unbind:{events:function(){q.debug("Unbinding events");M.off(k);O.length&&O.off(k)}},event:{mouseover:function(b){var d=a(b.target).data(z.date);b=1===b.buttons;d&&q.set.focusDate(d,!1,!0,b)},mousedown:function(b){O.length&&b.preventDefault();Q=0<=b.type.indexOf("touch");(b=a(b.target).data(z.date))&&q.set.focusDate(b,!1,!0,!0)},mouseup:function(b){q.focus();
b.preventDefault();b.stopPropagation();Q=!1;b=a(b.target);if(!b.hasClass("disabled")){var d=b.parent();if(d.data(z.date)||d.data(z.focusDate)||d.data(z.mode))b=d;var d=b.data(z.date),f=b.data(z.focusDate),e=b.data(z.mode);d&&!1!==c.onSelect.call(G,d,q.get.mode())?(b=b.hasClass(y.today),q.selectDate(d,b)):f?q.set.focusDate(f):e&&q.set.mode(e)}},keydown:function(a){var b=a.which;27!==b&&9!==b||q.popup("hide");if(q.popup("is visible"))if(37===b||38===b||39===b||40===b){var d=q.get.mode(),f="day"===d?
7:"hour"===d?4:"minute"===d?r.column:3,e;e=(37===b?-1:38===b?-f:39==b?1:f)*("minute"===d?c.minTimeGap:1);var f=q.get.focusDate()||q.get.date()||new Date,t=f.getFullYear()+("year"===d?e:0),h=f.getMonth()+("month"===d?e:0),k=f.getDate()+("day"===d?e:0),m=f.getHours()+("hour"===d?e:0);e=f.getMinutes()+("minute"===d?e:0);t=new Date(t,h,k,m,e);"time"===c.type&&(t=q.helper.mergeDateTime(f,t));q.helper.isDateInRange(t,d)&&q.set.focusDate(t)}else 13===b&&(d=q.get.mode(),(f=q.get.focusDate())&&!c.isDisabled(f,
d)&&!q.helper.isDisabled(f,d)&&q.helper.isEnabled(f,d)&&q.selectDate(f),a.preventDefault(),a.stopPropagation());if(38===b||40===b)a.preventDefault(),q.popup("show")},inputChange:function(){var a=O.val(),a=K.date(a,c);q.set.date(a,!1)},inputFocus:function(){M.addClass(y.active)},inputBlur:function(){M.removeClass(y.active);if(c.formatInput){var a=q.get.date(),a=A.datetime(a,c);O.val(a)}B&&(q.trigger.change(),B=!1)},class:{mutation:function(a){a.forEach(function(a){"class"===a.attributeName&&q.check.disabled()})}}},
observeChanges:function(){"MutationObserver"in l&&(t=new MutationObserver(q.event.class.mutation),q.debug("Setting up mutation observer",t),q.observe.class())},disconnect:{classObserver:function(){O.length&&t&&t.disconnect()}},observe:{class:function(){O.length&&t&&t.observe(f[0],{attributes:!0})}},is:{disabled:function(){return f.hasClass(y.disabled)}},check:{disabled:function(){O.attr("tabindex",q.is.disabled()?-1:0)}},get:{weekOfYear:function(a,b,d){a=Date.UTC(a,b,d+3)/864E5;a=Math.floor(a/7);
b=(new Date(6048E5*a)).getUTCFullYear();return a-Math.floor(Date.UTC(b,0,7)/6048E5)+1},date:function(){return q.helper.sanitiseDate(f.data(z.date))||null},inputDate:function(){return O.val()},focusDate:function(){return f.data(z.focusDate)||null},startDate:function(){var a=q.get.calendarModule(c.startCalendar);return(a?a.get.date():f.data(z.startDate))||null},endDate:function(){var a=q.get.calendarModule(c.endCalendar);return(a?a.get.date():f.data(z.endDate))||null},minDate:function(){return f.data(z.minDate)||
null},maxDate:function(){return f.data(z.maxDate)||null},monthOffset:function(){return f.data(z.monthOffset)||0},mode:function(){var a=f.data(z.mode)||c.startMode;return q.get.validatedMode(a)},validatedMode:function(b){var d=q.get.validModes();return 0<=a.inArray(b,d)?b:"time"===c.type?"hour":"month"===c.type?"month":"year"===c.type?"year":"day"},type:function(){return f.data(z.type)||c.type},validModes:function(){var a=[];"time"!==c.type&&(c.disableYear&&"year"!==c.type||a.push("year"),(!c.disableMonth&&
"year"!==c.type||"month"===c.type)&&a.push("month"),0<=c.type.indexOf("date")&&a.push("day"));0<=c.type.indexOf("time")&&(a.push("hour"),c.disableMinute||a.push("minute"));return a},isTouch:function(){try{return F.createEvent("TouchEvent"),!0}catch(a){return!1}},calendarModule:function(b){if(!b)return null;b instanceof a||(b=a(b).first());return b.data(d)}},set:{date:function(a,b,d){b=!1!==b;d=!1!==d;a=q.helper.sanitiseDate(a);a=q.helper.dateInRange(a);var f=q.get.mode(),e=A.datetime(a,c);if(d&&!1===
c.onBeforeChange.call(G,a,e,f))return!1;q.set.focusDate(a);if(c.isDisabled(a,f))return!1;var t=q.get.endDate();t&&a&&a>t&&q.set.endDate(h);q.set.dataKeyValue(z.date,a);b&&O.length&&O.val(e);d&&c.onChange.call(G,a,e,f)},startDate:function(a,b){a=q.helper.sanitiseDate(a);var d=q.get.calendarModule(c.startCalendar);d&&d.set.date(a);q.set.dataKeyValue(z.startDate,a,b)},endDate:function(a,b){a=q.helper.sanitiseDate(a);var d=q.get.calendarModule(c.endCalendar);d&&d.set.date(a);q.set.dataKeyValue(z.endDate,
a,b)},focusDate:function(a,b,d,c){a=q.helper.sanitiseDate(a);a=q.helper.dateInRange(a);var f="day"===q.get.mode(),e=q.get.focusDate();f&&a&&e&&(f=12*(a.getFullYear()-e.getFullYear())+a.getMonth()-e.getMonth())&&(f=q.get.monthOffset()-f,q.set.monthOffset(f,!1));a=q.set.dataKeyValue(z.focusDate,a,!!a&&b);d=!1!==d&&a&&!1===b||R!=c;R=c;d&&q.update.focus(c)},minDate:function(a){a=q.helper.sanitiseDate(a);null!==c.maxDate&&c.maxDate<=a?q.verbose("Unable to set minDate variable bigger that maxDate variable",
a,c.maxDate):(q.setting("minDate",a),q.set.dataKeyValue(z.minDate,a))},maxDate:function(a){a=q.helper.sanitiseDate(a);null!==c.minDate&&c.minDate>=a?q.verbose("Unable to set maxDate variable lower that minDate variable",a,c.minDate):(q.setting("maxDate",a),q.set.dataKeyValue(z.maxDate,a))},monthOffset:function(a,b){a=Math.max(1-Math.max(c.multiMonth,1),Math.min(0,a));q.set.dataKeyValue(z.monthOffset,a,b)},mode:function(a,b){q.set.dataKeyValue(z.mode,a,b)},dataKeyValue:function(a,b,d){var c=f.data(a),
c=c===b||c<=b&&c>=b;b?f.data(a,b):f.removeData(a);!1===d||c||q.refresh();return!c}},selectDate:function(a,b){q.verbose("New date selection",a);var d=q.get.mode();b||"minute"===d||c.disableMinute&&"hour"===d||"date"===c.type&&"day"===d||"month"===c.type&&"month"===d||"year"===c.type&&"year"===d?!1!==q.set.date(a)&&(B=!0,c.closable&&(q.popup("hide"),a=q.get.calendarModule(c.endCalendar)))&&("focus"!==a.setting("on")&&a.popup("show"),a.focus()):(q.set.mode("year"===d?c.disableMonth?"day":"month":"month"===
d?"day":"day"===d?"hour":"minute"),"hour"===d||"day"===d&&q.get.date()?q.set.date(a,!0,!1):q.set.focusDate(a))},changeDate:function(a){q.set.date(a)},clear:function(){q.set.date(h)},popup:function(){return m.popup.apply(m,arguments)},focus:function(){O.length?O.focus():M.focus()},blur:function(){O.length?O.blur():M.blur()},helper:{isDisabled:function(a,b){return("day"===b||"month"===b||"year"===b)&&("day"===b&&-1!==c.disabledDaysOfWeek.indexOf(a.getDay())||c.disabledDates.some(function(d){"string"===
typeof d&&(d=q.helper.sanitiseDate(d));if(d instanceof Date)return q.helper.dateEqual(a,d,b);if(null!==d&&"object"===typeof d)if(d[z.year]){if("number"===typeof d[z.year])return a.getFullYear()==d[z.year];if(Array.isArray(d[z.year]))return-1<d[z.year].indexOf(a.getFullYear())}else if(d[z.month]){if("number"===typeof d[z.month])return a.getMonth()==d[z.month];if(Array.isArray(d[z.month]))return-1<d[z.month].indexOf(a.getMonth());if(d[z.month]instanceof Date)return d=q.helper.sanitiseDate(d[z.month]),
a.getMonth()==d.getMonth()&&a.getFullYear()==d.getFullYear()}else if(d[z.date]&&"day"===b){if(d[z.date]instanceof Date)return q.helper.dateEqual(a,q.helper.sanitiseDate(d[z.date]),b);if(Array.isArray(d[z.date]))return d[z.date].some(function(d){return q.helper.dateEqual(a,d,b)})}}))},isEnabled:function(a,b){return"day"===b?0===c.enabledDates.length||c.enabledDates.some(function(d){"string"===typeof d&&(d=q.helper.sanitiseDate(d));if(d instanceof Date)return q.helper.dateEqual(a,d,b);if(null!==d&&
"object"===typeof d&&d[z.date])return q.helper.dateEqual(a,q.helper.sanitiseDate(d[z.date]),b)}):!0},findDayAsObject:function(a,b,d){if("day"===b||"month"===b||"year"===b)for(var c,f=0;f<d.length;f++){c=d[f];"string"===typeof c&&(c=q.helper.sanitiseDate(c));if(c instanceof Date&&q.helper.dateEqual(a,c,b))return d={},d[z.date]=c,d;if(null!==c&&"object"===typeof c)if(c[z.year]){if("number"===typeof c[z.year]&&a.getFullYear()==c[z.year]||Array.isArray(c[z.year])&&-1<c[z.year].indexOf(a.getFullYear()))return c}else if(c[z.month]){if("number"===
typeof c[z.month]&&a.getMonth()==c[z.month])return c;if(Array.isArray(c[z.month])){if(-1<c[z.month].indexOf(a.getMonth()))return c}else if(c[z.month]instanceof Date){var e=q.helper.sanitiseDate(c[z.month]);if(a.getMonth()==e.getMonth()&&a.getFullYear()==e.getFullYear())return c}}else if(c[z.date]&&"day"===b&&(c[z.date]instanceof Date&&q.helper.dateEqual(a,q.helper.sanitiseDate(c[z.date]),b)||Array.isArray(c[z.date])&&c[z.date].some(function(d){return q.helper.dateEqual(a,d,b)})))return c}return null},
sanitiseDate:function(a){a instanceof Date||(a=K.date(""+a,c));return!a||isNaN(a.getTime())?null:a},dateDiff:function(a,b,d){d=d||"day";var f="time"===c.type,e="year"===d,q=e||"month"===d,t="minute"===d;d=t||"hour"===d;a=new Date(f?2E3:a.getFullYear(),f?0:e?0:a.getMonth(),f?1:q?1:a.getDate(),d?a.getHours():0,t?c.minTimeGap*Math.floor(a.getMinutes()/c.minTimeGap):0);b=new Date(f?2E3:b.getFullYear(),f?0:e?0:b.getMonth(),f?1:q?1:b.getDate(),d?b.getHours():0,t?c.minTimeGap*Math.floor(b.getMinutes()/c.minTimeGap):
0);return b.getTime()-a.getTime()},dateEqual:function(a,b,d){return!!a&&!!b&&0===q.helper.dateDiff(a,b,d)},isDateInRange:function(a,b,d,f){d||f||(d=(d=q.get.startDate())&&c.minDate?new Date(Math.max(d,c.minDate)):d||c.minDate,f=c.maxDate);d=d&&new Date(d.getFullYear(),d.getMonth(),d.getDate(),d.getHours(),c.minTimeGap*Math.ceil(d.getMinutes()/c.minTimeGap));return!(!a||d&&0<q.helper.dateDiff(a,d,b)||f&&0<q.helper.dateDiff(f,a,b))},dateInRange:function(a,b,d){b||d||(b=(b=q.get.startDate())&&c.minDate?
new Date(Math.max(b,c.minDate)):b||c.minDate,d=c.maxDate);b=b&&new Date(b.getFullYear(),b.getMonth(),b.getDate(),b.getHours(),c.minTimeGap*Math.ceil(b.getMinutes()/c.minTimeGap));var f="time"===c.type;return a?b&&0<q.helper.dateDiff(a,b,"minute")?f?q.helper.mergeDateTime(a,b):b:d&&0<q.helper.dateDiff(d,a,"minute")?f?q.helper.mergeDateTime(a,d):d:a:a},mergeDateTime:function(a,b){return a&&b?new Date(a.getFullYear(),a.getMonth(),a.getDate(),b.getHours(),b.getMinutes()):b},isTodayButton:function(a){return a.text()===
c.text.today}},setting:function(b,d){q.debug("Changing setting",b,d);if(a.isPlainObject(b))a.extend(!0,c,b);else if(d!==h)a.isPlainObject(c[b])?a.extend(!0,c[b],d):c[b]=d;else return c[b]},internal:function(b,d){if(a.isPlainObject(b))a.extend(!0,q,b);else if(d!==h)q[b]=d;else return q[b]},debug:function(){!c.silent&&c.debug&&(c.performance?q.performance.log(arguments):(q.debug=Function.prototype.bind.call(console.info,console,c.name+":"),q.debug.apply(console,arguments)))},verbose:function(){!c.silent&&
c.verbose&&c.debug&&(c.performance?q.performance.log(arguments):(q.verbose=Function.prototype.bind.call(console.info,console,c.name+":"),q.verbose.apply(console,arguments)))},error:function(){c.silent||(q.error=Function.prototype.bind.call(console.error,console,c.name+":"),q.error.apply(console,arguments))},performance:{log:function(a){var b,d;c.performance&&(b=(new Date).getTime(),d=L||b,d=b-d,L=b,x.push({Name:a[0],Arguments:[].slice.call(a,1)||"",Element:G,"Execution Time":d}));clearTimeout(q.performance.timer);
q.performance.timer=setTimeout(q.performance.display,500)},display:function(){var b=c.name+":",d=0;L=!1;clearTimeout(q.performance.timer);a.each(x,function(a,b){d+=b["Execution Time"]});b+=" "+d+"ms";S&&(b+=" '"+S+"'");(console.group!==h||console.table!==h)&&0<x.length&&(console.groupCollapsed(b),console.table?console.table(x):a.each(x,function(a,b){console.log(b.Name+": "+b["Execution Time"]+"ms")}),console.groupEnd());x=[]}},invoke:function(b,d,c){var f=u,e,t,k;d=d||P;c=G||c;"string"==typeof b&&
f!==h&&(b=b.split(/[\. ]/),e=b.length-1,a.each(b,function(d,c){var k=d!=e?c+b[d+1].charAt(0).toUpperCase()+b[d+1].slice(1):b;if(a.isPlainObject(f[k])&&d!=e)f=f[k];else{if(f[k]!==h)return t=f[k],!1;if(a.isPlainObject(f[c])&&d!=e)f=f[c];else return f[c]!==h?t=f[c]:q.error(H.method,b),!1}}));a.isFunction(t)?k=t.apply(c,d):t!==h&&(k=t);Array.isArray(C)?C.push(k):C!==h?C=[C,k]:k!==h&&(C=k);return t}};N?(u===h&&q.initialize(),q.invoke(T)):(u!==h&&u.invoke("destroy"),q.initialize())});return C!==h?C:this};
a.fn.calendar.settings={name:"Calendar",namespace:"calendar",silent:!1,debug:!1,verbose:!1,performance:!1,type:"datetime",firstDayOfWeek:0,constantHeight:!0,today:!1,closable:!0,monthFirst:!0,touchReadonly:!0,inline:!1,on:null,initialDate:null,startMode:!1,minDate:null,maxDate:null,ampm:!0,disableYear:!1,disableMonth:!1,disableMinute:!1,formatInput:!0,startCalendar:null,endCalendar:null,multiMonth:1,minTimeGap:5,showWeekNumbers:null,disabledDates:[],disabledDaysOfWeek:[],enabledDates:[],eventDates:[],
centuryBreak:60,currentCentury:2E3,selectAdjacentDays:!1,popupOptions:{position:"bottom left",lastResort:"bottom left",prefer:"opposite",hideOnScroll:!1},text:{days:"SMTWTFS".split(""),months:"January February March April May June July August September October November December".split(" "),monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),today:"Today",now:"Now",am:"AM",pm:"PM",weekNo:"Week"},formatter:{header:function(a,c,h){return"year"===c?h.formatter.yearHeader(a,h):"month"===
c?h.formatter.monthHeader(a,h):"day"===c?h.formatter.dayHeader(a,h):"hour"===c?h.formatter.hourHeader(a,h):h.formatter.minuteHeader(a,h)},yearHeader:function(a,c){a=10*Math.ceil(a.getFullYear()/10);return a-9+" - "+(a+2)},monthHeader:function(a,c){return a.getFullYear()},dayHeader:function(a,c){c=c.text.months[a.getMonth()];a=a.getFullYear();return c+" "+a},hourHeader:function(a,c){return c.formatter.date(a,c)},minuteHeader:function(a,c){return c.formatter.date(a,c)},dayColumnHeader:function(a,c){return c.text.days[a]},
datetime:function(a,c){if(!a)return"";var h="time"===c.type?"":c.formatter.date(a,c);a=0>c.type.indexOf("time")?"":c.formatter.time(a,c,!1);return h+("datetime"===c.type?" ":"")+a},date:function(a,c){if(!a)return"";var h=a.getDate(),l=c.text.months[a.getMonth()];a=a.getFullYear();return"year"===c.type?a:"month"===c.type?l+" "+a:(c.monthFirst?l+" "+h:h+" "+l)+", "+a},time:function(a,c,h){if(!a)return"";h=a.getHours();a=a.getMinutes();var l="";c.ampm&&(l=" "+(12>h?c.text.am:c.text.pm),h=0===h?12:12<
h?h-12:h);return h+":"+(10>a?"0":"")+a+l},today:function(a){return"date"===a.type?a.text.today:a.text.now},cell:function(a,c,h){}},parser:{date:function(e,c){if(e instanceof Date)return e;if(!e)return null;e=String(e).trim();if(0===e.length)return null;e.match(/^[0-9]{4}[\/\-\.][0-9]{1,2}[\/\-\.][0-9]{1,2}$/)&&(e=e.replace(/[\/\-\.]/g,"/")+" 00:00:00");e=c.monthFirst||!e.match(/^[0-9]{1,2}[\/\-\.]/)?e:e.replace(/[\/\-\.]/g,"/").replace(/([0-9]+)\/([0-9]+)/,"$2/$1");var l=new Date(e);if(null===e.match(/^[0-9]+$/)&&
!isNaN(l.getDate()))return l;e=e.toLowerCase();var L,x,F=l=-1,N=-1,P=-1,C=-1,I=h,D="time"===c.type,J=0>c.type.indexOf("time"),y=e.split(c.regExp.dateWords),b=e.split(c.regExp.dateNumbers),n;if(!J)for(I=0<=a.inArray(c.text.am.toLowerCase(),y)?!0:0<=a.inArray(c.text.pm.toLowerCase(),y)?!1:h,e=0;e<b.length;e++)if(L=b[e],0<=L.indexOf(":")){if(0>F||0>l)for(n=L.split(":"),x=0;x<Math.min(2,n.length);x++)L=parseInt(n[x]),isNaN(L)&&(L=0),0===x?F=L%24:l=L%60;b.splice(e,1)}if(!D){for(e=0;e<y.length;e++)if(D=
y[e],!(0>=D.length)){for(L=0;L<c.text.months.length;L++)if(x=c.text.months[L],x=x.substring(0,D.length).toLowerCase(),x===D){P=L+1;break}if(0<=P)break}for(e=0;e<b.length;e++)if(L=parseInt(b[e]),!isNaN(L)&&L>=c.centuryBreak&&e===b.length-1){99>=L&&(L+=c.currentCentury-100);C=L;b.splice(e,1);break}if(0>P)for(e=0;e<b.length;e++)if(x=1<e||c.monthFirst?e:1===e?0:1,L=parseInt(b[x]),!isNaN(L)&&1<=L&&12>=L){P=L;b.splice(x,1);break}for(e=0;e<b.length;e++)if(L=parseInt(b[e]),!isNaN(L)&&1<=L&&31>=L){N=L;b.splice(e,
1);break}if(0>C)for(e=b.length-1;0<=e;e--)if(L=parseInt(b[e]),!isNaN(L)){99>=L&&(L+=c.currentCentury);C=L;b.splice(e,1);break}}if(!J){if(0>F)for(e=0;e<b.length;e++)if(L=parseInt(b[e]),!isNaN(L)&&0<=L&&23>=L){F=L;b.splice(e,1);break}if(0>l)for(e=0;e<b.length;e++)if(L=parseInt(b[e]),!isNaN(L)&&0<=L&&59>=L){l=L;b.splice(e,1);break}}if(0>l&&0>F&&0>N&&0>P&&0>C)return null;0>l&&(l=0);0>F&&(F=0);0>N&&(N=1);0>P&&(P=1);0>C&&(C=(new Date).getFullYear());I!==h&&(I?12===F&&(F=0):12>F&&(F+=12));c=new Date(C,P-
1,N,F,l);if(c.getMonth()!==P-1||c.getFullYear()!==C)c=new Date(C,P,0,F,l);return isNaN(c.getTime())?null:c}},onBeforeChange:function(a,c,h){return!0},onChange:function(a,c,h){},onShow:function(){},onVisible:function(){},onHide:function(){},onHidden:function(){},onSelect:function(a,c){},isDisabled:function(a,c){return!1},selector:{popup:".ui.popup",input:"input",activator:"input",append:".inline.field,.inline.fields"},regExp:{dateWords:/[^A-Za-z\u00C0-\u024F]+/g,dateNumbers:/[^\d:]+/g},error:{popup:"UI Popup, a required component is not included in this page",
method:"The method you called is not defined."},className:{calendar:"calendar",active:"active",popup:"ui popup",grid:"ui equal width grid",column:"column",table:"ui celled center aligned unstackable table",inverted:"inverted",prev:"prev link",next:"next link",prevIcon:"chevron left icon",nextIcon:"chevron right icon",link:"link",cell:"link",disabledCell:"disabled",weekCell:"disabled",adjacentCell:"adjacent",activeCell:"active",rangeCell:"range",focusCell:"focus",todayCell:"today",today:"today link",
disabled:"disabled"},metadata:{date:"date",focusDate:"focusDate",startDate:"startDate",endDate:"endDate",minDate:"minDate",maxDate:"maxDate",mode:"mode",type:"type",monthOffset:"monthOffset",message:"message",class:"class",inverted:"inverted",variation:"variation",position:"position",month:"month",year:"year"},eventClass:"blue"}})(jQuery,window,document);
(function(a,l,F,h){a.isFunction=a.isFunction||function(a){return"function"===typeof a&&"number"!==typeof a.nodeType};l="undefined"!=typeof l&&l.Math==Math?l:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();a.fn.checkbox=function(e){var c=a(this),S=c.selector||"",L=(new Date).getTime(),x=[],T=arguments[0],N="string"==typeof T,P=[].slice.call(arguments,1),C;c.each(function(){var c=a.extend(!0,{},a.fn.checkbox.settings,e),D=c.className,J=c.namespace,y=c.selector,b=c.error,n="."+
J,A="module-"+J,K=a(this),z=a(this).children(y.label),r=a(this).children(y.input),H=r[0],k=!1,d=!1,f=K.data(A),O,M=this,m;m={initialize:function(){m.verbose("Initializing checkbox",c);m.create.label();m.bind.events();m.set.tabbable();m.hide.input();m.observeChanges();m.instantiate();m.setup()},instantiate:function(){m.verbose("Storing instance of module",m);f=m;K.data(A,m)},destroy:function(){m.verbose("Destroying module");m.unbind.events();m.show.input();K.removeData(A)},fix:{reference:function(){K.is(y.input)&&
(m.debug("Behavior called on <input> adjusting invoked element"),K=K.closest(y.checkbox),m.refresh())}},setup:function(){m.set.initialLoad();m.is.indeterminate()?(m.debug("Initial value is indeterminate"),m.indeterminate()):m.is.checked()?(m.debug("Initial value is checked"),m.check()):(m.debug("Initial value is unchecked"),m.uncheck());m.remove.initialLoad()},refresh:function(){z=K.children(y.label);r=K.children(y.input);H=r[0]},hide:{input:function(){m.verbose("Modifying <input> z-index to be unselectable");
r.addClass(D.hidden)}},show:{input:function(){m.verbose("Modifying <input> z-index to be selectable");r.removeClass(D.hidden)}},observeChanges:function(){"MutationObserver"in l&&(O=new MutationObserver(function(a){m.debug("DOM tree modified, updating selector cache");m.refresh()}),O.observe(M,{childList:!0,subtree:!0}),m.debug("Setting up mutation observer",O))},attachEvents:function(d,c){var f=a(d);c=a.isFunction(m[c])?m[c]:m.toggle;0<f.length?(m.debug("Attaching checkbox events to element",d,c),
f.on("click"+n,c)):m.error(b.notFound)},preventDefaultOnInputTarget:function(){"undefined"!==typeof event&&null!==event&&a(event.target).is(y.input)&&(m.verbose("Preventing default check action after manual check action"),event.preventDefault())},event:{change:function(a){m.should.ignoreCallbacks()||c.onChange.call(H)},click:function(b){var d=a(b.target);d.is(y.input)?m.verbose("Using default check action on initialized checkbox"):d.is(y.link)?m.debug("Clicking link inside checkbox, skipping toggle"):
(m.toggle(),r.focus(),b.preventDefault())},keydown:function(b){var f=b.which,e=m.get.radios(),h=e.index(K),k=e.length,n=!1;if(37==f||38==f)n=(0===h?k:h)-1;else if(39==f||40==f)n=h===k-1?0:h+1;if(!m.should.ignoreCallbacks()&&!1!==n){if(!1===c.beforeUnchecked.apply(H))return m.verbose("Option not allowed to be unchecked, cancelling key navigation"),!1;if(!1===c.beforeChecked.apply(a(e[n]).children(y.input)[0]))return m.verbose("Next option should not allow check, cancelling key navigation"),!1}27==
f?(m.verbose("Escape key pressed blurring field"),r.blur(),d=!0):!b.ctrlKey&&(32==f||13==f&&c.enableEnterKey)?(m.verbose("Enter/space key pressed, toggling checkbox"),m.toggle(),d=!0):d=!1},keyup:function(a){d&&a.preventDefault()}},check:function(){m.should.allowCheck()&&(m.debug("Checking checkbox",r),m.set.checked(),m.should.ignoreCallbacks()||(c.onChecked.call(H),m.trigger.change()),m.preventDefaultOnInputTarget())},uncheck:function(){m.should.allowUncheck()&&(m.debug("Unchecking checkbox"),m.set.unchecked(),
m.should.ignoreCallbacks()||(c.onUnchecked.call(H),m.trigger.change()),m.preventDefaultOnInputTarget())},indeterminate:function(){m.should.allowIndeterminate()?m.debug("Checkbox is already indeterminate"):(m.debug("Making checkbox indeterminate"),m.set.indeterminate(),m.should.ignoreCallbacks()||(c.onIndeterminate.call(H),m.trigger.change()))},determinate:function(){m.should.allowDeterminate()?m.debug("Checkbox is already determinate"):(m.debug("Making checkbox determinate"),m.set.determinate(),m.should.ignoreCallbacks()||
(c.onDeterminate.call(H),m.trigger.change()))},enable:function(){m.is.enabled()?m.debug("Checkbox is already enabled"):(m.debug("Enabling checkbox"),m.set.enabled(),m.should.ignoreCallbacks()||(c.onEnable.call(H),c.onEnabled.call(H),m.trigger.change()))},disable:function(){m.is.disabled()?m.debug("Checkbox is already disabled"):(m.debug("Disabling checkbox"),m.set.disabled(),m.should.ignoreCallbacks()||(c.onDisable.call(H),c.onDisabled.call(H),m.trigger.change()))},get:{radios:function(){var b=m.get.name();
return a('input[name="'+b+'"]').closest(y.checkbox)},otherRadios:function(){return m.get.radios().not(K)},name:function(){return r.attr("name")}},is:{initialLoad:function(){return k},radio:function(){return r.hasClass(D.radio)||"radio"==r.attr("type")},indeterminate:function(){return r.prop("indeterminate")!==h&&r.prop("indeterminate")},checked:function(){return r.prop("checked")!==h&&r.prop("checked")},disabled:function(){return r.prop("disabled")!==h&&r.prop("disabled")},enabled:function(){return!m.is.disabled()},
determinate:function(){return!m.is.indeterminate()},unchecked:function(){return!m.is.checked()}},should:{allowCheck:function(){return m.is.determinate()&&m.is.checked()&&!m.is.initialLoad()?(m.debug("Should not allow check, checkbox is already checked"),!1):m.should.ignoreCallbacks()||!1!==c.beforeChecked.apply(H)?!0:(m.debug("Should not allow check, beforeChecked cancelled"),!1)},allowUncheck:function(){return m.is.determinate()&&m.is.unchecked()&&!m.is.initialLoad()?(m.debug("Should not allow uncheck, checkbox is already unchecked"),
!1):m.should.ignoreCallbacks()||!1!==c.beforeUnchecked.apply(H)?!0:(m.debug("Should not allow uncheck, beforeUnchecked cancelled"),!1)},allowIndeterminate:function(){return m.is.indeterminate()&&!m.is.initialLoad()?(m.debug("Should not allow indeterminate, checkbox is already indeterminate"),!1):m.should.ignoreCallbacks()||!1!==c.beforeIndeterminate.apply(H)?!0:(m.debug("Should not allow indeterminate, beforeIndeterminate cancelled"),!1)},allowDeterminate:function(){return m.is.determinate()&&!m.is.initialLoad()?
(m.debug("Should not allow determinate, checkbox is already determinate"),!1):m.should.ignoreCallbacks()||!1!==c.beforeDeterminate.apply(H)?!0:(m.debug("Should not allow determinate, beforeDeterminate cancelled"),!1)},ignoreCallbacks:function(){return k&&!c.fireOnInit}},can:{change:function(){return!(K.hasClass(D.disabled)||K.hasClass(D.readOnly)||r.prop("disabled")||r.prop("readonly"))},uncheck:function(){return"boolean"===typeof c.uncheckable?c.uncheckable:!m.is.radio()}},set:{initialLoad:function(){k=
!0},checked:function(){m.verbose("Setting class to checked");K.removeClass(D.indeterminate).addClass(D.checked);m.is.radio()&&m.uncheckOthers();!m.is.indeterminate()&&m.is.checked()?m.debug("Input is already checked, skipping input property change"):(m.verbose("Setting state to checked",H),r.prop("indeterminate",!1).prop("checked",!0))},unchecked:function(){m.verbose("Removing checked class");K.removeClass(D.indeterminate).removeClass(D.checked);!m.is.indeterminate()&&m.is.unchecked()?m.debug("Input is already unchecked"):
(m.debug("Setting state to unchecked"),r.prop("indeterminate",!1).prop("checked",!1))},indeterminate:function(){m.verbose("Setting class to indeterminate");K.addClass(D.indeterminate);m.is.indeterminate()?m.debug("Input is already indeterminate, skipping input property change"):(m.debug("Setting state to indeterminate"),r.prop("indeterminate",!0))},determinate:function(){m.verbose("Removing indeterminate class");K.removeClass(D.indeterminate);m.is.determinate()?m.debug("Input is already determinate, skipping input property change"):
(m.debug("Setting state to determinate"),r.prop("indeterminate",!1))},disabled:function(){m.verbose("Setting class to disabled");K.addClass(D.disabled);m.is.disabled()?m.debug("Input is already disabled, skipping input property change"):(m.debug("Setting state to disabled"),r.prop("disabled","disabled"))},enabled:function(){m.verbose("Removing disabled class");K.removeClass(D.disabled);m.is.enabled()?m.debug("Input is already enabled, skipping input property change"):(m.debug("Setting state to enabled"),
r.prop("disabled",!1))},tabbable:function(){m.verbose("Adding tabindex to checkbox");r.attr("tabindex")===h&&r.attr("tabindex",0)}},remove:{initialLoad:function(){k=!1}},trigger:{change:function(){var a=r[0];if(a){var b=F.createEvent("HTMLEvents");m.verbose("Triggering native change event");b.initEvent("change",!0,!1);a.dispatchEvent(b)}}},create:{label:function(){0<r.prevAll(y.label).length?(r.prev(y.label).detach().insertAfter(r),m.debug("Moving existing label",z)):m.has.label()||(z=a("<label>").insertAfter(r),
m.debug("Creating label",z))}},has:{label:function(){return 0<z.length}},bind:{events:function(){m.verbose("Attaching checkbox events");K.on("click"+n,m.event.click).on("change"+n,m.event.change).on("keydown"+n,y.input,m.event.keydown).on("keyup"+n,y.input,m.event.keyup)}},unbind:{events:function(){m.debug("Removing events");K.off(n)}},uncheckOthers:function(){var a=m.get.otherRadios();m.debug("Unchecking other radios",a);a.removeClass(D.checked)},toggle:function(){m.can.change()?m.is.indeterminate()||
m.is.unchecked()?(m.debug("Currently unchecked"),m.check()):m.is.checked()&&m.can.uncheck()&&(m.debug("Currently checked"),m.uncheck()):m.is.radio()||m.debug("Checkbox is read-only or disabled, ignoring toggle")},setting:function(b,d){m.debug("Changing setting",b,d);if(a.isPlainObject(b))a.extend(!0,c,b);else if(d!==h)a.isPlainObject(c[b])?a.extend(!0,c[b],d):c[b]=d;else return c[b]},internal:function(b,d){if(a.isPlainObject(b))a.extend(!0,m,b);else if(d!==h)m[b]=d;else return m[b]},debug:function(){!c.silent&&
c.debug&&(c.performance?m.performance.log(arguments):(m.debug=Function.prototype.bind.call(console.info,console,c.name+":"),m.debug.apply(console,arguments)))},verbose:function(){!c.silent&&c.verbose&&c.debug&&(c.performance?m.performance.log(arguments):(m.verbose=Function.prototype.bind.call(console.info,console,c.name+":"),m.verbose.apply(console,arguments)))},error:function(){c.silent||(m.error=Function.prototype.bind.call(console.error,console,c.name+":"),m.error.apply(console,arguments))},performance:{log:function(a){var b,
d;c.performance&&(b=(new Date).getTime(),d=L||b,d=b-d,L=b,x.push({Name:a[0],Arguments:[].slice.call(a,1)||"",Element:M,"Execution Time":d}));clearTimeout(m.performance.timer);m.performance.timer=setTimeout(m.performance.display,500)},display:function(){var b=c.name+":",d=0;L=!1;clearTimeout(m.performance.timer);a.each(x,function(a,b){d+=b["Execution Time"]});b+=" "+d+"ms";S&&(b+=" '"+S+"'");(console.group!==h||console.table!==h)&&0<x.length&&(console.groupCollapsed(b),console.table?console.table(x):
a.each(x,function(a,b){console.log(b.Name+": "+b["Execution Time"]+"ms")}),console.groupEnd());x=[]}},invoke:function(d,c,e){var k=f,n,r,O;c=c||P;e=M||e;"string"==typeof d&&k!==h&&(d=d.split(/[\. ]/),n=d.length-1,a.each(d,function(c,f){var e=c!=n?f+d[c+1].charAt(0).toUpperCase()+d[c+1].slice(1):d;if(a.isPlainObject(k[e])&&c!=n)k=k[e];else{if(k[e]!==h)return r=k[e],!1;if(a.isPlainObject(k[f])&&c!=n)k=k[f];else return k[f]!==h?r=k[f]:m.error(b.method,d),!1}}));a.isFunction(r)?O=r.apply(e,c):r!==h&&
(O=r);Array.isArray(C)?C.push(O):C!==h?C=[C,O]:O!==h&&(C=O);return r}};N?(f===h&&m.initialize(),m.invoke(T)):(f!==h&&f.invoke("destroy"),m.initialize())});return C!==h?C:this};a.fn.checkbox.settings={name:"Checkbox",namespace:"checkbox",silent:!1,debug:!1,verbose:!0,performance:!0,uncheckable:"auto",fireOnInit:!1,enableEnterKey:!0,onChange:function(){},beforeChecked:function(){},beforeUnchecked:function(){},beforeDeterminate:function(){},beforeIndeterminate:function(){},onChecked:function(){},onUnchecked:function(){},
onDeterminate:function(){},onIndeterminate:function(){},onEnable:function(){},onDisable:function(){},onEnabled:function(){},onDisabled:function(){},className:{checked:"checked",indeterminate:"indeterminate",disabled:"disabled",hidden:"hidden",radio:"radio",readOnly:"read-only"},error:{method:"The method you called is not defined"},selector:{checkbox:".ui.checkbox",label:"label, .box",input:'input[type="checkbox"], input[type="radio"]',link:"a[href]"}}})(jQuery,window,document);
(function(a,l,F,h){a.isFunction=a.isFunction||function(a){return"function"===typeof a&&"number"!==typeof a.nodeType};l="undefined"!=typeof l&&l.Math==Math?l:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();a.fn.dimmer=function(e){var c=a(this),l=(new Date).getTime(),L=[],x=arguments[0],T="string"==typeof x,N=[].slice.call(arguments,1),P;c.each(function(){var C=a.isPlainObject(e)?a.extend(!0,{},a.fn.dimmer.settings,e):a.extend({},a.fn.dimmer.settings),I=C.selector,D=C.namespace,
J=C.className,y=C.error,b="."+D,n="module-"+D,A=c.selector||"",K="ontouchstart"in F.documentElement?"touchstart":"click",z=a(this),r,H,k=this,d=z.data(n),f;f={preinitialize:function(){f.is.dimmer()?(H=z.parent(),r=z):(H=z,r=f.has.dimmer()?C.dimmerName?H.find(I.dimmer).filter("."+C.dimmerName):H.find(I.dimmer):f.create())},initialize:function(){f.debug("Initializing dimmer",C);f.bind.events();f.set.dimmable();f.instantiate()},instantiate:function(){f.verbose("Storing instance of module",f);d=f;z.data(n,
d)},destroy:function(){f.verbose("Destroying previous module",r);f.unbind.events();f.remove.variation();H.off(b)},bind:{events:function(){if("hover"==C.on)H.on("mouseenter"+b,f.show).on("mouseleave"+b,f.hide);else if("click"==C.on)H.on(K+b,f.toggle);f.is.page()&&(f.debug("Setting as a page dimmer",H),f.set.pageDimmer());f.is.closable()&&(f.verbose("Adding dimmer close event",r),H.on(K+b,I.dimmer,f.event.click))}},unbind:{events:function(){z.removeData(n);H.off(b)}},event:{click:function(b){f.verbose("Determining if event occurred on dimmer",
b);if(0===r.find(b.target).length||a(b.target).is(I.content))f.hide(),b.stopImmediatePropagation()}},addContent:function(b){b=a(b);f.debug("Add content to dimmer",b);b.parent()[0]!==r[0]&&b.detach().appendTo(r)},create:function(){var b=a(C.template.dimmer(C));C.dimmerName&&(f.debug("Creating named dimmer",C.dimmerName),b.addClass(C.dimmerName));b.appendTo(H);return b},show:function(b){b=a.isFunction(b)?b:function(){};f.debug("Showing dimmer",r,C);f.set.variation();f.is.dimmed()&&!f.is.animating()||
!f.is.enabled()?f.debug("Dimmer is already shown or disabled"):(f.animate.show(b),C.onShow.call(k),C.onChange.call(k))},hide:function(b){b=a.isFunction(b)?b:function(){};f.is.dimmed()||f.is.animating()?(f.debug("Hiding dimmer",r),f.animate.hide(b),C.onHide.call(k),C.onChange.call(k)):f.debug("Dimmer is not visible")},toggle:function(){f.verbose("Toggling dimmer visibility",r);f.is.dimmed()?f.is.closable()&&f.hide():f.show()},animate:{show:function(b){b=a.isFunction(b)?b:function(){};C.useCSS&&a.fn.transition!==
h&&r.transition("is supported")?(C.useFlex?(f.debug("Using flex dimmer"),f.remove.legacy()):(f.debug("Using legacy non-flex dimmer"),f.set.legacy()),"auto"!==C.opacity&&f.set.opacity(),r.transition({displayType:C.useFlex?"flex":"block",animation:(C.transition.showMethod||C.transition)+" in",queue:!1,duration:f.get.duration(),useFailSafe:!0,onStart:function(){f.set.dimmed()},onComplete:function(){f.set.active();b()}})):(f.verbose("Showing dimmer animation with javascript"),f.set.dimmed(),"auto"==C.opacity&&
(C.opacity=.8),r.stop().css({opacity:0,width:"100%",height:"100%"}).fadeTo(f.get.duration(),C.opacity,function(){r.removeAttr("style");f.set.active();b()}))},hide:function(b){b=a.isFunction(b)?b:function(){};C.useCSS&&a.fn.transition!==h&&r.transition("is supported")?(f.verbose("Hiding dimmer with css"),r.transition({displayType:C.useFlex?"flex":"block",animation:(C.transition.hideMethod||C.transition)+" out",queue:!1,duration:f.get.duration(),useFailSafe:!0,onComplete:function(){f.remove.dimmed();
f.remove.variation();f.remove.active();b()}})):(f.verbose("Hiding dimmer with javascript"),r.stop().fadeOut(f.get.duration(),function(){f.remove.dimmed();f.remove.active();r.removeAttr("style");b()}))}},get:{dimmer:function(){return r},duration:function(){return f.is.active()?C.transition.hideDuration||C.duration.hide||C.duration:C.transition.showDuration||C.duration.show||C.duration}},has:{dimmer:function(){return C.dimmerName?0<z.find(I.dimmer).filter("."+C.dimmerName).length:0<z.find(I.dimmer).length}},
is:{active:function(){return r.hasClass(J.active)},animating:function(){return r.is(":animated")||r.hasClass(J.animating)},closable:function(){return"auto"==C.closable?"hover"==C.on?!1:!0:C.closable},dimmer:function(){return z.hasClass(J.dimmer)},dimmable:function(){return z.hasClass(J.dimmable)},dimmed:function(){return H.hasClass(J.dimmed)},disabled:function(){return H.hasClass(J.disabled)},enabled:function(){return!f.is.disabled()},page:function(){return H.is("body")},pageDimmer:function(){return r.hasClass(J.pageDimmer)}},
can:{show:function(){return!r.hasClass(J.disabled)}},set:{opacity:function(a){var b=r.css("background-color"),d=(b=b.split(","))&&3<=b.length;a=0===C.opacity?0:C.opacity||a;d?(b[2]=b[2].replace(")",""),b[3]=a+")",b=b.join(",")):b="rgba(0, 0, 0, "+a+")";f.debug("Setting opacity to",a);r.css("background-color",b)},legacy:function(){r.addClass(J.legacy)},active:function(){r.addClass(J.active)},dimmable:function(){H.addClass(J.dimmable)},dimmed:function(){H.addClass(J.dimmed)},pageDimmer:function(){r.addClass(J.pageDimmer)},
disabled:function(){r.addClass(J.disabled)},variation:function(a){(a=a||C.variation)&&r.addClass(a)}},remove:{active:function(){r.removeClass(J.active)},legacy:function(){r.removeClass(J.legacy)},dimmed:function(){H.removeClass(J.dimmed)},disabled:function(){r.removeClass(J.disabled)},variation:function(a){(a=a||C.variation)&&r.removeClass(a)}},setting:function(b,d){f.debug("Changing setting",b,d);if(a.isPlainObject(b))a.extend(!0,C,b);else if(d!==h)a.isPlainObject(C[b])?a.extend(!0,C[b],d):C[b]=
d;else return C[b]},internal:function(b,d){if(a.isPlainObject(b))a.extend(!0,f,b);else if(d!==h)f[b]=d;else return f[b]},debug:function(){!C.silent&&C.debug&&(C.performance?f.performance.log(arguments):(f.debug=Function.prototype.bind.call(console.info,console,C.name+":"),f.debug.apply(console,arguments)))},verbose:function(){!C.silent&&C.verbose&&C.debug&&(C.performance?f.performance.log(arguments):(f.verbose=Function.prototype.bind.call(console.info,console,C.name+":"),f.verbose.apply(console,arguments)))},
error:function(){C.silent||(f.error=Function.prototype.bind.call(console.error,console,C.name+":"),f.error.apply(console,arguments))},performance:{log:function(a){var b,d;C.performance&&(b=(new Date).getTime(),d=l||b,d=b-d,l=b,L.push({Name:a[0],Arguments:[].slice.call(a,1)||"",Element:k,"Execution Time":d}));clearTimeout(f.performance.timer);f.performance.timer=setTimeout(f.performance.display,500)},display:function(){var b=C.name+":",d=0;l=!1;clearTimeout(f.performance.timer);a.each(L,function(a,
b){d+=b["Execution Time"]});b+=" "+d+"ms";A&&(b+=" '"+A+"'");1<c.length&&(b+=" ("+c.length+")");(console.group!==h||console.table!==h)&&0<L.length&&(console.groupCollapsed(b),console.table?console.table(L):a.each(L,function(a,b){console.log(b.Name+": "+b["Execution Time"]+"ms")}),console.groupEnd());L=[]}},invoke:function(b,c,e){var n=d,r,A,l;c=c||N;e=k||e;"string"==typeof b&&n!==h&&(b=b.split(/[\. ]/),r=b.length-1,a.each(b,function(d,c){var e=d!=r?c+b[d+1].charAt(0).toUpperCase()+b[d+1].slice(1):
b;if(a.isPlainObject(n[e])&&d!=r)n=n[e];else{if(n[e]!==h)return A=n[e],!1;if(a.isPlainObject(n[c])&&d!=r)n=n[c];else return n[c]!==h?A=n[c]:f.error(y.method,b),!1}}));a.isFunction(A)?l=A.apply(e,c):A!==h&&(l=A);Array.isArray(P)?P.push(l):P!==h?P=[P,l]:l!==h&&(P=l);return A}};f.preinitialize();T?(d===h&&f.initialize(),f.invoke(x)):(d!==h&&d.invoke("destroy"),f.initialize())});return P!==h?P:this};a.fn.dimmer.settings={name:"Dimmer",namespace:"dimmer",silent:!1,debug:!1,verbose:!1,performance:!0,useFlex:!0,
dimmerName:!1,variation:!1,closable:"auto",useCSS:!0,transition:"fade",on:!1,opacity:"auto",duration:{show:500,hide:500},displayLoader:!1,loaderText:!1,loaderVariation:"",onChange:function(){},onShow:function(){},onHide:function(){},error:{method:"The method you called is not defined."},className:{active:"active",animating:"animating",dimmable:"dimmable",dimmed:"dimmed",dimmer:"dimmer",disabled:"disabled",hide:"hide",legacy:"legacy",pageDimmer:"page",show:"show",loader:"ui loader"},selector:{dimmer:"> .ui.dimmer",
content:".ui.dimmer > .content, .ui.dimmer > .content > .center"},template:{dimmer:function(e){var c=a("<div/>").addClass("ui dimmer"),h;e.displayLoader&&(h=a("<div/>").addClass(e.className.loader).addClass(e.loaderVariation),e.loaderText&&(h.text(e.loaderText),h.addClass("text")),c.append(h));return c}}}})(jQuery,window,document);
(function(a,l,F,h){a.isFunction=a.isFunction||function(a){return"function"===typeof a&&"number"!==typeof a.nodeType};l="undefined"!=typeof l&&l.Math==Math?l:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();a.fn.dropdown=function(e){var c=a(this),S=a(F),L=c.selector||"",x="ontouchstart"in F.documentElement,T=x?"touchstart":"click",N=(new Date).getTime(),P=[],C=arguments[0],I="string"==typeof C,D=[].slice.call(arguments,1),J;c.each(function(y){var b=a.isPlainObject(e)?a.extend(!0,
{},a.fn.dropdown.settings,e):a.extend({},a.fn.dropdown.settings),n=b.className,A=b.message,K=b.fields,z=b.keys,r=b.metadata,H=b.namespace,k=b.regExp,d=b.selector,f=b.error,O=b.templates,M="."+H,m="module-"+H,G=a(this),u=a(b.context),E=G.find(d.text),Q=G.find(d.search),V=G.find(d.sizer),R=G.find(d.input),B=G.find(d.icon),t=G.find(d.clearIcon),q=0<G.prev().find(d.text).length?G.prev().find(d.text):G.prev(),v=G.children(d.menu),U=v.find(d.item),X=b.hideDividers?U.parent().children(d.divider):a(),W=!1,
w=!1,ga=!1,Y=!1,p=this,da=!1,ha=G.data(m),qa,ra,la,ma,ea,na,ca,ia,ja,g;g={initialize:function(){g.debug("Initializing dropdown",b);g.is.alreadySetup()?g.setup.reference():(b.ignoreDiacritics&&!String.prototype.normalize&&(b.ignoreDiacritics=!1,g.error(f.noNormalize,p)),g.setup.layout(),b.values&&(g.set.initialLoad(),g.change.values(b.values),g.remove.initialLoad()),g.refreshData(),g.save.defaults(),g.restore.selected(),g.create.id(),g.bind.events(),g.observeChanges(),g.instantiate())},instantiate:function(){g.verbose("Storing instance of dropdown",
g);ha=g;G.data(m,g)},destroy:function(){g.verbose("Destroying previous dropdown",G);g.remove.tabbable();g.remove.active();v.transition("stop all");v.removeClass(n.visible).addClass(n.hidden);G.off(M).removeData(m);v.off(M);S.off(ea);g.disconnect.menuObserver();g.disconnect.selectObserver();g.disconnect.classObserver()},observeChanges:function(){"MutationObserver"in l&&(ca=new MutationObserver(g.event.select.mutation),ia=new MutationObserver(g.event.menu.mutation),ja=new MutationObserver(g.event.class.mutation),
g.debug("Setting up mutation observer",ca,ia,ja),g.observe.select(),g.observe.menu(),g.observe.class())},disconnect:{menuObserver:function(){ia&&ia.disconnect()},selectObserver:function(){ca&&ca.disconnect()},classObserver:function(){ja&&ja.disconnect()}},observe:{select:function(){g.has.input()&&ca&&ca.observe(G[0],{childList:!0,subtree:!0})},menu:function(){g.has.menu()&&ia&&ia.observe(v[0],{childList:!0,subtree:!0})},class:function(){g.has.search()&&ja&&ja.observe(G[0],{attributes:!0})}},create:{id:function(){na=
(Math.random().toString(16)+"000000000").substr(2,8);ea="."+na;g.verbose("Creating unique id for element",na)},userChoice:function(d){var c,f,e;d=d||g.get.userValues();if(!d)return!1;d=Array.isArray(d)?d:[d];a.each(d,function(d,Z){!1===g.get.item(Z)&&(e=b.templates.addition(g.add.variables(A.addResult,Z)),f=a("<div />").html(e).attr("data-"+r.value,Z).attr("data-"+r.text,Z).addClass(n.addition).addClass(n.item),b.hideAdditions&&f.addClass(n.hidden),c=c===h?f:c.add(f),g.verbose("Creating user choices for value",
Z,f))});return c},userLabels:function(b){if(b=g.get.userValues())g.debug("Adding user labels",b),a.each(b,function(a,b){g.verbose("Adding custom user value");g.add.label(b,b)})},menu:function(){v=a("<div />").addClass(n.menu).appendTo(G)},sizer:function(){V=a("<span />").addClass(n.sizer).insertAfter(Q)}},search:function(a){a=a!==h?a:g.get.query();g.verbose("Searching for query",a);!1===b.fireOnInit&&g.is.initialLoad()?g.verbose("Skipping callback on initial load",b.onSearch):g.has.minCharacters(a)&&
!1!==b.onSearch.call(p,a)?g.filter(a):g.hide(null,!0)},select:{firstUnfiltered:function(){g.verbose("Selecting first non-filtered element");g.remove.selectedItem();U.not(d.unselectable).not(d.addition+d.hidden).eq(0).addClass(n.selected)},nextAvailable:function(a){a=a.eq(0);var b=a.nextAll(d.item).not(d.unselectable).eq(0);a=a.prevAll(d.item).not(d.unselectable).eq(0);0<b.length?(g.verbose("Moving selection to",b),b.addClass(n.selected)):(g.verbose("Moving selection to",a),a.addClass(n.selected))}},
setup:{api:function(){var a={debug:b.debug,urlData:{value:g.get.value(),query:g.get.query()},on:!1};g.verbose("First request, initializing API");G.api(a)},layout:function(){G.is("select")&&(g.setup.select(),g.setup.returnedObject());g.has.menu()||g.create.menu();g.is.clearable()&&!g.has.clearItem()&&(g.verbose("Adding clear icon"),t=a("<i />").addClass("remove icon").insertBefore(E));g.is.search()&&!g.has.search()&&(g.verbose("Adding search input"),Q=a("<input />").addClass(n.search).prop("autocomplete",
g.is.chrome()?"fomantic-search":"off").insertBefore(E));g.is.multiple()&&g.is.searchSelection()&&!g.has.sizer()&&g.create.sizer();b.allowTab&&g.set.tabbable()},select:function(){var c=g.get.selectValues();g.debug("Dropdown initialized on a select",c);G.is("select")&&(R=G);0<R.parent(d.dropdown).length?(g.debug("UI dropdown already exists. Creating dropdown menu only"),G=R.closest(d.dropdown),g.has.menu()||g.create.menu(),v=G.children(d.menu),g.setup.menu(c)):(g.debug("Creating entire dropdown from select"),
G=a("<div />").attr("class",R.attr("class")).addClass(n.selection).addClass(n.dropdown).html(O.dropdown(c,K,b.preserveHTML,b.className)).insertBefore(R),R.hasClass(n.multiple)&&!1===R.prop("multiple")&&(g.error(f.missingMultiple),R.prop("multiple",!0)),R.is("[multiple]")&&g.set.multiple(),R.prop("disabled")&&(g.debug("Disabling dropdown"),G.addClass(n.disabled)),R.removeAttr("required").removeAttr("class").detach().prependTo(G));g.refresh()},menu:function(g){v.html(O.menu(g,K,b.preserveHTML,b.className));
U=v.find(d.item);X=b.hideDividers?U.parent().children(d.divider):a()},reference:function(){g.debug("Dropdown behavior was called on select, replacing with closest dropdown");G=G.parent(d.dropdown);ha=G.data(m);p=G.get(0);g.refresh();g.setup.returnedObject()},returnedObject:function(){var a=c.slice(0,y),b=c.slice(y+1);c=a.add(G).add(b)}},refresh:function(){g.refreshSelectors();g.refreshData()},refreshItems:function(){U=v.find(d.item);X=b.hideDividers?U.parent().children(d.divider):a()},refreshSelectors:function(){g.verbose("Refreshing selector cache");
E=G.find(d.text);Q=G.find(d.search);R=G.find(d.input);B=G.find(d.icon);q=0<G.prev().find(d.text).length?G.prev().find(d.text):G.prev();v=G.children(d.menu);U=v.find(d.item);X=b.hideDividers?U.parent().children(d.divider):a()},refreshData:function(){g.verbose("Refreshing cached metadata");U.removeData(r.text).removeData(r.value)},clearData:function(){g.verbose("Clearing metadata");U.removeData(r.text).removeData(r.value);G.removeData(r.defaultText).removeData(r.defaultValue).removeData(r.placeholderText)},
clearItems:function(){v.empty();g.refreshItems()},toggle:function(){g.verbose("Toggling menu visibility");g.is.active()?g.hide():g.show()},show:function(d,c){d=a.isFunction(d)?d:function(){};(da||Y)&&g.is.remote()&&g.is.noApiCache()&&g.clearItems();!g.can.show()&&g.is.remote()&&(g.debug("No API results retrieved, searching before show"),g.queryRemote(g.get.query(),g.show,[d,c]));if(g.can.show()&&!g.is.active()){g.debug("Showing dropdown");!g.has.message()||g.has.maxSelections()||g.has.allResultsFiltered()||
g.remove.message();if(g.is.allFiltered())return!0;!1!==b.onShow.call(p)&&g.animate.show(function(){g.can.click()&&g.bind.intent();g.has.search()&&!c&&g.focusSearch();g.set.visible();d.call(p)})}},hide:function(d,c){d=a.isFunction(d)?d:function(){};g.is.active()&&!g.is.animatingOutward()?(g.debug("Hiding dropdown"),!1!==b.onHide.call(p)&&g.animate.hide(function(){g.remove.visible();g.is.focusedOnSearch()&&!0!==c&&Q.blur();d.call(p)})):g.can.click()&&g.unbind.intent();da=Y=!1},hideOthers:function(){g.verbose("Finding other dropdowns to hide");
c.not(G).has(d.menu+"."+n.visible).dropdown("hide")},hideMenu:function(){g.verbose("Hiding menu  instantaneously");g.remove.active();g.remove.visible();v.transition("hide")},hideSubMenus:function(){var a=v.children(d.item).find(d.menu);g.verbose("Hiding sub menus",a);a.transition("hide")},bind:{events:function(){g.bind.keyboardEvents();g.bind.inputEvents();g.bind.mouseEvents()},keyboardEvents:function(){g.verbose("Binding keyboard events");G.on("keydown"+M,g.event.keydown);if(g.has.search())G.on(g.get.inputEvent()+
M,d.search,g.event.input);if(g.is.multiple())S.on("keydown"+ea,g.event.document.keydown)},inputEvents:function(){g.verbose("Binding input change events");G.on("change"+M,d.input,g.event.change)},mouseEvents:function(){g.verbose("Binding mouse events");if(g.is.multiple())G.on(T+M,d.label,g.event.label.click).on(T+M,d.remove,g.event.remove.click);if(g.is.searchSelection()){if(G.on("mousedown"+M,g.event.mousedown).on("mouseup"+M,g.event.mouseup).on("mousedown"+M,d.menu,g.event.menu.mousedown).on("mouseup"+
M,d.menu,g.event.menu.mouseup).on(T+M,d.icon,g.event.icon.click).on(T+M,d.clearIcon,g.event.clearIcon.click).on("focus"+M,d.search,g.event.search.focus).on(T+M,d.search,g.event.search.focus).on("blur"+M,d.search,g.event.search.blur).on(T+M,d.text,g.event.text.focus),g.is.multiple())G.on(T+M,g.event.click).on(T+M,g.event.search.focus)}else{if("click"==b.on)G.on(T+M,d.icon,g.event.icon.click).on(T+M,g.event.test.toggle);else if("hover"==b.on)G.on("mouseenter"+M,g.delay.show).on("mouseleave"+M,g.delay.hide);
else G.on(b.on+M,g.toggle);G.on("mousedown"+M,g.event.mousedown).on("mouseup"+M,g.event.mouseup).on("focus"+M,g.event.focus).on(T+M,d.clearIcon,g.event.clearIcon.click);if(g.has.menuSearch())G.on("blur"+M,d.search,g.event.search.blur);else G.on("blur"+M,g.event.blur)}v.on((x?"touchstart":"mouseenter")+M,d.item,g.event.item.mouseenter).on("mouseleave"+M,d.item,g.event.item.mouseleave).on("click"+M,d.item,g.event.item.click)},intent:function(){g.verbose("Binding hide intent event to document");if(x)S.on("touchstart"+
ea,g.event.test.touch).on("touchmove"+ea,g.event.test.touch);S.on(T+ea,g.event.test.hide)}},unbind:{intent:function(){g.verbose("Removing hide intent event from document");x&&S.off("touchstart"+ea).off("touchmove"+ea);S.off(T+ea)}},filter:function(d){var c=d!==h?d:g.get.query(),e=function(){g.is.multiple()&&g.filterActive();(d||!d&&0==g.get.activeItem().length)&&g.select.firstUnfiltered();g.has.allResultsFiltered()?b.onNoResults.call(p,c)?b.allowAdditions?b.hideAdditions&&(g.verbose("User addition with no menu, setting empty style"),
g.set.empty(),g.hideMenu()):(g.verbose("All items filtered, showing message",c),g.add.message(A.noResults)):(g.verbose("All items filtered, hiding dropdown",c),g.hideMenu()):(g.remove.empty(),g.remove.message());b.allowAdditions&&g.add.userSuggestion(g.escape.htmlEntities(d));g.is.searchSelection()&&g.can.show()&&g.is.focusedOnSearch()&&g.show()};b.useLabels&&g.has.maxSelections()||(b.apiSettings?g.can.useAPI()?g.queryRemote(c,function(){b.filterRemoteData&&g.filterItems(c);var d=R.val();Array.isArray(d)||
(d=d&&""!==d?d.split(b.delimiter):[]);g.is.multiple()&&a.each(d,function(a,b){U.filter('[data-value="'+b+'"]').addClass(n.filtered)});g.focusSearch(!0);e()}):g.error(f.noAPI):(g.filterItems(c),e()))},queryRemote:function(d,c,f){Array.isArray(f)||(f=[f]);d={errorDuration:!1,cache:"local",throttle:b.throttle,urlData:{query:d},onError:function(){g.add.message(A.serverError);da=Y=!1;c.apply(null,f)},onFailure:function(){g.add.message(A.serverError);da=Y=!1;c.apply(null,f)},onSuccess:function(a){a=a[K.remoteValues];
Array.isArray(a)||(a=[]);g.remove.message();var d={};d[K.values]=a;g.setup.menu(d);0!==a.length||b.allowAdditions?(a=g.is.multiple()?g.get.values():g.get.value(),""!==a&&(g.verbose("Value(s) present after click icon, select value(s) in items"),g.set.selected(a,null,null,!0))):g.add.message(A.noResults);da=Y=!1;c.apply(null,f)}};G.api("get request")||g.setup.api();d=a.extend(!0,{},d,b.apiSettings);G.api("setting",d).api("query")},filterItems:function(c){var f=g.remove.diacritics(c!==h?c:g.get.query()),
e=null;c=g.escape.string(f);var q=new RegExp("^"+c,(b.ignoreSearchCase?"i":"")+"gm");g.has.query()&&(e=[],g.verbose("Searching for matching values",f),U.each(function(){var d=a(this),c;if(d.hasClass(n.unfilterable))return e.push(this),!0;if("both"===b.match||"text"===b.match)if(c=g.remove.diacritics(String(g.get.choiceText(d,!1))),-1!==c.search(q)||"exact"===b.fullTextSearch&&g.exactSearch(f,c)||!0===b.fullTextSearch&&g.fuzzySearch(f,c))return e.push(this),!0;if("both"===b.match||"value"===b.match)if(d=
g.remove.diacritics(String(g.get.choiceValue(d,c))),-1!==d.search(q)||"exact"===b.fullTextSearch&&g.exactSearch(f,d)||!0===b.fullTextSearch&&g.fuzzySearch(f,d))return e.push(this),!0}));g.debug("Showing only matched items",f);g.remove.filteredItem();e&&U.not(e).addClass(n.filtered);g.has.query()?!0===b.hideDividers?X.addClass(n.hidden):"empty"===b.hideDividers&&X.removeClass(n.hidden).filter(function(){var b=a(this).nextUntil(d.item);return 0===(b.length?b:a(this)).nextUntil(d.divider).filter(d.item+
":not(."+n.filtered+")").length}).addClass(n.hidden):X.removeClass(n.hidden)},fuzzySearch:function(a,d){var g=d.length,c=a.length;a=b.ignoreSearchCase?a.toLowerCase():a;d=b.ignoreSearchCase?d.toLowerCase():d;if(c>g)return!1;if(c===g)return a===d;var f=0,e=0;a:for(;f<c;f++){for(var q=a.charCodeAt(f);e<g;)if(d.charCodeAt(e++)===q)continue a;return!1}return!0},exactSearch:function(a,d){a=b.ignoreSearchCase?a.toLowerCase():a;d=b.ignoreSearchCase?d.toLowerCase():d;return-1<d.indexOf(a)},filterActive:function(){b.useLabels&&
U.filter("."+n.active).addClass(n.filtered)},focusSearch:function(a){g.has.search()&&!g.is.focusedOnSearch()&&(a?(G.off("focus"+M,d.search),Q.focus(),G.on("focus"+M,d.search,g.event.search.focus)):Q.focus())},blurSearch:function(){g.has.search()&&Q.blur()},forceSelection:function(){var a=U.not(n.filtered).filter("."+n.selected).eq(0),d=U.not(n.filtered).filter("."+n.active).eq(0),a=0<a.length?a:d,d=0<a.length;b.allowAdditions||d&&!g.is.multiple()?(g.debug("Forcing partial selection to selected item",
a),g.event.item.click.call(a,{},!0)):g.remove.searchTerm()},change:{values:function(d){b.allowAdditions||g.clear();g.debug("Creating dropdown with specified values",d);var c={};c[K.values]=d;g.setup.menu(c);a.each(d,function(a,b){if(1==b.selected&&(g.debug("Setting initial selection to",b[K.value]),g.set.selected(b[K.value]),!g.is.multiple()))return!1});g.has.selectInput()&&(g.disconnect.selectObserver(),R.html(""),R.append("<option disabled selected value></option>"),a.each(d,function(a,d){a=b.templates.deQuote(d[K.value]);
d=b.templates.escape(d[K.name]||"",b.preserveHTML);R.append('<option value="'+a+'">'+d+"</option>")}),g.observe.select())}},event:{change:function(){ga||(g.debug("Input changed, updating selection"),g.set.selected())},focus:function(){b.showOnFocus&&!W&&g.is.hidden()&&!la&&(da=!0,g.show())},blur:function(a){la=F.activeElement===this;W||la||(g.remove.activeLabel(),g.hide())},mousedown:function(){g.is.searchSelection()?ma=!0:W=!0},mouseup:function(){g.is.searchSelection()?ma=!1:W=!1},click:function(b){a(b.target).is(G)&&
(g.is.focusedOnSearch()?g.show():g.focusSearch())},search:{focus:function(a){W=!0;g.is.multiple()&&g.remove.activeLabel();da||g.is.active()||!(b.showOnFocus||"focus"!==a.type&&"focusin"!==a.type)||(da=!0,g.search())},blur:function(a){la=F.activeElement===this;!g.is.searchSelection()||ma||w||la||(b.forceSelection?g.forceSelection():b.allowAdditions||g.remove.searchTerm(),g.hide());ma=!1}},clearIcon:{click:function(a){g.clear();g.is.searchSelection()&&g.remove.searchTerm();g.hide();a.stopPropagation()}},
icon:{click:function(a){Y=!0;g.has.search()?g.is.active()?g.blurSearch():b.showOnFocus?g.focusSearch():g.toggle():g.toggle();a.stopPropagation()}},text:{focus:function(a){W=!0;g.focusSearch()}},input:function(a){(g.is.multiple()||g.is.searchSelection())&&g.set.filtered();clearTimeout(g.timer);g.timer=setTimeout(g.search,b.delay.search)},label:{click:function(g){var c=a(this),f=G.find(d.label),e=f.filter("."+n.active),q=c.nextAll("."+n.active),t=c.prevAll("."+n.active),q=0<q.length?c.nextUntil(q).add(e).add(c):
c.prevUntil(t).add(e).add(c);g.shiftKey?(e.removeClass(n.active),q.addClass(n.active)):g.ctrlKey?c.toggleClass(n.active):(e.removeClass(n.active),c.addClass(n.active));b.onLabelSelect.apply(this,f.filter("."+n.active));g.stopPropagation()}},remove:{click:function(b){var d=a(this).parent();d.hasClass(n.active)?g.remove.activeLabels():g.remove.activeLabels(d);b.stopPropagation()}},test:{toggle:function(a){var b=g.is.multiple()?g.show:g.toggle;if(!g.is.bubbledLabelClick(a)&&!g.is.bubbledIconClick(a)){if(!g.is.multiple()||
g.is.multiple()&&!g.is.active())da=!0;g.determine.eventOnElement(a,b)&&a.preventDefault()}},touch:function(a){g.determine.eventOnElement(a,function(){"touchstart"==a.type?g.timer=setTimeout(function(){g.hide()},b.delay.touch):"touchmove"==a.type&&clearTimeout(g.timer)});a.stopPropagation()},hide:function(b){g.determine.eventInModule(b,g.hide)&&p.id&&a(b.target).attr("for")===p.id&&b.preventDefault()}},class:{mutation:function(a){a.forEach(function(a){"class"===a.attributeName&&g.check.disabled()})}},
select:{mutation:function(a){g.debug("<select> modified, recreating menu");g.is.selectMutation(a)&&(g.disconnect.selectObserver(),g.refresh(),g.setup.select(),g.set.selected(),g.observe.select())}},menu:{mutation:function(b){var c=b[0];b=c.addedNodes?a(c.addedNodes[0]):a(!1);c=c.removedNodes?a(c.removedNodes[0]):a(!1);c=b.add(c);b=c.is(d.addition)||0<c.closest(d.addition).length;c=c.is(d.message)||0<c.closest(d.message).length;b||c?(g.debug("Updating item selector cache"),g.refreshItems()):(g.debug("Menu modified, updating selector cache"),
g.refresh())},mousedown:function(){w=!0},mouseup:function(){w=!1}},item:{mouseenter:function(c){var f=a(c.target),e=a(this),q=e.children(d.menu),t=e.siblings(d.item).children(d.menu),e=0<q.length;0<q.find(f).length||!e||(clearTimeout(g.itemTimer),g.itemTimer=setTimeout(function(){g.verbose("Showing sub-menu",q);a.each(t,function(){g.animate.hide(!1,a(this))});g.animate.show(!1,q)},b.delay.show),c.preventDefault())},mouseleave:function(c){var f=a(this).children(d.menu);0<f.length&&(clearTimeout(g.itemTimer),
g.itemTimer=setTimeout(function(){g.verbose("Hiding sub-menu",f);g.animate.hide(!1,f)},b.delay.hide))},click:function(c,f){var e=a(this),q=c?a(c.target):a(""),t=e.find(d.menu);c=g.get.choiceText(e);var h=g.get.choiceValue(e,c),k=0<t.length,q=0<t.find(q).length;"input"!==F.activeElement.tagName.toLowerCase()&&a(F.activeElement).blur();q||k&&!b.allowCategorySelection||(g.is.searchSelection()&&(b.allowAdditions&&g.remove.userAddition(),g.remove.searchTerm(),g.is.focusedOnSearch()||1==f||g.focusSearch(!0)),
b.useLabels||(g.remove.filteredItem(),g.set.scrollPosition(e)),g.determine.selectAction.call(this,c,h))}},document:{keydown:function(a){var b=a.which;if(g.is.inObject(b,z)){var c=G.find(d.label),f=c.filter("."+n.active);f.data(r.value);var e=c.index(f),q=0<f.length,t=1<f.length,h=0===e,e=e+1==c.length,k=g.is.searchSelection(),v=g.is.focusedOnSearch(),p=g.is.focused(),m=v&&0===g.get.caretPosition(!1),U=m&&0!==g.get.caretPosition(!0);if(!k||q||v)b==z.leftArrow?!p&&!m||q?q&&(a.shiftKey?g.verbose("Adding previous label to selection"):
(g.verbose("Selecting previous label"),c.removeClass(n.active)),h&&!t?f.addClass(n.active):f.prev(d.siblingLabel).addClass(n.active).end(),a.preventDefault()):(g.verbose("Selecting previous label"),c.last().addClass(n.active)):b==z.rightArrow?(p&&!q&&c.first().addClass(n.active),q&&(a.shiftKey?g.verbose("Adding next label to selection"):(g.verbose("Selecting next label"),c.removeClass(n.active)),e?k?v?c.removeClass(n.active):g.focusSearch():t?f.next(d.siblingLabel).addClass(n.active):f.addClass(n.active):
f.next(d.siblingLabel).addClass(n.active),a.preventDefault())):b==z.deleteKey||b==z.backspace?q?(g.verbose("Removing active labels"),e&&k&&!v&&g.focusSearch(),f.last().next(d.siblingLabel).addClass(n.active),g.remove.activeLabels(f),a.preventDefault()):!m||U||q||b!=z.backspace||(g.verbose("Removing last label on input backspace"),f=c.last().addClass(n.active),g.remove.activeLabels(f)):f.removeClass(n.active)}}},keydown:function(a){var c=a.which;if(g.is.inObject(c,z)){var f=U.not(d.unselectable).filter("."+
n.selected).eq(0),e=v.children("."+n.active).eq(0),f=0<f.length?f:e,e=0<f.length?f.siblings(":not(."+n.filtered+")").addBack():v.children(":not(."+n.filtered+")"),q=f.children(d.menu),t=f.closest(d.menu),h=t.hasClass(n.visible)||t.hasClass(n.animating)||0<t.parent(d.menu).length,k=0<q.length,p=0<f.length,m=0<f.not(d.unselectable).length,w=c==z.delimiter&&b.allowAdditions&&g.is.multiple();b.allowAdditions&&b.hideAdditions&&(c==z.enter||w)&&m&&(g.verbose("Selecting item from keyboard shortcut",f),g.event.item.click.call(f,
a),g.is.searchSelection()&&g.remove.searchTerm(),g.is.multiple()&&a.preventDefault());if(g.is.visible()){if(c==z.enter||w)c==z.enter&&p&&k&&!b.allowCategorySelection?(g.verbose("Pressed enter on unselectable category, opening sub menu"),c=z.rightArrow):m&&(g.verbose("Selecting item from keyboard shortcut",f),g.event.item.click.call(f,a),g.is.searchSelection()&&(g.remove.searchTerm(),g.is.multiple()&&Q.focus())),a.preventDefault();p&&(c==z.leftArrow&&(m=t[0]!==v[0])&&(g.verbose("Left key pressed, closing sub-menu"),
g.animate.hide(!1,t),f.removeClass(n.selected),t.closest(d.item).addClass(n.selected),a.preventDefault()),c==z.rightArrow&&k&&(g.verbose("Right key pressed, opening sub-menu"),g.animate.show(!1,q),f.removeClass(n.selected),q.find(d.item).eq(0).addClass(n.selected),a.preventDefault()));if(c==z.upArrow){q=p&&h?f.prevAll(d.item+":not("+d.unselectable+")").eq(0):U.eq(0);if(0>e.index(q)){g.verbose("Up key pressed but reached top of current menu");a.preventDefault();return}g.verbose("Up key pressed, changing active item");
f.removeClass(n.selected);q.addClass(n.selected);g.set.scrollPosition(q);b.selectOnKeydown&&g.is.single()&&g.set.selectedItem(q);a.preventDefault()}if(c==z.downArrow){q=p&&h?q=f.nextAll(d.item+":not("+d.unselectable+")").eq(0):U.eq(0);if(0===q.length){g.verbose("Down key pressed but reached bottom of current menu");a.preventDefault();return}g.verbose("Down key pressed, changing active item");U.removeClass(n.selected);q.addClass(n.selected);g.set.scrollPosition(q);b.selectOnKeydown&&g.is.single()&&
g.set.selectedItem(q);a.preventDefault()}c==z.pageUp&&(g.scrollPage("up"),a.preventDefault());c==z.pageDown&&(g.scrollPage("down"),a.preventDefault());c==z.escape&&(g.verbose("Escape key pressed, closing dropdown"),g.hide())}else w&&a.preventDefault(),c!=z.downArrow||g.is.visible()||(g.verbose("Down key pressed, showing dropdown"),g.show(),a.preventDefault())}else g.has.search()||g.set.selectedLetter(String.fromCharCode(c))}},trigger:{change:function(){var a=R[0];if(a){var b=F.createEvent("HTMLEvents");
g.verbose("Triggering native change event");b.initEvent("change",!0,!1);a.dispatchEvent(b)}}},determine:{selectAction:function(d,c){qa=!0;g.verbose("Determining action",b.action);a.isFunction(g.action[b.action])?(g.verbose("Triggering preset action",b.action,d,c),g.action[b.action].call(p,d,c,this)):a.isFunction(b.action)?(g.verbose("Triggering user action",b.action,d,c),b.action.call(p,d,c,this)):g.error(f.action,b.action);qa=!1},eventInModule:function(b,d){var c=a(b.target);b=0<c.closest(F.documentElement).length;
c=0<c.closest(G).length;d=a.isFunction(d)?d:function(){};if(b&&!c)return g.verbose("Triggering event",d),d(),!0;g.verbose("Event occurred in dropdown, canceling callback");return!1},eventOnElement:function(c,f){var e=a(c.target),q=e.closest(d.siblingLabel);c=F.body.contains(c.target);q=0===G.find(q).length||!(g.is.multiple()&&b.useLabels);e=0===e.closest(v).length;f=a.isFunction(f)?f:function(){};if(c&&q&&e)return g.verbose("Triggering event",f),f(),!0;g.verbose("Event occurred in dropdown menu, canceling callback");
return!1}},action:{nothing:function(){},activate:function(b,d,c){d=d!==h?d:b;g.can.activate(a(c))&&(g.set.selected(d,a(c)),g.is.multiple()||g.hideAndClear())},select:function(b,d,c){d=d!==h?d:b;g.can.activate(a(c))&&(g.set.value(d,b,a(c)),g.is.multiple()||g.hideAndClear())},combo:function(b,d,c){d=d!==h?d:b;g.set.selected(d,a(c));g.hideAndClear()},hide:function(b,d,c){g.set.value(d,b,a(c));g.hideAndClear()}},get:{id:function(){return na},defaultText:function(){return G.data(r.defaultText)},defaultValue:function(){return G.data(r.defaultValue)},
placeholderText:function(){return"auto"!=b.placeholder&&"string"==typeof b.placeholder?b.placeholder:G.data(r.placeholderText)||""},text:function(){return b.preserveHTML?E.html():E.text()},query:function(){return String(Q.val()).trim()},searchWidth:function(a){a=a!==h?a:Q.val();V.text(a);return Math.ceil(V.width()+1)},selectionCount:function(){var a=g.get.values();return g.is.multiple()?Array.isArray(a)?a.length:0:""!==g.get.value()?1:0},transition:function(a){return"auto"===b.transition?g.is.upward(a)?
"slide up":"slide down":b.transition},userValues:function(){var b=g.get.values();if(!b)return!1;b=Array.isArray(b)?b:[b];return a.grep(b,function(a){return!1===g.get.item(a)})},uniqueArray:function(b){return a.grep(b,function(d,c){return a.inArray(d,b)===c})},caretPosition:function(a){var b=Q.get(0),d,c;if(a&&"selectionEnd"in b)return b.selectionEnd;if(!a&&"selectionStart"in b)return b.selectionStart;if(F.selection){b.focus();d=F.selection.createRange();c=d.text.length;if(a)return c;d.moveStart("character",
-b.value.length);return d.text.length-c}},value:function(){var a=0<R.length?R.val():G.data(r.value),b=Array.isArray(a)&&1===a.length&&""===a[0];return a===h||b?"":a},values:function(a){var d=g.get.value();return""===d?"":!g.has.selectInput()&&g.is.multiple()?"string"==typeof d?(a?d:g.escape.htmlEntities(d)).split(b.delimiter):"":d},remoteValues:function(){var b=g.get.values(),d=!1;b&&("string"==typeof b&&(b=[b]),a.each(b,function(a,b){a=g.read.remoteData(b);g.verbose("Restoring value from session data",
a,b);a&&(d||(d={}),d[b]=a)}));return d},choiceText:function(a,c){c=c!==h?c:b.preserveHTML;if(a)return 0<a.find(d.menu).length&&(g.verbose("Retrieving text of element with sub-menu"),a=a.clone(),a.find(d.menu).remove(),a.find(d.menuIcon).remove()),a.data(r.text)!==h?a.data(r.text):c?a.html()&&a.html().trim():a.text()&&a.text().trim()},choiceValue:function(a,d){d=d||g.get.choiceText(a);return a?a.data(r.value)!==h?String(a.data(r.value)):"string"===typeof d?String(b.ignoreSearchCase?d.toLowerCase():
d).trim():String(d):!1},inputEvent:function(){var a=Q[0];return a?a.oninput!==h?"input":a.onpropertychange!==h?"propertychange":"keyup":!1},selectValues:function(){var d={},c=[],f=[];G.find("option").each(function(){var g=a(this),e=g.html(),q=g.attr("disabled"),t=g.attr("value")!==h?g.attr("value"):e,k=g.data(r.text)!==h?g.data(r.text):e,g=g.parent("optgroup");if("auto"===b.placeholder&&""===t)d.placeholder=e;else{if(g.length!==c.length||g[0]!==c[0])f.push({type:"header",divider:b.headerDivider,name:g.attr("label")||
""}),c=g;f.push({name:e,value:t,text:k,disabled:q})}});b.placeholder&&"auto"!==b.placeholder&&(g.debug("Setting placeholder value to",b.placeholder),d.placeholder=b.placeholder);b.sortSelect?(!0===b.sortSelect?f.sort(function(a,b){return a.name.localeCompare(b.name)}):"natural"===b.sortSelect?f.sort(function(a,b){return a.name.toLowerCase().localeCompare(b.name.toLowerCase())}):a.isFunction(b.sortSelect)&&f.sort(b.sortSelect),d[K.values]=f,g.debug("Retrieved and sorted values from select",d)):(d[K.values]=
f,g.debug("Retrieved values from select",d));return d},activeItem:function(){return U.filter("."+n.active)},selectedItem:function(){var a=U.not(d.unselectable).filter("."+n.selected);return 0<a.length?a:U.eq(0)},itemWithAdditions:function(a){var b=g.get.item(a);(a=g.create.userChoice(a))&&0<a.length&&(b=0<b.length?b.add(a):a);return b},item:function(d,c){var f=!1,e,q;d=d!==h?d:g.get.values()!==h?g.get.values():g.get.text();e=(q=g.is.multiple()&&Array.isArray(d))?0<d.length:d!==h&&null!==d;c=""===
d||!1===d||!0===d?!0:c||!1;e&&U.each(function(){var e=a(this),t=g.get.choiceText(e),t=g.get.choiceValue(e,t);if(null!==t&&t!==h)if(q)-1!==a.inArray(g.escape.htmlEntities(String(t)),d.map(function(a){return String(a)}))&&(f=f?f.add(e):e);else if(c){if(g.verbose("Ambiguous dropdown value using strict type check",e,d),t===d)return f=e,!0}else if(b.ignoreCase&&(t=t.toLowerCase(),d=d.toLowerCase()),g.escape.htmlEntities(String(t))===g.escape.htmlEntities(String(d)))return g.verbose("Found select item by value",
t,d),f=e,!0});return f},displayType:function(){return G.hasClass("column")?"flex":b.displayType}},check:{maxSelections:function(a){if(b.maxSelections)if(a=a!==h?a:g.get.selectionCount(),a>=b.maxSelections)g.debug("Maximum selection count reached"),b.useLabels&&(U.addClass(n.filtered),g.add.message(A.maxSelections));else return g.verbose("No longer at maximum selection count"),g.remove.message(),g.remove.filteredItem(),g.is.searchSelection()&&g.filterItems(),!1;return!0},disabled:function(){Q.attr("tabindex",
g.is.disabled()?-1:0)}},restore:{defaults:function(a){g.clear(a);g.restore.defaultText();g.restore.defaultValue()},defaultText:function(){var a=g.get.defaultText();a===g.get.placeholderText?(g.debug("Restoring default placeholder text",a),g.set.placeholderText(a)):(g.debug("Restoring default text",a),g.set.text(a))},placeholderText:function(){g.set.placeholderText()},defaultValue:function(){var a=g.get.defaultValue();a!==h&&(g.debug("Restoring default value",a),""!==a?(g.set.value(a),g.set.selected()):
(g.remove.activeItem(),g.remove.selectedItem()))},labels:function(){b.allowAdditions&&(b.useLabels||(g.error(f.labels),b.useLabels=!0),g.debug("Restoring selected values"),g.create.userLabels());g.check.maxSelections()},selected:function(){g.restore.values();g.is.multiple()?(g.debug("Restoring previously selected values and labels"),g.restore.labels()):g.debug("Restoring previously selected values")},values:function(){g.set.initialLoad();b.apiSettings&&b.saveRemoteData&&g.get.remoteValues()?g.restore.remoteValues():
g.set.selected();var a=g.get.value();!a||""===a||Array.isArray(a)&&0===a.length?R.addClass(n.noselection):R.removeClass(n.noselection);g.remove.initialLoad()},remoteValues:function(){var b=g.get.remoteValues();g.debug("Recreating selected from session data",b);b&&(g.is.single()?a.each(b,function(a,b){g.set.text(b)}):a.each(b,function(a,b){g.add.label(a,b)}))}},read:{remoteData:function(a){if(l.Storage===h)g.error(f.noStorage);else return a=sessionStorage.getItem(a),a!==h?a:!1}},save:{defaults:function(){g.save.defaultText();
g.save.placeholderText();g.save.defaultValue()},defaultValue:function(){var a=g.get.value();g.verbose("Saving default value as",a);G.data(r.defaultValue,a)},defaultText:function(){var a=g.get.text();g.verbose("Saving default text as",a);G.data(r.defaultText,a)},placeholderText:function(){var a;!1!==b.placeholder&&E.hasClass(n.placeholder)&&(a=g.get.text(),g.verbose("Saving placeholder text as",a),G.data(r.placeholderText,a))},remoteData:function(a,b){l.Storage===h?g.error(f.noStorage):(g.verbose("Saving remote data to session storage",
b,a),sessionStorage.setItem(b,a))}},clear:function(a){g.is.multiple()&&b.useLabels?g.remove.labels(G.find(d.label),a):(g.remove.activeItem(),g.remove.selectedItem(),g.remove.filteredItem());g.set.placeholderText();g.clearValue(a)},clearValue:function(a){g.set.value("",null,null,a)},scrollPage:function(a,c){c=c||g.get.selectedItem();var f=c.closest(d.menu),e=f.outerHeight(),q=f.scrollTop(),t=U.eq(0).outerHeight(),e=Math.floor(e/t);f.prop("scrollHeight");q="up"==a?q-t*e:q+t*e;t=U.not(d.unselectable);
e="up"==a?t.index(c)-e:t.index(c)+e;e=("up"==a?0<=e:e<t.length)?t.eq(e):"up"==a?t.first():t.last();0<e.length&&(g.debug("Scrolling page",a,e),c.removeClass(n.selected),e.addClass(n.selected),b.selectOnKeydown&&g.is.single()&&g.set.selectedItem(e),f.scrollTop(q))},set:{filtered:function(){var a=g.is.multiple(),d=g.is.searchSelection(),c=a&&d,f=d?g.get.query():"",d="string"===typeof f&&0<f.length,e=g.get.searchWidth(),f=""!==f;a&&d&&(g.verbose("Adjusting input width",e,b.glyphWidth),Q.css("width",e));
if(d||c&&f)g.verbose("Hiding placeholder text"),E.addClass(n.filtered);else if(!a||c&&!f)g.verbose("Showing placeholder text"),E.removeClass(n.filtered)},empty:function(){G.addClass(n.empty)},loading:function(){G.addClass(n.loading)},placeholderText:function(a){a=a||g.get.placeholderText();g.debug("Setting placeholder text",a);g.set.text(a);E.addClass(n.placeholder)},tabbable:function(){g.is.searchSelection()?(g.debug("Added tabindex to searchable dropdown"),Q.val(""),g.check.disabled(),v.attr("tabindex",
-1)):(g.debug("Added tabindex to dropdown"),G.attr("tabindex")===h&&(G.attr("tabindex",0),v.attr("tabindex",-1)))},initialLoad:function(){g.verbose("Setting initial load");ra=!0},activeItem:function(a){b.allowAdditions&&0<a.filter(d.addition).length?a.addClass(n.filtered):a.addClass(n.active)},partialSearch:function(a){var b=g.get.query().length;Q.val(a.substr(0,b))},scrollPosition:function(a,b){var c,f,e,q,t;a=a||g.get.selectedItem();c=a.closest(d.menu);f=a&&0<a.length;b=b!==h?b:!1;0===g.get.activeItem().length&&
(b=!1);a&&0<c.length&&f&&(a.position(),c.addClass(n.loading),f=c.scrollTop(),e=c.offset().top,a=a.offset().top,a=f-e+a,b||(q=c.height(),t=f+q<a+5,q=a-5<f),g.debug("Scrolling to active item",a),(b||q||t)&&c.scrollTop(a),c.removeClass(n.loading))},text:function(a){"combo"===b.action?(g.debug("Changing combo button text",a,q),b.preserveHTML?q.html(a):q.text(a)):"activate"===b.action&&(a!==g.get.placeholderText()&&E.removeClass(n.placeholder),g.debug("Changing text",a,E),E.removeClass(n.filtered),b.preserveHTML?
E.html(a):E.text(a))},selectedItem:function(a){var b=g.get.choiceValue(a),d=g.get.choiceText(a,!1),c=g.get.choiceText(a,!0);g.debug("Setting user selection to item",a);g.remove.activeItem();g.set.partialSearch(d);g.set.activeItem(a);g.set.selected(b,a);g.set.text(c)},selectedLetter:function(d){var c=U.filter("."+n.selected),f=!1,e;0<c.length&&g.has.firstLetter(c,d)&&(e=c.nextAll(U).eq(0),g.has.firstLetter(e,d)&&(f=e));f||U.each(function(){if(g.has.firstLetter(a(this),d))return f=a(this),!1});f&&(g.verbose("Scrolling to next value with letter",
d),g.set.scrollPosition(f),c.removeClass(n.selected),f.addClass(n.selected),b.selectOnKeydown&&g.is.single()&&g.set.selectedItem(f))},direction:function(a){"auto"==b.direction?(a?g.is.upward(a)&&g.remove.upward(a):g.remove.upward(),g.can.openDownward(a)?g.remove.upward(a):g.set.upward(a),g.is.leftward(a)||g.can.openRightward(a)||g.set.leftward(a)):"upward"==b.direction&&g.set.upward(a)},upward:function(a){(a||G).addClass(n.upward)},leftward:function(a){(a||v).addClass(n.leftward)},value:function(a,
d,c,f){a===h||""===a||Array.isArray(a)&&0===a.length?R.addClass(n.noselection):R.removeClass(n.noselection);var e=g.escape.value(a),q=0<R.length,t=g.get.values(),k=a!==h?String(a):a;if(q){if(!b.allowReselection&&k==t&&(g.verbose("Skipping value update already same value",a,t),!g.is.initialLoad()))return;g.is.single()&&g.has.selectInput()&&g.can.extendSelect()&&(g.debug("Adding user option",a),g.add.optionValue(a));g.debug("Updating input value",e,t);ga=!0;R.val(e);!1===b.fireOnInit&&g.is.initialLoad()?
g.debug("Input native change event ignored on initial load"):!0!==f&&g.trigger.change();ga=!1}else g.verbose("Storing value in metadata",e,R),e!==t&&G.data(r.value,k);!1===b.fireOnInit&&g.is.initialLoad()?g.verbose("No callback on initial load",b.onChange):!0!==f&&b.onChange.call(p,a,d,c)},active:function(){G.addClass(n.active)},multiple:function(){G.addClass(n.multiple)},visible:function(){G.addClass(n.visible)},exactly:function(a,b){g.debug("Setting selected to exact values");g.clear();g.set.selected(a,
b)},selected:function(d,c,f,e){var q=g.is.multiple();if(c=b.allowAdditions?c||g.get.itemWithAdditions(d):c||g.get.item(d))g.debug("Setting selected menu item to",c),g.is.multiple()&&g.remove.searchWidth(),g.is.single()?(g.remove.activeItem(),g.remove.selectedItem()):b.useLabels&&g.remove.selectedItem(),c.each(function(){var d=a(this),t=g.get.choiceText(d),h=g.get.choiceValue(d,t),k=d.hasClass(n.filtered),v=d.hasClass(n.active),p=d.hasClass(n.addition),m=q&&1==c.length;q?!v||p?(b.apiSettings&&b.saveRemoteData&&
g.save.remoteData(t,h),b.useLabels?(g.add.label(h,t,m),g.add.value(h,t,d),g.set.activeItem(d),g.filterActive(),g.select.nextAvailable(c)):(g.add.value(h,t,d),g.set.text(g.add.variables(A.count)),g.set.activeItem(d))):k||!b.useLabels&&!qa||(g.debug("Selected active value, removing label"),g.remove.selected(h)):(b.apiSettings&&b.saveRemoteData&&g.save.remoteData(t,h),e||g.set.text(t),g.set.value(h,t,d,f),d.addClass(n.active).addClass(n.selected))}),e||g.remove.searchTerm()}},add:{label:function(d,c,
f){var e=g.is.searchSelection()?Q:E,q=g.escape.value(d),t;b.ignoreCase&&(q=q.toLowerCase());t=a("<a />").addClass(n.label).attr("data-"+r.value,q).html(O.label(q,c,b.preserveHTML,b.className));t=b.onLabelCreate.call(t,q,c);g.has.label(d)?g.debug("User selection already exists, skipping",q):(b.label.variation&&t.addClass(b.label.variation),!0===f?(g.debug("Animating in label",t),t.addClass(n.hidden).insertBefore(e).transition({animation:b.label.transition,debug:b.debug,verbose:b.verbose,duration:b.label.duration})):
(g.debug("Adding selection label",t),t.insertBefore(e)))},message:function(c){var f=v.children(d.message);c=b.templates.message(g.add.variables(c));0<f.length?f.html(c):a("<div/>").html(c).addClass(n.message).appendTo(v)},optionValue:function(b){var d=g.escape.value(b);0<R.find('option[value="'+g.escape.string(d)+'"]').length||(g.disconnect.selectObserver(),g.is.single()&&(g.verbose("Removing previous user addition"),R.find("option."+n.addition).remove()),a("<option/>").prop("value",d).addClass(n.addition).html(b).appendTo(R),
g.verbose("Adding user addition as an <option>",b),g.observe.select())},userSuggestion:function(a){var c=v.children(d.addition),f=g.get.item(a),f=f&&f.not(d.addition).length,e=0<c.length;b.useLabels&&g.has.maxSelections()||(""===a||f?c.remove():(e?(c.data(r.value,a).data(r.text,a).attr("data-"+r.value,a).attr("data-"+r.text,a).removeClass(n.filtered),b.hideAdditions||(a=b.templates.addition(g.add.variables(A.addResult,a)),c.html(a)),g.verbose("Replacing user suggestion with new value",c)):(c=g.create.userChoice(a),
c.prependTo(v),g.verbose("Adding item choice to menu corresponding with user choice addition",c)),b.hideAdditions&&!g.is.allFiltered()||c.addClass(n.selected).siblings().removeClass(n.selected),g.refreshItems()))},variables:function(a,d){var c=-1!==a.search("{count}"),f=-1!==a.search("{maxCount}"),e=-1!==a.search("{term}");g.verbose("Adding templated variables to message",a);c&&(c=g.get.selectionCount(),a=a.replace("{count}",c));f&&(g.get.selectionCount(),a=a.replace("{maxCount}",b.maxSelections));
e&&(d=d||g.get.query(),a=a.replace("{term}",d));return a},value:function(a,d,c){var f=g.get.values(!0);g.has.value(a)?g.debug("Value already selected"):""===a?g.debug("Cannot select blank values from multiselect"):(Array.isArray(f)?(f=f.concat([a]),f=g.get.uniqueArray(f)):f=[a],g.has.selectInput()?g.can.extendSelect()&&(g.debug("Adding value to select",a,f,R),g.add.optionValue(a)):(f=f.join(b.delimiter),g.debug("Setting hidden input to delimited value",f,R)),!1===b.fireOnInit&&g.is.initialLoad()?
g.verbose("Skipping onadd callback on initial load",b.onAdd):b.onAdd.call(p,a,d,c),g.set.value(f,d,c),g.check.maxSelections())}},remove:{active:function(){G.removeClass(n.active)},activeLabel:function(){G.find(d.label).removeClass(n.active)},empty:function(){G.removeClass(n.empty)},loading:function(){G.removeClass(n.loading)},initialLoad:function(){ra=!1},upward:function(a){(a||G).removeClass(n.upward)},leftward:function(a){(a||v).removeClass(n.leftward)},visible:function(){G.removeClass(n.visible)},
activeItem:function(){U.removeClass(n.active)},filteredItem:function(){b.useLabels&&g.has.maxSelections()||(b.useLabels&&g.is.multiple()?U.not("."+n.active).removeClass(n.filtered):U.removeClass(n.filtered),b.hideDividers&&X.removeClass(n.hidden),g.remove.empty())},optionValue:function(a){a=g.escape.value(a);var b=R.find('option[value="'+g.escape.string(a)+'"]');0<b.length&&b.hasClass(n.addition)&&(ca&&(ca.disconnect(),g.verbose("Temporarily disconnecting mutation observer")),b.remove(),g.verbose("Removing user addition as an <option>",
a),ca&&ca.observe(R[0],{childList:!0,subtree:!0}))},message:function(){v.children(d.message).remove()},searchWidth:function(){Q.css("width","")},searchTerm:function(){g.verbose("Cleared search term");Q.val("");g.set.filtered()},userAddition:function(){U.filter(d.addition).remove()},selected:function(d,c,f){c=b.allowAdditions?c||g.get.itemWithAdditions(d):c||g.get.item(d);if(!c)return!1;c.each(function(){var d=a(this),c=g.get.choiceText(d),e=g.get.choiceValue(d,c);g.is.multiple()?b.useLabels?(g.remove.value(e,
c,d,f),g.remove.label(e)):(g.remove.value(e,c,d,f),0===g.get.selectionCount()?g.set.placeholderText():g.set.text(g.add.variables(A.count))):g.remove.value(e,c,d,f);d.removeClass(n.filtered).removeClass(n.active);b.useLabels&&d.removeClass(n.selected)})},selectedItem:function(){U.removeClass(n.selected)},value:function(a,d,c,f){var e=g.get.values();a=g.escape.htmlEntities(a);g.has.selectInput()?(g.verbose("Input is <select> removing selected option",a),e=g.remove.arrayValue(a,e),g.remove.optionValue(a)):
(g.verbose("Removing from delimited values",a),e=g.remove.arrayValue(a,e),e=e.join(b.delimiter));!1===b.fireOnInit&&g.is.initialLoad()?g.verbose("No callback on initial load",b.onRemove):b.onRemove.call(p,a,d,c);g.set.value(e,d,c,f);g.check.maxSelections()},arrayValue:function(b,d){Array.isArray(d)||(d=[d]);d=a.grep(d,function(a){return b!=a});g.verbose("Removed value from delimited string",b,d);return d},label:function(a,c){a=g.escape.value(a);a=G.find(d.label).filter("[data-"+r.value+'="'+g.escape.string(b.ignoreCase?
a.toLowerCase():a)+'"]');g.verbose("Removing label",a);a.remove()},activeLabels:function(a){a=a||G.find(d.label).filter("."+n.active);g.verbose("Removing active label selections",a);g.remove.labels(a)},labels:function(c,f){c=c||G.find(d.label);g.verbose("Removing labels",c);c.each(function(){var d=a(this),c=d.data(r.value),e=c!==h?String(c):c,q=g.is.userValue(e);!1===b.onLabelRemove.call(d,c)?g.debug("Label remove callback cancelled removal"):(g.remove.message(),q?(g.remove.value(e,e,g.get.item(e),
f),g.remove.label(e)):g.remove.selected(e,!1,f))})},tabbable:function(){g.is.searchSelection()?(g.debug("Searchable dropdown initialized"),Q.removeAttr("tabindex")):(g.debug("Simple selection dropdown initialized"),G.removeAttr("tabindex"));v.removeAttr("tabindex")},diacritics:function(a){return b.ignoreDiacritics?a.normalize("NFD").replace(/[\u0300-\u036f]/g,""):a}},has:{menuSearch:function(){return g.has.search()&&0<Q.closest(v).length},clearItem:function(){return 0<t.length},search:function(){return 0<
Q.length},sizer:function(){return 0<V.length},selectInput:function(){return R.is("select")},minCharacters:function(a){if(b.minCharacters&&!Y)return a=a!==h?String(a):String(g.get.query()),a.length>=b.minCharacters;Y=!1;return!0},firstLetter:function(a,b){if(!a||0===a.length||"string"!==typeof b)return!1;a=g.get.choiceText(a,!1);b=b.toLowerCase();a=String(a).charAt(0).toLowerCase();return b==a},input:function(){return 0<R.length},items:function(){return 0<U.length},menu:function(){return 0<v.length},
subMenu:function(a){return 0<(a||v).find(d.menu).length},message:function(){return 0!==v.children(d.message).length},label:function(a){a=g.escape.value(a);var c=G.find(d.label);b.ignoreCase&&(a=a.toLowerCase());return 0<c.filter("[data-"+r.value+'="'+g.escape.string(a)+'"]').length},maxSelections:function(){return b.maxSelections&&g.get.selectionCount()>=b.maxSelections},allResultsFiltered:function(){var a=U.not(d.addition);return a.filter(d.unselectable).length===a.length},userSuggestion:function(){return 0<
v.children(d.addition).length},query:function(){return""!==g.get.query()},value:function(a){return b.ignoreCase?g.has.valueIgnoringCase(a):g.has.valueMatchingCase(a)},valueMatchingCase:function(b){var d=g.get.values(!0);return(Array.isArray(d)?d&&-1!==a.inArray(b,d):d==b)?!0:!1},valueIgnoringCase:function(b){var d=g.get.values(!0),c=!1;Array.isArray(d)||(d=[d]);a.each(d,function(a,d){if(String(b).toLowerCase()==String(d).toLowerCase())return c=!0,!1});return c}},is:{active:function(){return G.hasClass(n.active)},
animatingInward:function(){return v.transition("is inward")},animatingOutward:function(){return v.transition("is outward")},bubbledLabelClick:function(b){return a(b.target).is("select, input")&&0<G.closest("label").length},bubbledIconClick:function(b){return 0<a(b.target).closest(B).length},chrome:function(){return!!l.chrome&&(!!l.chrome.webstore||!!l.chrome.runtime)},alreadySetup:function(){return G.is("select")&&G.parent(d.dropdown).data(m)!==h&&0===G.prev().length},animating:function(a){return a?
a.transition&&a.transition("is animating"):v.transition&&v.transition("is animating")},leftward:function(a){return(a||v).hasClass(n.leftward)},clearable:function(){return G.hasClass(n.clearable)||b.clearable},disabled:function(){return G.hasClass(n.disabled)},focused:function(){return F.activeElement===G[0]},focusedOnSearch:function(){return F.activeElement===Q[0]},allFiltered:function(){return(g.is.multiple()||g.has.search())&&!(0==b.hideAdditions&&g.has.userSuggestion())&&!g.has.message()&&g.has.allResultsFiltered()},
hidden:function(a){return!g.is.visible(a)},initialLoad:function(){return ra},inObject:function(b,d){var c=!1;a.each(d,function(a,d){if(d==b)return c=!0});return c},multiple:function(){return G.hasClass(n.multiple)},remote:function(){return b.apiSettings&&g.can.useAPI()},noApiCache:function(){return b.apiSettings&&!b.apiSettings.cache},single:function(){return!g.is.multiple()},selectMutation:function(b){var d=!1;a.each(b,function(b,c){if(a(c.target).is("select")||a(c.addedNodes).is("select"))return d=
!0,!1});return d},search:function(){return G.hasClass(n.search)},searchSelection:function(){return g.has.search()&&1===Q.parent(d.dropdown).length},selection:function(){return G.hasClass(n.selection)},userValue:function(b){return-1!==a.inArray(b,g.get.userValues())},upward:function(a){return(a||G).hasClass(n.upward)},visible:function(a){return a?a.hasClass(n.visible):v.hasClass(n.visible)},verticallyScrollableContext:function(){var a=u.get(0)!==l?u.css("overflow-y"):!1;return"auto"==a||"scroll"==
a},horizontallyScrollableContext:function(){var a=u.get(0)!==l?u.css("overflow-X"):!1;return"auto"==a||"scroll"==a}},can:{activate:function(a){return b.useLabels||!g.has.maxSelections()||g.has.maxSelections()&&a.hasClass(n.active)?!0:!1},openDownward:function(a){var b,c,f,e,q;a=a||v;a.addClass(n.loading);f=u.get(0)===l?{top:0,left:0}:u.offset();e=u.scrollTop();q=u.outerHeight();b=a.offset();c=a.outerHeight();g.is.verticallyScrollableContext()&&(b.top+=e);g.has.subMenu(a)&&(c+=a.find(d.menu).first().outerHeight());
b={above:e<=b.top-f.top-c,below:e+q>=b.top-f.top+c};b.below?(g.verbose("Dropdown can fit in context downward",b),b=!0):b.below||b.above?(g.verbose("Dropdown cannot fit below, opening upward",b),b=!1):(g.verbose("Dropdown cannot fit in either direction, favoring downward",b),b=!0);a.removeClass(n.loading);return b},openRightward:function(a){var b,d,c,f,e;a=a||v;var q=!0;a.addClass(n.loading);c=u.get(0)===l?{top:0,left:0}:u.offset();f=u.scrollLeft();e=u.outerWidth();b=a.offset();d=a.outerWidth();g.is.horizontallyScrollableContext()&&
(b.left+=f);if(b=b.left-c.left+d>=f+e)g.verbose("Dropdown cannot fit in context rightward",b),q=!1;a.removeClass(n.loading);return q},click:function(){return x||"click"==b.on},extendSelect:function(){return b.allowAdditions||b.apiSettings},show:function(){return!g.is.disabled()&&(g.has.items()||g.has.message())},useAPI:function(){return a.fn.api!==h}},animate:{show:function(d,c){var e=c||v,q=c?function(){}:function(){g.hideSubMenus();g.hideOthers();g.set.active()};d=a.isFunction(d)?d:function(){};
g.verbose("Doing menu show animation",e);g.set.direction(c);c=b.transition.showMethod||g.get.transition(c);g.is.selection()&&g.set.scrollPosition(g.get.selectedItem(),!0);if(g.is.hidden(e)||g.is.animating(e))"none"===c?(q(),e.transition({displayType:g.get.displayType()}).transition("show"),d.call(p)):a.fn.transition!==h&&G.transition("is supported")?e.transition({animation:c+" in",debug:b.debug,verbose:b.verbose,duration:b.transition.showDuration||b.duration,queue:!0,onStart:q,displayType:g.get.displayType(),
onComplete:function(){d.call(p)}}):g.error(f.noTransition,c)},hide:function(d,c){var e=c||v,q=c?function(){}:function(){g.can.click()&&g.unbind.intent();g.remove.active()};c=b.transition.hideMethod||g.get.transition(c);d=a.isFunction(d)?d:function(){};if(g.is.visible(e)||g.is.animating(e))g.verbose("Doing menu hide animation",e),"none"===c?(q(),e.transition({displayType:g.get.displayType()}).transition("hide"),d.call(p)):a.fn.transition!==h&&G.transition("is supported")?e.transition({animation:c+
" out",duration:b.transition.hideDuration||b.duration,debug:b.debug,verbose:b.verbose,queue:!1,onStart:q,displayType:g.get.displayType(),onComplete:function(){d.call(p)}}):g.error(f.transition)}},hideAndClear:function(){g.remove.searchTerm();g.has.maxSelections()||(g.has.search()?g.hide(function(){g.remove.filteredItem()}):g.hide())},delay:{show:function(){g.verbose("Delaying show event to ensure user intent");clearTimeout(g.timer);g.timer=setTimeout(g.show,b.delay.show)},hide:function(){g.verbose("Delaying hide event to ensure user intent");
clearTimeout(g.timer);g.timer=setTimeout(g.hide,b.delay.hide)}},escape:{value:function(b){var d=Array.isArray(b),c="string"===typeof b,f=!c&&!d,c=c&&-1!==b.search(k.quote),e=[];if(f||!c)return b;g.debug("Encoding quote values for use in select",b);return d?(a.each(b,function(a,b){e.push(b.replace(k.quote,"&quot;"))}),e):b.replace(k.quote,"&quot;")},string:function(a){a=String(a);return a.replace(k.escape,"\\$&")},htmlEntities:function(a){var b=/[<>"'`]/g,d={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;",
"`":"&#x60;"},c=function(a){return d[a]};return/[&<>"'`]/.test(a)?(a=a.replace(/&(?![a-z0-9#]{1,6};)/,"&amp;"),a.replace(b,c)):a}},setting:function(d,c){g.debug("Changing setting",d,c);if(a.isPlainObject(d))a.extend(!0,b,d);else if(c!==h)a.isPlainObject(b[d])?a.extend(!0,b[d],c):b[d]=c;else return b[d]},internal:function(b,d){if(a.isPlainObject(b))a.extend(!0,g,b);else if(d!==h)g[b]=d;else return g[b]},debug:function(){!b.silent&&b.debug&&(b.performance?g.performance.log(arguments):(g.debug=Function.prototype.bind.call(console.info,
console,b.name+":"),g.debug.apply(console,arguments)))},verbose:function(){!b.silent&&b.verbose&&b.debug&&(b.performance?g.performance.log(arguments):(g.verbose=Function.prototype.bind.call(console.info,console,b.name+":"),g.verbose.apply(console,arguments)))},error:function(){b.silent||(g.error=Function.prototype.bind.call(console.error,console,b.name+":"),g.error.apply(console,arguments))},performance:{log:function(a){var d,c;b.performance&&(d=(new Date).getTime(),c=N||d,c=d-c,N=d,P.push({Name:a[0],
Arguments:[].slice.call(a,1)||"",Element:p,"Execution Time":c}));clearTimeout(g.performance.timer);g.performance.timer=setTimeout(g.performance.display,500)},display:function(){var d=b.name+":",c=0;N=!1;clearTimeout(g.performance.timer);a.each(P,function(a,b){c+=b["Execution Time"]});d+=" "+c+"ms";L&&(d+=" '"+L+"'");(console.group!==h||console.table!==h)&&0<P.length&&(console.groupCollapsed(d),console.table?console.table(P):a.each(P,function(a,b){console.log(b.Name+": "+b["Execution Time"]+"ms")}),
console.groupEnd());P=[]}},invoke:function(b,d,c){var e=ha,q,t,k;d=d||D;c=p||c;"string"==typeof b&&e!==h&&(b=b.split(/[\. ]/),q=b.length-1,a.each(b,function(d,c){var k=d!=q?c+b[d+1].charAt(0).toUpperCase()+b[d+1].slice(1):b;if(a.isPlainObject(e[k])&&d!=q)e=e[k];else{if(e[k]!==h)return t=e[k],!1;if(a.isPlainObject(e[c])&&d!=q)e=e[c];else return e[c]!==h?t=e[c]:g.error(f.method,b),!1}}));a.isFunction(t)?k=t.apply(c,d):t!==h&&(k=t);Array.isArray(J)?J.push(k):J!==h?J=[J,k]:k!==h&&(J=k);return t}};I?(ha===
h&&g.initialize(),g.invoke(C)):(ha!==h&&ha.invoke("destroy"),g.initialize())});return J!==h?J:c};a.fn.dropdown.settings={silent:!1,debug:!1,verbose:!1,performance:!0,on:"click",action:"activate",values:!1,clearable:!1,apiSettings:!1,selectOnKeydown:!0,minCharacters:0,filterRemoteData:!1,saveRemoteData:!0,throttle:200,context:l,direction:"auto",keepOnScreen:!0,match:"both",fullTextSearch:!1,ignoreDiacritics:!1,hideDividers:!1,placeholder:"auto",preserveHTML:!0,sortSelect:!1,forceSelection:!0,allowAdditions:!1,
ignoreCase:!1,ignoreSearchCase:!0,hideAdditions:!0,maxSelections:!1,useLabels:!0,delimiter:",",showOnFocus:!0,allowReselection:!1,allowTab:!0,allowCategorySelection:!1,fireOnInit:!1,transition:"auto",duration:200,displayType:!1,glyphWidth:1.037,headerDivider:!0,label:{transition:"scale",duration:200,variation:!1},delay:{hide:300,show:200,search:20,touch:50},onChange:function(a,c,h){},onAdd:function(a,c,h){},onRemove:function(a,c,h){},onSearch:function(a){},onLabelSelect:function(a){},onLabelCreate:function(e,
c){return a(this)},onLabelRemove:function(a){return!0},onNoResults:function(a){return!0},onShow:function(){},onHide:function(){},name:"Dropdown",namespace:"dropdown",message:{addResult:"Add <b>{term}</b>",count:"{count} selected",maxSelections:"Max {maxCount} selections",noResults:"No results found.",serverError:"There was an error contacting the server"},error:{action:"You called a dropdown action that was not defined",alreadySetup:"Once a select has been initialized behaviors must be called on the created ui dropdown",
labels:"Allowing user additions currently requires the use of labels.",missingMultiple:"<select> requires multiple property to be set to correctly preserve multiple values",method:"The method you called is not defined.",noAPI:"The API module is required to load resources remotely",noStorage:"Saving remote data requires session storage",noTransition:"This module requires ui transitions <https://github.com/Semantic-Org/UI-Transition>",noNormalize:'"ignoreDiacritics" setting will be ignored. Browser does not support String().normalize(). You may consider including <https://cdn.jsdelivr.net/npm/unorm@1.4.1/lib/unorm.min.js> as a polyfill.'},
regExp:{escape:/[-[\]{}()*+?.,\\^$|#\s:=@]/g,quote:/"/g},metadata:{defaultText:"defaultText",defaultValue:"defaultValue",placeholderText:"placeholder",text:"text",value:"value"},fields:{remoteValues:"results",values:"values",disabled:"disabled",name:"name",description:"description",descriptionVertical:"descriptionVertical",value:"value",text:"text",type:"type",image:"image",imageClass:"imageClass",icon:"icon",iconClass:"iconClass",class:"class",divider:"divider"},keys:{backspace:8,delimiter:188,deleteKey:46,
enter:13,escape:27,pageUp:33,pageDown:34,leftArrow:37,upArrow:38,rightArrow:39,downArrow:40},selector:{addition:".addition",divider:".divider, .header",dropdown:".ui.dropdown",hidden:".hidden",icon:"> .dropdown.icon",input:'> input[type="hidden"], > select',item:".item",label:"> .label",remove:"> .label > .delete.icon",siblingLabel:".label",menu:".menu",message:".message",menuIcon:".dropdown.icon",search:"input.search, .menu > .search > input, .menu input.search",sizer:"> span.sizer",text:"> .text:not(.icon)",
unselectable:".disabled, .filtered",clearIcon:"> .remove.icon"},className:{active:"active",addition:"addition",animating:"animating",description:"description",descriptionVertical:"vertical",disabled:"disabled",empty:"empty",dropdown:"ui dropdown",filtered:"filtered",hidden:"hidden transition",icon:"icon",image:"image",item:"item",label:"ui label",loading:"loading",menu:"menu",message:"message",multiple:"multiple",placeholder:"default",sizer:"sizer",search:"search",selected:"selected",selection:"selection",
text:"text",upward:"upward",leftward:"left",visible:"visible",clearable:"clearable",noselection:"noselection",delete:"delete",header:"header",divider:"divider",groupIcon:"",unfilterable:"unfilterable"}};a.fn.dropdown.settings.templates={deQuote:function(a,c){return String(a).replace(/"/g,c?"&quot;":"")},escape:function(a,c){if(c)return a;c=/[<>"'`]/g;var h={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},l=function(a){return h[a]};return/[&<>"'`]/.test(a)?(a=a.replace(/&(?![a-z0-9#]{1,6};)/,
"&amp;"),a.replace(c,l)):a},dropdown:function(e,c,h,l){var x=e.placeholder||!1,F,N=a.fn.dropdown.settings.templates.escape;F='<i class="dropdown icon"></i>';F=x?F+('<div class="default text">'+N(x,h)+"</div>"):F+'<div class="text"></div>';F+='<div class="'+l.menu+'">';F+=a.fn.dropdown.settings.templates.menu(e,c,h,l);return F+"</div>"},menu:function(e,c,h,l){var x="",F=a.fn.dropdown.settings.templates.escape,N=a.fn.dropdown.settings.templates.deQuote;a.each(e[c.values]||[],function(e,C){e=C[c.type]?
C[c.type]:"item";var I=-1!==e.indexOf("menu");if("item"===e||I){var D=C[c.text]?' data-text="'+N(C[c.text],!0)+'"':"",J=C[c.disabled]?l.disabled+" ":"",y=C[c.descriptionVertical]?l.descriptionVertical+" ":"",b=""!=F(C[c.description]||"",h);x+='<div class="'+J+y+(C[c.class]?N(C[c.class]):l.item)+'" data-value="'+N(C[c.value],!0)+'"'+D+">";I&&(x+='<i class="'+(-1!==e.indexOf("left")?"left":"")+' dropdown icon"></i>');C[c.image]&&(x+='<img class="'+(C[c.imageClass]?N(C[c.imageClass]):l.image)+'" src="'+
N(C[c.image])+'">');C[c.icon]&&(x+='<i class="'+N(C[c.icon])+" "+(C[c.iconClass]?N(C[c.iconClass]):l.icon)+'"></i>');b&&(x+='<span class="'+l.description+'">'+F(C[c.description]||"",h)+"</span>",x+=I?"":'<span class="'+l.text+'">');I&&(x+='<span class="'+l.text+'">');x+=F(C[c.name]||"",h);I?(x+="</span>",x+='<div class="'+e+'">',x+=a.fn.dropdown.settings.templates.menu(C,c,h,l),x+="</div>"):b&&(x+="</span>");x+="</div>"}else if("header"===e){e=F(C[c.name]||"",h);I=C[c.icon]?N(C[c.icon]):l.groupIcon;
if(""!==e||""!==I)x+='<div class="'+(C[c.class]?N(C[c.class]):l.header)+'">',""!==I&&(x+='<i class="'+I+" "+(C[c.iconClass]?N(C[c.iconClass]):l.icon)+'"></i>'),x+=e,x+="</div>";C[c.divider]&&(x+='<div class="'+l.divider+'"></div>')}});return x},label:function(e,c,h,l){e=a.fn.dropdown.settings.templates.escape;return e(c,h)+'<i class="'+l.delete+' icon"></i>'},message:function(a){return a},addition:function(a){return a}}})(jQuery,window,document);
(function(a,l,F,h){a.isFunction=a.isFunction||function(a){return"function"===typeof a&&"number"!==typeof a.nodeType};l="undefined"!=typeof l&&l.Math==Math?l:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();a.fn.form=function(e){var c=a(this),S=c.selector||"",L=(new Date).getTime(),x=[],T=arguments[0],N=arguments[1],P="string"==typeof T,C=[].slice.call(arguments,1),I;c.each(function(){var D=a(this),J=this,y=[],b=!1,n,A,K,z,r,H,k,d,f,O,M,m,G,u,E=!1,Q=!1,V=["clean","clean"],R,
B;B={initialize:function(){B.get.settings();P?(R===h&&B.instantiate(),B.invoke(T)):(R!==h&&(R.invoke("destroy"),B.refresh()),B.verbose("Initializing form validation",D,r),B.bindEvents(),B.set.defaults(),r.autoCheckRequired&&B.set.autoCheck(),B.instantiate())},instantiate:function(){B.verbose("Storing instance of module",B);R=B;D.data(G,B)},destroy:function(){B.verbose("Destroying previous module",R);B.removeEvents();D.removeData(G)},refresh:function(){B.verbose("Refreshing selector cache");n=D.find(d.field);
A=D.find(d.group);K=D.find(d.message);D.find(d.prompt);z=D.find(d.submit);D.find(d.clear);D.find(d.reset)},submit:function(){B.verbose("Submitting form",D);E=!0;D.submit()},attachEvents:function(b,d){d=d||"submit";a(b).on("click"+u,function(a){B[d]();a.preventDefault()})},bindEvents:function(){B.verbose("Attaching form events");D.on("submit"+u,B.validate.form).on("blur"+u,d.field,B.event.field.blur).on("click"+u,d.submit,B.submit).on("click"+u,d.reset,B.reset).on("click"+u,d.clear,B.clear);if(r.keyboardShortcuts)D.on("keydown"+
u,d.field,B.event.field.keydown);n.each(function(b,d){b=a(d);d=b.prop("type");d=B.get.changeEvent(d,b);b.on(d+u,B.event.field.change)});if(r.preventLeaving)a(l).on("beforeunload"+u,B.event.beforeUnload);n.on("change click keyup keydown blur",function(a){B.determine.isDirty()});D.on("dirty"+u,function(a){r.onDirty.call()});D.on("clean"+u,function(a){r.onClean.call()})},clear:function(){n.each(function(b,c){b=a(c);c=b.parent();var e=b.closest(A),h=e.find(d.prompt),n=b.closest(d.uiCalendar),m=b.data(k.defaultValue)||
"",w=c.is(d.uiCheckbox),r=c.is(d.uiDropdown)&&B.can.useElement("dropdown"),l=0<n.length&&B.can.useElement("calendar");e.hasClass(f.error)&&(B.verbose("Resetting error on field",e),e.removeClass(f.error),h.remove());r?(B.verbose("Resetting dropdown value",c,m),c.dropdown("clear",!0)):w?b.prop("checked",!1):l?n.calendar("clear"):(B.verbose("Resetting field value",b,m),b.val(""))});B.remove.states()},reset:function(){n.each(function(b,c){b=a(c);c=b.parent();var e=b.closest(A),n=b.closest(d.uiCalendar),
m=e.find(d.prompt),r=b.data(k.defaultValue),w=c.is(d.uiCheckbox),l=c.is(d.uiDropdown)&&B.can.useElement("dropdown"),u=0<n.length&&B.can.useElement("calendar"),p=e.hasClass(f.error);r!==h&&(p&&(B.verbose("Resetting error on field",e),e.removeClass(f.error),m.remove()),l?(B.verbose("Resetting dropdown value",c,r),c.dropdown("restore defaults",!0)):w?(B.verbose("Resetting checkbox value",c,r),b.prop("checked",r)):u?n.calendar("set date",r):(B.verbose("Resetting field value",b,r),b.val(r)))});B.remove.states()},
determine:{isValid:function(){var b=!0;a.each(H,function(a,d){B.validate.field(d,a,!0)||(b=!1)});return b},isDirty:function(b){var c=!1;n.each(function(b,f){b=a(f);f=0<b.filter(d.checkbox).length?B.is.checkboxDirty(b):B.is.fieldDirty(b);b.data(r.metadata.isDirty,f);c|=f});c?B.set.dirty():B.set.clean()}},is:{bracketedRule:function(a){return a.type&&a.type.match(r.regExp.bracket)},shorthandRules:function(a){return"string"==typeof a||Array.isArray(a)},empty:function(a){return a&&0!==a.length?a.is(d.checkbox)?
!a.is(":checked"):B.is.blank(a):!0},blank:function(a){return""===String(a.val()).trim()},valid:function(b,d){var c=!0;if(b)return B.verbose("Checking if field is valid",b),B.validate.field(H[b],b,!!d);B.verbose("Checking if form is valid");a.each(H,function(a,b){B.is.valid(a,d)||(c=!1)});return c},dirty:function(){return Q},clean:function(){return!Q},fieldDirty:function(a){var b=a.data(k.defaultValue);null==b?b="":Array.isArray(b)&&(b=b.toString());a=a.val();null==a?a="":Array.isArray(a)&&(a=a.toString());
var d=/^(true|false)$/i;return d.test(b)&&d.test(a)?!(new RegExp("^"+b+"$","i")).test(a):a!==b},checkboxDirty:function(a){var b=a.data(k.defaultValue);a=a.is(":checked");return b!==a},justDirty:function(){return"dirty"===V[0]},justClean:function(){return"clean"===V[0]}},removeEvents:function(){D.off(u);n.off(u);z.off(u);n.off(u)},event:{field:{keydown:function(c){var f=a(this),e=c.which,h=f.is(d.input),k=f.is(d.checkbox),n=0<f.closest(d.uiDropdown).length;27==e&&(B.verbose("Escape key pressed blurring field"),
f[0].blur());c.ctrlKey||13!=e||!h||n||k||(b||(f.one("keyup"+u,B.event.field.keyup),B.submit(),B.debug("Enter pressed on input submitting form")),b=!0)},keyup:function(){b=!1},blur:function(b){b=a(this);var d=b.closest(A),c=B.get.validation(b);c&&("blur"==r.on||d.hasClass(f.error)&&r.revalidate)&&(B.debug("Revalidating field",b,c),B.validate.field(c),r.inline||B.validate.form(!1,!0))},change:function(b){var d=a(this);b=d.closest(A);var c=B.get.validation(d);c&&("change"==r.on||b.hasClass(f.error)&&
r.revalidate)&&(clearTimeout(B.timer),B.timer=setTimeout(function(){B.debug("Revalidating field",d,c);B.validate.field(c);r.inline||B.validate.form(!1,!0)},r.delay))}},beforeUnload:function(a){if(B.is.dirty()&&!E){if(a=a||l.event)a.returnValue=r.text.leavingMessage;return r.text.leavingMessage}}},get:{ancillaryValue:function(a){return a.type&&(a.value||B.is.bracketedRule(a))?a.value!==h?a.value:a.type.match(r.regExp.bracket)[1]+"":!1},ruleName:function(a){return B.is.bracketedRule(a)?a.type.replace(a.type.match(r.regExp.bracket)[0],
""):a.type},changeEvent:function(a,b){return"checkbox"==a||"radio"==a||"hidden"==a||b.is("select")?"change":B.get.inputEvent()},inputEvent:function(){return F.createElement("input").oninput!==h?"input":F.createElement("input").onpropertychange!==h?"propertychange":"keyup"},fieldsFromShorthand:function(b){var d={};a.each(b,function(b,c){Array.isArray(c)||"object"!==typeof c?("string"==typeof c&&(c=[c]),d[b]={rules:[]},a.each(c,function(a,c){d[b].rules.push({type:c})})):d[b]=c});return d},prompt:function(b,
c){var f=B.get.ruleName(b),e=B.get.ancillaryValue(b),h=B.get.field(c.identifier),k=h.val(),k=a.isFunction(b.prompt)?b.prompt(k):b.prompt||r.prompt[f]||r.text.unspecifiedRule,n=-1!==k.search("{value}"),m=-1!==k.search("{name}"),A,p;e&&0<=e.indexOf("..")&&(A=e.split("..",2),b.prompt||(p=""===A[0]?r.prompt.maxValue.replace(/\{ruleValue\}/g,"{max}"):""===A[1]?r.prompt.minValue.replace(/\{ruleValue\}/g,"{min}"):r.prompt.range,k+=p.replace(/\{name\}/g," "+r.text.and)),k=k.replace(/\{min\}/g,A[0]),k=k.replace(/\{max\}/g,
A[1]));n&&(k=k.replace(/\{value\}/g,h.val()));m&&(n=h.closest(d.group).find("label").eq(0),h=1==n.length?n.text():h.prop("placeholder")||r.text.unspecifiedField,k=k.replace(/\{name\}/g,h));k=k.replace(/\{identifier\}/g,c.identifier);k=k.replace(/\{ruleValue\}/g,e);b.prompt||B.verbose("Using default validation prompt for type",k,f);return k},settings:function(){if(a.isPlainObject(e)){var b=Object.keys(e);0<b.length&&e[b[0]].identifier!==h&&e[b[0]].rules!==h?(r=a.extend(!0,{},a.fn.form.settings,N),
H=a.extend({},a.fn.form.settings.defaults,e),B.error(r.error.oldSyntax,J),B.verbose("Extending settings from legacy parameters",H,r)):(e.fields&&(e.fields=B.get.fieldsFromShorthand(e.fields)),r=a.extend(!0,{},a.fn.form.settings,e),H=a.extend({},a.fn.form.settings.defaults,r.fields),B.verbose("Extending settings",H,r))}else r=a.fn.form.settings,H=a.fn.form.settings.defaults,B.verbose("Using default form validation",H,r);m=r.namespace;k=r.metadata;d=r.selector;f=r.className;O=r.regExp;M=r.error;G="module-"+
m;u="."+m;R=D.data(G);(R||B).refresh()},field:function(b){B.verbose("Finding field with identifier",b);b=B.escape.string(b);var d;return 0<(d=n.filter("#"+b)).length||0<(d=n.filter('[name="'+b+'"]')).length||0<(d=n.filter('[name="'+b+'[]"]')).length||0<(d=n.filter("[data-"+k.validate+'="'+b+'"]')).length?d:a("<input/>")},fields:function(b){var d=a();a.each(b,function(a,b){d=d.add(B.get.field(b))});return d},validation:function(b){var d,c;if(!H)return!1;a.each(H,function(f,e){c=e.identifier||f;a.each(B.get.field(c),
function(a,f){if(f==b[0])return e.identifier=c,d=e,!1})});return d||!1},value:function(a){var b=[];b.push(a);return B.get.values.call(J,b)[a]},values:function(b){var c={};(Array.isArray(b)?B.get.fields(b):n).each(function(b,f){var e=a(f);b=e.closest(d.uiCalendar);f=e.prop("name");var k=e.val(),t=e.is(d.checkbox),n=e.is(d.radio),m=-1!==f.indexOf("[]"),p=0<b.length&&B.can.useElement("calendar"),e=t?e.is(":checked"):!1;if(f)if(m)f=f.replace("[]",""),c[f]||(c[f]=[]),t?e?c[f].push(k||!0):c[f].push(!1):
c[f].push(k);else if(n){if(c[f]===h||!1===c[f])c[f]=e?k||!0:!1}else if(t)c[f]=e?k||!0:!1;else if(p)if(k=b.calendar("get date"),null!==k)if("date"==r.dateHandling)c[f]=k;else if("input"==r.dateHandling)c[f]=b.calendar("get input date");else{if("formatter"==r.dateHandling)switch(t=b.calendar("setting","type"),t){case "date":c[f]=r.formatter.date(k);break;case "datetime":c[f]=r.formatter.datetime(k);break;case "time":c[f]=r.formatter.time(k);break;case "month":c[f]=r.formatter.month(k);break;case "year":c[f]=
r.formatter.year(k);break;default:B.debug("Wrong calendar mode",b,t),c[f]=""}}else c[f]="";else c[f]=k});return c},dirtyFields:function(){return n.filter(function(b,d){return a(d).data(k.isDirty)})}},has:{field:function(a){B.verbose("Checking for existence of a field with identifier",a);a=B.escape.string(a);"string"!==typeof a&&B.error(M.identifier,a);return 0<n.filter("#"+a).length||0<n.filter('[name="'+a+'"]').length||0<n.filter("[data-"+k.validate+'="'+a+'"]').length?!0:!1}},can:{useElement:function(b){if(a.fn[b]!==
h)return!0;B.error(M.noElement.replace("{element}",b));return!1}},escape:{string:function(a){a=String(a);return a.replace(O.escape,"\\$&")}},add:{rule:function(a,b){B.add.field(a,b)},field:function(b,d){if(H[b]===h||H[b].rules===h)H[b]={rules:[]};var c=[];B.is.shorthandRules(d)?(d=Array.isArray(d)?d:[d],a.each(d,function(a,b){c.push({type:b})})):c=d.rules;a.each(c,function(d,c){0==a.grep(H[b].rules,function(a){return a.type==c.type}).length&&H[b].rules.push(c)});B.debug("Adding rules",c,H)},fields:function(b){H=
a.extend({},H,B.get.fieldsFromShorthand(b))},prompt:function(a,b,c){var e=B.get.field(a).closest(A),h=e.children(d.prompt),k=0!==h.length;b="string"==typeof b?[b]:b;B.verbose("Adding field error state",a);c||e.addClass(f.error);r.inline&&(k||(h=r.templates.prompt(b,f.label),h.appendTo(e)),h.html(b[0]),k?B.verbose("Inline errors are disabled, no inline error added",a):r.transition&&B.can.useElement("transition")&&D.transition("is supported")?(B.verbose("Displaying error with css transition",r.transition),
h.transition(r.transition+" in",r.duration)):(B.verbose("Displaying error with fallback javascript animation"),h.fadeIn(r.duration)))},errors:function(a){B.debug("Adding form error messages",a);B.set.error();K.html(r.templates.error(a))}},remove:{errors:function(){B.debug("Removing form error messages");K.empty()},states:function(){D.removeClass(f.error).removeClass(f.success);r.inline||B.remove.errors();B.determine.isDirty()},rule:function(b,d){var c=Array.isArray(d)?d:[d];H[b]!==h&&Array.isArray(H[b].rules)&&
(d===h?(B.debug("Removed all rules"),H[b].rules=[]):a.each(H[b].rules,function(a,d){d&&-1!==c.indexOf(d.type)&&(B.debug("Removed rule",d.type),H[b].rules.splice(a,1))}))},field:function(b){b=Array.isArray(b)?b:[b];a.each(b,function(a,b){B.remove.rule(b)})},rules:function(b,d){Array.isArray(b)?a.each(b,function(a,b){B.remove.rule(b,d)}):B.remove.rule(b,d)},fields:function(a){B.remove.field(a)},prompt:function(a){var b=B.get.field(a).closest(A),c=b.children(d.prompt);b.removeClass(f.error);r.inline&&
c.is(":visible")&&(B.verbose("Removing prompt for field",a),r.transition&&B.can.useElement("transition")&&D.transition("is supported")?c.transition(r.transition+" out",r.duration,function(){c.remove()}):c.fadeOut(r.duration,function(){c.remove()}))}},set:{success:function(){D.removeClass(f.error).addClass(f.success)},defaults:function(){n.each(function(b,c){b=a(c);c=b.parent();var f=0<b.filter(d.checkbox).length,e=c.is(d.uiDropdown)&&B.can.useElement("dropdown"),h=b.closest(d.uiCalendar),n=0<h.length&&
B.can.useElement("calendar"),f=f?b.is(":checked"):b.val();e?c.dropdown("save defaults"):n&&h.calendar("refresh");b.data(k.defaultValue,f);b.data(k.isDirty,!1)})},error:function(){D.removeClass(f.success).addClass(f.error)},value:function(a,b){var d={};d[a]=b;return B.set.values.call(J,d)},values:function(b){a.isEmptyObject(b)||a.each(b,function(b,c){var f=B.get.field(b),e=f.parent();b=f.closest(d.uiCalendar);var h=Array.isArray(c),k=e.is(d.uiCheckbox)&&B.can.useElement("checkbox"),n=e.is(d.uiDropdown)&&
B.can.useElement("dropdown"),t=f.is(d.radio)&&k,p=0<b.length&&B.can.useElement("calendar"),m;0<f.length&&(h&&k?(B.verbose("Selecting multiple",c,f),e.checkbox("uncheck"),a.each(c,function(a,b){m=f.filter('[value="'+b+'"]');e=m.parent();0<m.length&&e.checkbox("check")})):t?(B.verbose("Selecting radio value",c,f),f.filter('[value="'+c+'"]').parent(d.uiCheckbox).checkbox("check")):k?(B.verbose("Setting checkbox value",c,e),!0===c||1===c?e.checkbox("check"):e.checkbox("uncheck")):n?(B.verbose("Setting dropdown value",
c,e),e.dropdown("set selected",c)):p?b.calendar("set date",c):(B.verbose("Setting field value",c,f),f.val(c)))})},dirty:function(){B.verbose("Setting state dirty");Q=!0;V[0]=V[1];V[1]="dirty";B.is.justClean()&&D.trigger("dirty")},clean:function(){B.verbose("Setting state clean");Q=!1;V[0]=V[1];V[1]="clean";B.is.justDirty()&&D.trigger("clean")},asClean:function(){B.set.defaults();B.set.clean()},asDirty:function(){B.set.defaults();B.set.dirty()},autoCheck:function(){B.debug("Enabling auto check on required fields");
n.each(function(b,c){b=a(c);var e=a(c).closest(A);c=0<b.filter(d.checkbox).length;var n=b.prop("required")||e.hasClass(f.required)||e.parent().hasClass(f.required),e=b.is(":disabled")||e.hasClass(f.disabled)||e.parent().hasClass(f.disabled),m=B.get.validation(b),r=m?0!==a.grep(m.rules,function(a){return"empty"==a.type}):!1;b=m.identifier||b.attr("id")||b.attr("name")||b.data(k.validate);!n||e||r||b===h||(c?(B.verbose("Adding 'checked' rule on field",b),B.add.rule(b,"checked")):(B.verbose("Adding 'empty' rule on field",
b),B.add.rule(b,"empty")))})},optional:function(b,d){d=!1!==d;a.each(H,function(a,c){if(b==a||b==c.identifier)c.optional=d})}},validate:{form:function(c,e){var k=B.get.values();if(b)return!1;y=[];if(B.determine.isValid()){if(B.debug("Form has no validation errors, submitting"),B.set.success(),r.inline||B.remove.errors(),!0!==e)return r.onSuccess.call(J,c,k)}else{B.debug("Form has errors");E=!1;B.set.error();r.inline||B.add.errors(y);c&&D.data("moduleApi")!==h&&c.stopImmediatePropagation();if(r.errorFocus){var n=
!0;"string"===typeof r.errorFocus?(c=a(r.errorFocus),(n=c.is("[tabindex]"))||c.attr("tabindex",-1)):c=A.filter("."+f.error).first().find(d.field);c.focus();n||c.removeAttr("tabindex")}if(!0!==e)return r.onFailure.call(J,y,k)}},field:function(b,d,c){c=c!==h?c:!0;"string"==typeof b&&(B.verbose("Validating field",b),d=b,b=H[b]);var e=b.identifier||d;d=B.get.field(e);var k=b.depends?B.get.field(b.depends):!1,n=!0,m=[];b.identifier||(B.debug("Using field name as identifier",e),b.identifier=e);d.filter(":not(:disabled)").length?
b.optional&&B.is.blank(d)?B.debug("Field is optional and blank. Skipping",e):b.depends&&B.is.empty(k)?B.debug("Field depends on another value that is not present or empty. Skipping",k):b.rules!==h&&(c&&d.closest(A).removeClass(f.error),a.each(b.rules,function(d,h){B.has.field(e)&&(d=B.validate.rule(b,h,!0)||[],0<d.length&&(B.debug("Field is invalid",e,h.type),m.push(B.get.prompt(h,b)),n=!1,c&&a(d).closest(A).addClass(f.error)))})):B.debug("Field is disabled. Skipping",e);if(n)c&&(B.remove.prompt(e,
m),r.onValid.call(d));else return c&&(y=y.concat(m),B.add.prompt(e,m,!0),r.onInvalid.call(d,m)),!1;return!0},rule:function(b,c,f){b=B.get.field(b.identifier);var e=B.get.ancillaryValue(c),k=B.get.ruleName(c),n=r.rules[k],m=[],A=b.is(d.checkbox),l=function(b){var d=A?a(b).filter(":checked").val():a(b).val(),d=d===h||""===d||null===d?"":r.shouldTrim&&!1!==c.shouldTrim||c.shouldTrim?String(d+"").trim():String(d+"");return n.call(b,d,e,D)};if(a.isFunction(n))return A?l(b)||(m=b):a.each(b,function(a,b){l(b)||
m.push(b)}),f?m:!(0<m.length);B.error(M.noRule,k)}},setting:function(b,d){if(a.isPlainObject(b))a.extend(!0,r,b);else if(d!==h)r[b]=d;else return r[b]},internal:function(b,d){if(a.isPlainObject(b))a.extend(!0,B,b);else if(d!==h)B[b]=d;else return B[b]},debug:function(){!r.silent&&r.debug&&(r.performance?B.performance.log(arguments):(B.debug=Function.prototype.bind.call(console.info,console,r.name+":"),B.debug.apply(console,arguments)))},verbose:function(){!r.silent&&r.verbose&&r.debug&&(r.performance?
B.performance.log(arguments):(B.verbose=Function.prototype.bind.call(console.info,console,r.name+":"),B.verbose.apply(console,arguments)))},error:function(){r.silent||(B.error=Function.prototype.bind.call(console.error,console,r.name+":"),B.error.apply(console,arguments))},performance:{log:function(a){var b,d;r.performance&&(b=(new Date).getTime(),d=L||b,d=b-d,L=b,x.push({Name:a[0],Arguments:[].slice.call(a,1)||"",Element:J,"Execution Time":d}));clearTimeout(B.performance.timer);B.performance.timer=
setTimeout(B.performance.display,500)},display:function(){var b=r.name+":",d=0;L=!1;clearTimeout(B.performance.timer);a.each(x,function(a,b){d+=b["Execution Time"]});b+=" "+d+"ms";S&&(b+=" '"+S+"'");1<c.length&&(b+=" ("+c.length+")");(console.group!==h||console.table!==h)&&0<x.length&&(console.groupCollapsed(b),console.table?console.table(x):a.each(x,function(a,b){console.log(b.Name+": "+b["Execution Time"]+"ms")}),console.groupEnd());x=[]}},invoke:function(b,d,c){var f=R,e,k,n;d=d||C;c=J||c;"string"==
typeof b&&f!==h&&(b=b.split(/[\. ]/),e=b.length-1,a.each(b,function(d,c){var q=d!=e?c+b[d+1].charAt(0).toUpperCase()+b[d+1].slice(1):b;if(a.isPlainObject(f[q])&&d!=e)f=f[q];else{if(f[q]!==h)return k=f[q],!1;if(a.isPlainObject(f[c])&&d!=e)f=f[c];else return f[c]!==h&&(k=f[c]),!1}}));a.isFunction(k)?n=k.apply(c,d):k!==h&&(n=k);Array.isArray(I)?I.push(n):I!==h?I=[I,n]:n!==h&&(I=n);return k}};B.initialize()});return I!==h?I:this};a.fn.form.settings={name:"Form",namespace:"form",debug:!1,verbose:!1,performance:!0,
fields:!1,keyboardShortcuts:!0,on:"submit",inline:!1,delay:200,revalidate:!0,shouldTrim:!0,transition:"scale",duration:200,autoCheckRequired:!1,preventLeaving:!1,errorFocus:!1,dateHandling:"date",onValid:function(){},onInvalid:function(){},onSuccess:function(){return!0},onFailure:function(){return!1},onDirty:function(){},onClean:function(){},metadata:{defaultValue:"default",validate:"validate",isDirty:"isDirty"},regExp:{htmlID:/^[a-zA-Z][\w:.-]*$/g,bracket:/\[(.*)\]/i,decimal:/^\d+\.?\d*$/,email:/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,
escape:/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|:,=@]/g,flags:/^\/(.*)\/(.*)?/,integer:/^\-?\d+$/,number:/^\-?\d*(\.\d+)?$/,url:/(https?:\/\/(?:www\.|(?!www))[^\s\.]+\.[^\s]{2,}|www\.[^\s]+\.[^\s]{2,})/i},text:{and:"and",unspecifiedRule:"Please enter a valid value",unspecifiedField:"This field",leavingMessage:"There are unsaved changes on this page which will be discarded if you continue."},prompt:{range:"{name} must be in a range from {min} to {max}",maxValue:"{name} must have a maximum value of {ruleValue}",
minValue:"{name} must have a minimum value of {ruleValue}",empty:"{name} must have a value",checked:"{name} must be checked",email:"{name} must be a valid e-mail",url:"{name} must be a valid url",regExp:"{name} is not formatted correctly",integer:"{name} must be an integer",decimal:"{name} must be a decimal number",number:"{name} must be set to a number",is:'{name} must be "{ruleValue}"',isExactly:'{name} must be exactly "{ruleValue}"',not:'{name} cannot be set to "{ruleValue}"',notExactly:'{name} cannot be set to exactly "{ruleValue}"',
contain:'{name} must contain "{ruleValue}"',containExactly:'{name} must contain exactly "{ruleValue}"',doesntContain:'{name} cannot contain  "{ruleValue}"',doesntContainExactly:'{name} cannot contain exactly "{ruleValue}"',minLength:"{name} must be at least {ruleValue} characters",length:"{name} must be at least {ruleValue} characters",exactLength:"{name} must be exactly {ruleValue} characters",maxLength:"{name} cannot be longer than {ruleValue} characters",match:"{name} must match {ruleValue} field",
different:"{name} must have a different value than {ruleValue} field",creditCard:"{name} must be a valid credit card number",minCount:"{name} must have at least {ruleValue} choices",exactCount:"{name} must have exactly {ruleValue} choices",maxCount:"{name} must have {ruleValue} or less choices"},selector:{checkbox:'input[type="checkbox"], input[type="radio"]',clear:".clear",field:'input:not(.search):not([type="file"]), textarea, select',group:".field",input:'input:not([type="file"])',message:".error.message",
prompt:".prompt.label",radio:'input[type="radio"]',reset:'.reset:not([type="reset"])',submit:'.submit:not([type="submit"])',uiCheckbox:".ui.checkbox",uiDropdown:".ui.dropdown",uiCalendar:".ui.calendar"},className:{error:"error",label:"ui basic red pointing prompt label",pressed:"down",success:"success",required:"required",disabled:"disabled"},error:{identifier:"You must specify a string identifier for each field",method:"The method you called is not defined.",noRule:"There is no rule matching the one you specified",
oldSyntax:"Starting in 2.0 forms now only take a single settings object. Validation settings converted to new syntax automatically.",noElement:"This module requires ui {element}"},templates:{error:function(e){var c='<ul class="list">';a.each(e,function(a,e){c+="<li>"+e+"</li>"});c+="</ul>";return a(c)},prompt:function(e,c){return a("<div/>").addClass(c).html(e[0])}},formatter:{date:function(a){return Intl.DateTimeFormat("en-GB").format(a)},datetime:function(a){return Intl.DateTimeFormat("en-GB",{year:"numeric",
month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(a)},time:function(a){return Intl.DateTimeFormat("en-GB",{hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(a)},month:function(a){return Intl.DateTimeFormat("en-GB",{month:"2-digit",year:"numeric"}).format(a)},year:function(a){return Intl.DateTimeFormat("en-GB",{year:"numeric"}).format(a)}},rules:{empty:function(a){return!(a===h||""===a||Array.isArray(a)&&0===a.length)},checked:function(){return 0<a(this).filter(":checked").length},
email:function(e){return a.fn.form.settings.regExp.email.test(e)},url:function(e){return a.fn.form.settings.regExp.url.test(e)},regExp:function(e,c){if(c instanceof RegExp)return e.match(c);var h=c.match(a.fn.form.settings.regExp.flags),l;h&&(c=2<=h.length?h[1]:c,l=3<=h.length?h[2]:"");return e.match(new RegExp(c,l))},minValue:function(e,c){return a.fn.form.settings.rules.range(e,c+"..","number")},maxValue:function(e,c){return a.fn.form.settings.rules.range(e,".."+c,"number")},integer:function(e,
c){return a.fn.form.settings.rules.range(e,c,"integer")},range:function(e,c,l){"string"==typeof l&&(l=a.fn.form.settings.regExp[l]);l instanceof RegExp||(l=a.fn.form.settings.regExp.integer);var F,x;c&&-1===["",".."].indexOf(c)&&(-1==c.indexOf("..")?l.test(c)&&(F=x=c-0):(c=c.split("..",2),l.test(c[0])&&(F=c[0]-0),l.test(c[1])&&(x=c[1]-0)));return l.test(e)&&(F===h||e>=F)&&(x===h||e<=x)},decimal:function(e,c){return a.fn.form.settings.rules.range(e,c,"decimal")},number:function(e,c){return a.fn.form.settings.rules.range(e,
c,"number")},is:function(a,c){c="string"==typeof c?c.toLowerCase():c;a="string"==typeof a?a.toLowerCase():a;return a==c},isExactly:function(a,c){return a==c},not:function(a,c){a="string"==typeof a?a.toLowerCase():a;c="string"==typeof c?c.toLowerCase():c;return a!=c},notExactly:function(a,c){return a!=c},contains:function(e,c){c=c.replace(a.fn.form.settings.regExp.escape,"\\$&");return-1!==e.search(new RegExp(c,"i"))},containsExactly:function(e,c){c=c.replace(a.fn.form.settings.regExp.escape,"\\$&");
return-1!==e.search(new RegExp(c))},doesntContain:function(e,c){c=c.replace(a.fn.form.settings.regExp.escape,"\\$&");return-1===e.search(new RegExp(c,"i"))},doesntContainExactly:function(e,c){c=c.replace(a.fn.form.settings.regExp.escape,"\\$&");return-1===e.search(new RegExp(c))},minLength:function(a,c){return a!==h?a.length>=c:!1},length:function(a,c){return a!==h?a.length>=c:!1},exactLength:function(a,c){return a!==h?a.length==c:!1},maxLength:function(a,c){return a!==h?a.length<=c:!1},match:function(a,
c,l){var F,x;0<(x=l.find('[data-validate="'+c+'"]')).length?F=x.val():0<(x=l.find("#"+c)).length?F=x.val():0<(x=l.find('[name="'+c+'"]')).length?F=x.val():0<(x=l.find('[name="'+c+'[]"]')).length&&(F=x);return F!==h?a.toString()==F.toString():!1},different:function(a,c,l){var F,x;0<(x=l.find('[data-validate="'+c+'"]')).length?F=x.val():0<(x=l.find("#"+c)).length?F=x.val():0<(x=l.find('[name="'+c+'"]')).length?F=x.val():0<(x=l.find('[name="'+c+'[]"]')).length&&(F=x);return F!==h?a.toString()!==F.toString():
!1},creditCard:function(e,c){var h,l={visa:{pattern:/^4/,length:[16]},amex:{pattern:/^3[47]/,length:[15]},mastercard:{pattern:/^5[1-5]/,length:[16]},discover:{pattern:/^(6011|622(12[6-9]|1[3-9][0-9]|[2-8][0-9]{2}|9[0-1][0-9]|92[0-5]|64[4-9])|65)/,length:[16]},unionPay:{pattern:/^(62|88)/,length:[16,17,18,19]},jcb:{pattern:/^35(2[89]|[3-8][0-9])/,length:[16]},maestro:{pattern:/^(5018|5020|5038|6304|6759|676[1-3])/,length:[12,13,14,15,16,17,18,19]},dinersClub:{pattern:/^(30[0-5]|^36)/,length:[14]},
laser:{pattern:/^(6304|670[69]|6771)/,length:[16,17,18,19]},visaElectron:{pattern:/^(4026|417500|4508|4844|491(3|7))/,length:[16]}},x,F,N=!1;c="string"==typeof c?c.split(","):!1;var P;if("string"===typeof e&&0!==e.length){e=e.replace(/[\s\-]/g,"");if(c&&(a.each(c,function(c,h){if(P=l[h])x=-1!==a.inArray(e.length,P.length),F=-1!==e.search(P.pattern),x&&F&&(N=!0)}),!N))return!1;c=-1!==a.inArray(e.length,l.unionPay.length);h=-1!==e.search(l.unionPay.pattern);if(c&&h)return!0;c=e.length;h=0;for(var C=
[[0,1,2,3,4,5,6,7,8,9],[0,2,4,6,8,1,3,5,7,9]],I=0;c--;)I+=C[h][parseInt(e.charAt(c),10)],h^=1;return 0===I%10&&0<I}},minCount:function(a,c){return 0==c?!0:1==c?""!==a:a.split(",").length>=c},exactCount:function(a,c){return 0==c?""===a:1==c?""!==a&&-1===a.search(","):a.split(",").length==c},maxCount:function(a,c){return 0==c?!1:1==c?-1===a.search(","):a.split(",").length<=c}}}})(jQuery,window,document);
(function(a,l,F,h){a.isFunction=a.isFunction||function(a){return"function"===typeof a&&"number"!==typeof a.nodeType};l="undefined"!=typeof l&&l.Math==Math?l:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();a.fn.modal=function(e){var c=a(this),S=a(l),L=a(F),x=a("body"),T=c.selector||"",N=(new Date).getTime(),P=[],C=arguments[0],I="string"==typeof C,D=[].slice.call(arguments,1),J=l.requestAnimationFrame||l.mozRequestAnimationFrame||l.webkitRequestAnimationFrame||l.msRequestAnimationFrame||
function(a){setTimeout(a,0)},y;c.each(function(){var b=a.isPlainObject(e)?a.extend(!0,{},a.fn.modal.settings,e):a.extend({},a.fn.modal.settings),c=b.selector,A=b.className,K=b.namespace,z=b.fields,r=b.error,H="."+K,k="module-"+K,d=a(this),f=a(b.context),O=d.find(c.close),M,m,G,u,E,Q=this,V=d.hasClass("modal")?d.data(k):h,R=!1,B,t,q="",v="",U,X,W,w;w={initialize:function(){d.hasClass("modal")||(w.create.modal(),a.isFunction(b.onHidden)||(b.onHidden=function(){w.destroy();d.remove()}));d.addClass(b.class);
""!==b.title&&d.find(c.title).html(w.helpers.escape(b.title,b.preserveHTML)).addClass(b.classTitle);""!==b.content&&d.find(c.content).html(w.helpers.escape(b.content,b.preserveHTML)).addClass(b.classContent);if(w.has.configActions()){var e=d.find(c.actions).addClass(b.classActions);0===e.length?e=a("<div/>",{class:A.actions+" "+(b.classActions||"")}).appendTo(d):e.empty();b.actions.forEach(function(c){var f=c[z.icon]?'<i class="'+w.helpers.deQuote(c[z.icon])+' icon"></i>':"",h=w.helpers.escape(c[z.text]||
"",b.preserveHTML),k=w.helpers.deQuote(c[z.class]||""),q=c[z.click]&&a.isFunction(c[z.click])?c[z.click]:function(){};e.append(a("<button/>",{html:f+h,class:A.button+" "+k,click:function(){!1!==q.call(Q,d)&&w.hide()}}))})}w.cache={};w.verbose("Initializing dimmer",f);w.create.id();w.create.dimmer();b.allowMultiple&&w.create.innerDimmer();b.centered||d.addClass("top aligned");w.refreshModals();w.bind.events();b.observeChanges&&w.observeChanges();w.instantiate();b.autoShow&&w.show()},instantiate:function(){w.verbose("Storing instance of modal");
V=w;d.data(k,V)},create:{modal:function(){d=a("<div/>",{class:A.modal});b.closeIcon&&(O=a("<i/>",{class:A.close}),d.append(O));""!==b.title&&a("<div/>",{class:A.title}).appendTo(d);""!==b.content&&a("<div/>",{class:A.content}).appendTo(d);w.has.configActions()&&a("<div/>",{class:A.actions}).appendTo(d);f.append(d)},dimmer:function(){var c=a.extend(!0,{debug:b.debug,dimmerName:"modals"},b.dimmerSettings);a.fn.dimmer===h?w.error(r.dimmer):(w.debug("Creating dimmer"),u=f.dimmer(c),b.detachable?(w.verbose("Modal is detachable, moving content into dimmer"),
u.dimmer("add content",d)):w.set.undetached(),E=u.dimmer("get dimmer"))},id:function(){X=(Math.random().toString(16)+"000000000").substr(2,8);U="."+X;w.verbose("Creating unique id for element",X)},innerDimmer:function(){0==d.find(c.dimmer).length&&d.prepend('<div class="ui inverted dimmer"></div>')}},destroy:function(){W&&W.disconnect();w.verbose("Destroying previous modal");d.removeData(k).off(H);S.off(U);E.off(U);O.off(H);f.dimmer("destroy")},observeChanges:function(){"MutationObserver"in l&&(W=
new MutationObserver(function(a){w.debug("DOM tree modified, refreshing");w.refresh()}),W.observe(Q,{childList:!0,subtree:!0}),w.debug("Setting up mutation observer",W))},refresh:function(){w.remove.scrolling();w.cacheSizes();w.can.useFlex()||w.set.modalOffset();w.set.screenHeight();w.set.type()},refreshModals:function(){m=d.siblings(c.modal);M=m.add(d)},attachEvents:function(b,d){var c=a(b);d=a.isFunction(w[d])?w[d]:w.toggle;0<c.length?(w.debug("Attaching modal events to element",b,d),c.off(H).on("click"+
H,d)):w.error(r.notFound,b)},bind:{events:function(){w.verbose("Attaching events");d.on("click"+H,c.close,w.event.close).on("click"+H,c.approve,w.event.approve).on("click"+H,c.deny,w.event.deny);S.on("resize"+U,w.event.resize)},scrollLock:function(){u.get(0).addEventListener("touchmove",w.event.preventScroll,{passive:!1})}},unbind:{scrollLock:function(){u.get(0).removeEventListener("touchmove",w.event.preventScroll,{passive:!1})}},get:{id:function(){return(Math.random().toString(16)+"000000000").substr(2,
8)},element:function(){return d},settings:function(){return b}},event:{approve:function(){R||!1===b.onApprove.call(Q,a(this))?w.verbose("Approve callback returned false cancelling hide"):(R=!0,w.hide(function(){R=!1}))},preventScroll:function(a){-1!==a.target.className.indexOf("dimmer")&&a.preventDefault()},deny:function(){R||!1===b.onDeny.call(Q,a(this))?w.verbose("Deny callback returned false cancelling hide"):(R=!0,w.hide(function(){R=!1}))},close:function(){w.hide()},mousedown:function(d){var f=
a(d.target),e=w.is.rtl();(B=0<f.closest(c.modal).length)&&w.verbose("Mouse down event registered inside the modal");(t=w.is.scrolling()&&(!e&&a(l).outerWidth()-b.scrollbarWidth<=d.clientX||e&&b.scrollbarWidth>=d.clientX))&&w.verbose("Mouse down event registered inside the scrollbar")},mouseup:function(f){if(b.closable)if(B)w.debug("Dimmer clicked but mouse down was initially registered inside the modal");else if(t)w.debug("Dimmer clicked but mouse down was initially registered inside the scrollbar");
else{var e=0<a(f.target).closest(c.modal).length;f=a.contains(F.documentElement,f.target);if(!e&&f&&w.is.active()&&d.hasClass(A.front)){w.debug("Dimmer clicked, hiding all modals");if(b.allowMultiple){if(!w.hideAll())return}else if(!w.hide())return;w.remove.clickaway()}}else w.verbose("Dimmer clicked but closable setting is disabled")},debounce:function(a,b){clearTimeout(w.timer);w.timer=setTimeout(a,b)},keyboard:function(a){27==a.which&&(b.closable?(w.debug("Escape key pressed hiding modal"),d.hasClass(A.front)&&
w.hide()):w.debug("Escape key pressed, but closable is set to false"),a.preventDefault())},resize:function(){u.dimmer("is active")&&(w.is.animating()||w.is.active())&&J(w.refresh)}},toggle:function(){w.is.active()||w.is.animating()?w.hide():w.show()},show:function(b){b=a.isFunction(b)?b:function(){};w.refreshModals();w.set.dimmerSettings();w.set.dimmerStyles();w.showModal(b)},hide:function(b){b=a.isFunction(b)?b:function(){};w.refreshModals();return w.hideModal(b)},showModal:function(f){f=a.isFunction(f)?
f:function(){};w.is.animating()||!w.is.active()?(w.showDimmer(),w.cacheSizes(),w.set.bodyMargin(),w.can.useFlex()?w.remove.legacy():(w.set.legacy(),w.set.modalOffset(),w.debug("Using non-flex legacy modal positioning.")),w.set.screenHeight(),w.set.type(),w.set.clickaway(),!b.allowMultiple&&w.others.active()?w.hideOthers(w.showModal):(R=!1,b.allowMultiple&&(w.others.active()&&m.filter("."+A.active).find(c.dimmer).addClass("active"),b.detachable&&d.detach().appendTo(E)),b.onShow.call(Q),b.transition&&
a.fn.transition!==h&&d.transition("is supported")?(w.debug("Showing modal with css animations"),d.transition({debug:b.debug,animation:(b.transition.showMethod||b.transition)+" in",queue:b.queue,duration:b.transition.showDuration||b.duration,useFailSafe:!0,onComplete:function(){b.onVisible.apply(Q);b.keyboardShortcuts&&w.add.keyboardShortcuts();w.save.focus();w.set.active();b.autofocus&&w.set.autofocus();f()}})):w.error(r.noTransition))):w.debug("Modal is already visible")},hideModal:function(f,e,
k){var q=m.filter("."+A.active).last();f=a.isFunction(f)?f:function(){};w.debug("Hiding modal");if(!1===b.onHide.call(Q,a(this)))return w.verbose("Hide callback returned false cancelling hide"),R=!1;if(w.is.animating()||w.is.active())b.transition&&a.fn.transition!==h&&d.transition("is supported")?(w.remove.active(),d.transition({debug:b.debug,animation:(b.transition.hideMethod||b.transition)+" out",queue:b.queue,duration:b.transition.hideDuration||b.duration,useFailSafe:!0,onStart:function(){w.others.active()||
w.others.animating()||e||w.hideDimmer();b.keyboardShortcuts&&!w.others.active()&&w.remove.keyboardShortcuts()},onComplete:function(){w.unbind.scrollLock();b.allowMultiple&&(q.addClass(A.front),d.removeClass(A.front),k?M.find(c.dimmer).removeClass("active"):q.find(c.dimmer).removeClass("active"));a.isFunction(b.onHidden)&&b.onHidden.call(Q);w.remove.dimmerStyles();w.restore.focus();f()}})):w.error(r.noTransition)},showDimmer:function(){u.dimmer("is animating")||!u.dimmer("is active")?(w.save.bodyMargin(),
w.debug("Showing dimmer"),u.dimmer("show")):w.debug("Dimmer already visible")},hideDimmer:function(){u.dimmer("is animating")||u.dimmer("is active")?(w.unbind.scrollLock(),u.dimmer("hide",function(){w.restore.bodyMargin();w.remove.clickaway();w.remove.screenHeight()})):w.debug("Dimmer is not visible cannot hide")},hideAll:function(b){var d=M.filter("."+A.active+", ."+A.animating);b=a.isFunction(b)?b:function(){};if(0<d.length){w.debug("Hiding all visible modals");var c=!0;a(d.get().reverse()).each(function(d,
f){c&&(c=a(f).modal("hide modal",b,!1,!0))});c&&w.hideDimmer();return c}},hideOthers:function(b){var d=m.filter("."+A.active+", ."+A.animating);b=a.isFunction(b)?b:function(){};0<d.length&&(w.debug("Hiding other modals",m),d.modal("hide modal",b,!0))},others:{active:function(){return 0<m.filter("."+A.active).length},animating:function(){return 0<m.filter("."+A.animating).length}},add:{keyboardShortcuts:function(){w.verbose("Adding keyboard shortcuts");L.on("keyup"+H,w.event.keyboard)}},save:{focus:function(){0<
a(F.activeElement).closest(d).length||(G=a(F.activeElement).blur())},bodyMargin:function(){q=x.css("margin-"+(w.can.leftBodyScrollbar()?"left":"right"));v=parseInt(q.replace(/[^\d.]/g,""))+(l.innerWidth-F.documentElement.clientWidth)}},restore:{focus:function(){G&&0<G.length&&b.restoreFocus&&G.focus()},bodyMargin:function(){var b=w.can.leftBodyScrollbar()?"left":"right";x.css("margin-"+b,q);x.find(c.bodyFixed.replace("right",b)).each(function(){var d=a(this),c="fixed"===d.css("position")?"padding-"+
b:b;d.css(c,"")})}},remove:{active:function(){d.removeClass(A.active)},legacy:function(){d.removeClass(A.legacy)},clickaway:function(){b.detachable||d.off("mousedown"+U);E.off("mousedown"+U);E.off("mouseup"+U)},dimmerStyles:function(){E.removeClass(A.inverted);u.removeClass(A.blurring)},bodyStyle:function(){""===x.attr("style")&&(w.verbose("Removing style attribute"),x.removeAttr("style"))},screenHeight:function(){w.debug("Removing page height");x.css("height","")},keyboardShortcuts:function(){w.verbose("Removing keyboard shortcuts");
L.off("keyup"+H)},scrolling:function(){u.removeClass(A.scrolling);d.removeClass(A.scrolling)}},cacheSizes:function(){d.addClass(A.loading);var c=d.prop("scrollHeight"),f=d.outerWidth(),e=d.outerHeight();if(w.cache.pageHeight===h||0!==e)a.extend(w.cache,{pageHeight:a(F).outerHeight(),width:f,height:e+b.offset,scrollHeight:c+b.offset,contextHeight:"body"==b.context?a(l).height():u.height()}),w.cache.topOffset=-(w.cache.height/2);d.removeClass(A.loading);w.debug("Caching modal and container sizes",w.cache)},
helpers:{deQuote:function(a){return String(a).replace(/"/g,"")},escape:function(a,b){if(b)return a;b=/[<>"'`]/g;var d={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},c=function(a){return d[a]};return/[&<>"'`]/.test(a)?(a=a.replace(/&(?![a-z0-9#]{1,6};)/,"&amp;"),a.replace(b,c)):a}},can:{leftBodyScrollbar:function(){w.cache.leftBodyScrollbar===h&&(w.cache.leftBodyScrollbar=w.is.rtl()&&(w.is.iframe&&!w.is.firefox()||w.is.safari()||w.is.edge()||w.is.ie()));return w.cache.leftBodyScrollbar},
useFlex:function(){if("auto"===b.useFlex)return b.detachable&&!w.is.ie();b.useFlex&&w.is.ie()?w.debug("useFlex true is not supported in IE"):b.useFlex&&!b.detachable&&w.debug("useFlex true in combination with detachable false is not supported");return b.useFlex},fit:function(){var a=w.cache.contextHeight,d=w.cache.contextHeight/2,c=w.cache.topOffset,f=w.cache.scrollHeight,e=w.cache.height,h=b.padding;return f>e?d+c+f+h<a:e+2*h<a}},has:{configActions:function(){return Array.isArray(b.actions)&&0<b.actions.length}},
is:{active:function(){return d.hasClass(A.active)},ie:function(){if(w.cache.isIE===h){var a="ActiveXObject"in l;w.cache.isIE=!l.ActiveXObject&&"ActiveXObject"in l||a}return w.cache.isIE},animating:function(){return d.transition("is supported")?d.transition("is animating"):d.is(":visible")},scrolling:function(){return u.hasClass(A.scrolling)},modernBrowser:function(){return!(l.ActiveXObject||"ActiveXObject"in l)},rtl:function(){w.cache.isRTL===h&&(w.cache.isRTL="rtl"===x.attr("dir")||"rtl"===x.css("direction"));
return w.cache.isRTL},safari:function(){w.cache.isSafari===h&&(w.cache.isSafari=/constructor/i.test(l.HTMLElement)||!!l.ApplePaySession);return w.cache.isSafari},edge:function(){w.cache.isEdge===h&&(w.cache.isEdge=!!l.setImmediate&&!w.is.ie());return w.cache.isEdge},firefox:function(){w.cache.isFirefox===h&&(w.cache.isFirefox=!!l.InstallTrigger);return w.cache.isFirefox},iframe:function(){return self!==top}},set:{autofocus:function(){var b=d.find("[tabindex], :input").filter(":visible").filter(function(){return 0===
a(this).closest(".disabled").length}),c=b.filter("[autofocus]"),b=0<c.length?c.first():b.first();0<b.length&&b.focus()},bodyMargin:function(){var d=w.can.leftBodyScrollbar()?"left":"right";(b.detachable||w.can.fit())&&x.css("margin-"+d,v+"px");x.find(c.bodyFixed.replace("right",d)).each(function(){var b=a(this),c="fixed"===b.css("position")?"padding-"+d:d;b.css(c,"calc("+b.css(c)+" + "+v+"px)")})},clickaway:function(){if(!b.detachable)d.on("mousedown"+U,w.event.mousedown);E.on("mousedown"+U,w.event.mousedown);
E.on("mouseup"+U,w.event.mouseup)},dimmerSettings:function(){if(a.fn.dimmer===h)w.error(r.dimmer);else{var d={debug:b.debug,dimmerName:"modals",closable:"auto",useFlex:w.can.useFlex(),duration:{show:b.transition.showDuration||b.duration,hide:b.transition.hideDuration||b.duration}},d=a.extend(!0,d,b.dimmerSettings);b.inverted&&(d.variation=d.variation!==h?d.variation+" inverted":"inverted");f.dimmer("setting",d)}},dimmerStyles:function(){b.inverted?E.addClass(A.inverted):E.removeClass(A.inverted);
b.blurring?u.addClass(A.blurring):u.removeClass(A.blurring)},modalOffset:function(){if(b.detachable)d.css({marginTop:!d.hasClass("aligned")&&w.can.fit()?-(w.cache.height/2):b.padding/2,marginLeft:-(w.cache.width/2)});else{var c=w.can.fit();d.css({top:!d.hasClass("aligned")&&c?a(F).scrollTop()+(w.cache.contextHeight-w.cache.height)/2:!c||d.hasClass("top")?a(F).scrollTop()+b.padding:a(F).scrollTop()+(w.cache.contextHeight-w.cache.height-b.padding),marginLeft:-(w.cache.width/2)})}w.verbose("Setting modal offset for legacy mode")},
screenHeight:function(){w.can.fit()?x.css("height",""):d.hasClass("bottom")||(w.debug("Modal is taller than page content, resizing page height"),x.css("height",w.cache.height+2*b.padding))},active:function(){d.addClass(A.active+" "+A.front);m.filter("."+A.active).removeClass(A.front)},scrolling:function(){u.addClass(A.scrolling);d.addClass(A.scrolling);w.unbind.scrollLock()},legacy:function(){d.addClass(A.legacy)},type:function(){w.can.fit()?(w.verbose("Modal fits on screen"),w.others.active()||w.others.animating()||
(w.remove.scrolling(),w.bind.scrollLock())):d.hasClass("bottom")?w.verbose("Bottom aligned modal not fitting on screen is unsupported for scrolling"):(w.verbose("Modal cannot fit on screen setting to scrolling"),w.set.scrolling())},undetached:function(){u.addClass(A.undetached)}},setting:function(d,c){w.debug("Changing setting",d,c);if(a.isPlainObject(d))a.extend(!0,b,d);else if(c!==h)a.isPlainObject(b[d])?a.extend(!0,b[d],c):b[d]=c;else return b[d]},internal:function(b,d){if(a.isPlainObject(b))a.extend(!0,
w,b);else if(d!==h)w[b]=d;else return w[b]},debug:function(){!b.silent&&b.debug&&(b.performance?w.performance.log(arguments):(w.debug=Function.prototype.bind.call(console.info,console,b.name+":"),w.debug.apply(console,arguments)))},verbose:function(){!b.silent&&b.verbose&&b.debug&&(b.performance?w.performance.log(arguments):(w.verbose=Function.prototype.bind.call(console.info,console,b.name+":"),w.verbose.apply(console,arguments)))},error:function(){b.silent||(w.error=Function.prototype.bind.call(console.error,
console,b.name+":"),w.error.apply(console,arguments))},performance:{log:function(a){var d,c;b.performance&&(d=(new Date).getTime(),c=N||d,c=d-c,N=d,P.push({Name:a[0],Arguments:[].slice.call(a,1)||"",Element:Q,"Execution Time":c}));clearTimeout(w.performance.timer);w.performance.timer=setTimeout(w.performance.display,500)},display:function(){var d=b.name+":",c=0;N=!1;clearTimeout(w.performance.timer);a.each(P,function(a,b){c+=b["Execution Time"]});d+=" "+c+"ms";T&&(d+=" '"+T+"'");(console.group!==
h||console.table!==h)&&0<P.length&&(console.groupCollapsed(d),console.table?console.table(P):a.each(P,function(a,b){console.log(b.Name+": "+b["Execution Time"]+"ms")}),console.groupEnd());P=[]}},invoke:function(b,d,c){var f=V,e,k,q;d=d||D;c=Q||c;"string"==typeof b&&f!==h&&(b=b.split(/[\. ]/),e=b.length-1,a.each(b,function(d,c){var q=d!=e?c+b[d+1].charAt(0).toUpperCase()+b[d+1].slice(1):b;if(a.isPlainObject(f[q])&&d!=e)f=f[q];else{if(f[q]!==h)return k=f[q],!1;if(a.isPlainObject(f[c])&&d!=e)f=f[c];
else return f[c]!==h&&(k=f[c]),!1}}));a.isFunction(k)?q=k.apply(c,d):k!==h&&(q=k);Array.isArray(y)?y.push(q):y!==h?y=[y,q]:q!==h&&(y=q);return k}};I?(V===h&&(a.isFunction(b.templates[C])&&(b.autoShow=!0,b.className.modal=b.className.template,b=a.extend(!0,{},b,b.templates[C].apply(w,D)),A=b.className,K=b.namespace,z=b.fields,r=b.error),w.initialize()),a.isFunction(b.templates[C])||w.invoke(C)):(V!==h&&V.invoke("destroy"),w.initialize(),y=d)});return y!==h?y:this};a.fn.modal.settings={name:"Modal",
namespace:"modal",useFlex:"auto",offset:0,silent:!1,debug:!1,verbose:!1,performance:!0,observeChanges:!1,allowMultiple:!1,detachable:!0,closable:!0,autofocus:!0,restoreFocus:!0,autoShow:!1,inverted:!1,blurring:!1,centered:!0,dimmerSettings:{closable:!1,useCSS:!0},keyboardShortcuts:!0,context:"body",queue:!1,duration:500,transition:"scale",padding:50,scrollbarWidth:10,title:"",content:"",class:"",classTitle:"",classContent:"",classActions:"",closeIcon:!1,actions:!1,preserveHTML:!0,fields:{class:"class",
text:"text",icon:"icon",click:"click"},onShow:function(){},onVisible:function(){},onHide:function(){return!0},onHidden:!1,onApprove:function(){return!0},onDeny:function(){return!0},selector:{title:"> .header",content:"> .content",actions:"> .actions",close:"> .close",approve:".actions .positive, .actions .approve, .actions .ok",deny:".actions .negative, .actions .deny, .actions .cancel",modal:".ui.modal",dimmer:"> .ui.dimmer",bodyFixed:"> .ui.fixed.menu, > .ui.right.toast-container, > .ui.right.sidebar, > .ui.fixed.nag, > .ui.fixed.nag > .close",
prompt:".ui.input > input"},error:{dimmer:"UI Dimmer, a required component is not included in this page",method:"The method you called is not defined.",notFound:"The element you specified could not be found"},className:{active:"active",animating:"animating",blurring:"blurring",inverted:"inverted",legacy:"legacy",loading:"loading",scrolling:"scrolling",undetached:"undetached",front:"front",close:"close icon",button:"ui button",modal:"ui modal",title:"header",content:"content",actions:"actions",template:"ui tiny modal",
ok:"positive",cancel:"negative",prompt:"ui fluid input"},text:{ok:"Ok",cancel:"Cancel"}};a.fn.modal.settings.templates={getArguments:function(e){e=[].slice.call(e);if(a.isPlainObject(e[0]))return a.extend({handler:function(){},content:"",title:""},e[0]);a.isFunction(e[e.length-1])||e.push(function(){});return{handler:e.pop(),content:e.pop()||"",title:e.pop()||""}},alert:function(){var a=this.get.settings(),c=a.templates.getArguments(arguments);return{title:c.title,content:c.content,actions:[{text:a.text.ok,
class:a.className.ok,click:c.handler}]}},confirm:function(){var a=this.get.settings(),c=a.templates.getArguments(arguments);return{title:c.title,content:c.content,actions:[{text:a.text.ok,class:a.className.ok,click:function(){c.handler(!0)}},{text:a.text.cancel,class:a.className.cancel,click:function(){c.handler(!1)}}]}},prompt:function(){var e=this,c=this.get.settings(),h=c.templates.getArguments(arguments);0===a(a.parseHTML(h.content)).filter(".ui.input").length&&(h.content+='<p><div class="'+c.className.prompt+
'"><input placeholder="'+this.helpers.deQuote(h.placeholder||"")+'" type="text" value="'+this.helpers.deQuote(h.defaultValue||"")+'"></div></p>');return{title:h.title,content:h.content,actions:[{text:c.text.ok,class:c.className.ok,click:function(){var c=e.get.settings(),c=e.get.element().find(c.selector.prompt)[0];h.handler(a(c).val())}},{text:c.text.cancel,class:c.className.cancel,click:function(){h.handler(null)}}]}}}})(jQuery,window,document);
(function(a,l,F,h){a.isFunction=a.isFunction||function(a){return"function"===typeof a&&"number"!==typeof a.nodeType};l="undefined"!=typeof l&&l.Math==Math?l:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();a.fn.nag=function(e){var c=a(this),S=c.selector||"",L=(new Date).getTime(),x=[],T=arguments[0],N="string"==typeof T,P=[].slice.call(arguments,1),C;c.each(function(){var c=a.isPlainObject(e)?a.extend(!0,{},a.fn.nag.settings,e):a.extend({},a.fn.nag.settings),D=c.selector,J=
c.error,y=c.namespace,b="."+y,n=y+"-module",A=a(this),K=c.context?a(c.context):a("body"),z=this,r=A.data(n),H,k;k={initialize:function(){k.verbose("Initializing element");H=k.get.storage();A.on("click"+b,D.close,k.dismiss).data(n,k);c.detachable&&A.parent()[0]!==K[0]&&A.detach().prependTo(K);0<c.displayTime&&setTimeout(k.hide,c.displayTime);k.show()},destroy:function(){k.verbose("Destroying instance");A.removeData(n).off(b)},show:function(){if(k.should.show()&&!A.is(":visible")){if(!1===c.onShow.call(z))return k.debug("onShow callback returned false, cancelling nag animation"),
!1;k.debug("Showing nag",c.animation.show);"fade"===c.animation.show?A.fadeIn(c.duration,c.easing,c.onVisible):A.slideDown(c.duration,c.easing,c.onVisible)}},hide:function(){if(!1===c.onHide.call(z))return k.debug("onHide callback returned false, cancelling nag animation"),!1;k.debug("Hiding nag",c.animation.hide);"fade"===c.animation.hide?A.fadeOut(c.duration,c.easing,c.onHidden):A.slideUp(c.duration,c.easing,c.onHidden)},dismiss:function(a){!1!==k.hide()&&c.storageMethod&&(k.debug("Dismissing nag",
c.storageMethod,c.key,c.value,c.expires),k.storage.set(c.key,c.value));a.stopImmediatePropagation();a.preventDefault()},should:{show:function(){if(c.persist)return k.debug("Persistent nag is set, can show nag"),!0;if(k.storage.get(c.key)!=c.value.toString())return k.debug("Stored value is not set, can show nag",k.storage.get(c.key)),!0;k.debug("Stored value is set, cannot show nag",k.storage.get(c.key));return!1}},get:{expirationDate:function(a){"number"===typeof a&&(a=new Date(Date.now()+864E5*a));
if(a instanceof Date&&a.getTime())return a.toUTCString();k.error(J.expiresFormat)},storage:function(){if("localstorage"===c.storageMethod&&l.localStorage!==h)return k.debug("Using local storage"),l.localStorage;if("sessionstorage"===c.storageMethod&&l.sessionStorage!==h)return k.debug("Using session storage"),l.sessionStorage;if("cookie"in F)return k.debug("Using cookie"),{setItem:function(a,b,c){a=encodeURIComponent(a).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);b=
encodeURIComponent(b).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent);var e="",h;for(h in c)c.hasOwnProperty(h)&&(e+="; "+h,"string"===typeof c[h]&&(e+="="+c[h].split(";")[0]));F.cookie=a+"="+b+e},getItem:function(a){for(var b=F.cookie.split("; "),c=0,e=b.length;c<e;c++){var h=b[c].split("="),k=h[0].replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);if(a===k)return h[1]||""}},removeItem:function(a,b){H.setItem(a,"",b)}};k.error(J.noStorage)},storageOptions:function(){var a={};c.expires&&
(a.expires=k.get.expirationDate(c.expires));c.domain&&(a.domain=c.domain);c.path&&(a.path=c.path);c.secure&&(a.secure=c.secure);c.samesite&&(a.samesite=c.samesite);return a}},clear:function(){k.storage.remove(c.key)},storage:{set:function(a,b){var e=k.get.storageOptions();H===l.localStorage&&e.expires&&(k.debug("Storing expiration value in localStorage",a,e.expires),H.setItem(a+c.expirationKey,e.expires));k.debug("Value stored",a,b);try{H.setItem(a,b,e)}catch(h){k.error(J.setItem,h)}},get:function(a){var b;
b=H.getItem(a);if(H===l.localStorage){var e=H.getItem(a+c.expirationKey);null!==e&&e!==h&&new Date(e)<new Date&&(k.debug("Value in localStorage has expired. Deleting key",a),k.storage.remove(a),b=null)}if("undefined"==b||"null"==b||b===h||null===b)b=h;return b},remove:function(a){var b=k.get.storageOptions();b.expires=k.get.expirationDate(-1);H===l.localStorage&&H.removeItem(a+c.expirationKey);H.removeItem(a,b)}},setting:function(b,f){k.debug("Changing setting",b,f);if(a.isPlainObject(b))a.extend(!0,
c,b);else if(f!==h)a.isPlainObject(c[b])?a.extend(!0,c[b],f):c[b]=f;else return c[b]},internal:function(b,c){if(a.isPlainObject(b))a.extend(!0,k,b);else if(c!==h)k[b]=c;else return k[b]},debug:function(){!c.silent&&c.debug&&(c.performance?k.performance.log(arguments):(k.debug=Function.prototype.bind.call(console.info,console,c.name+":"),k.debug.apply(console,arguments)))},verbose:function(){!c.silent&&c.verbose&&c.debug&&(c.performance?k.performance.log(arguments):(k.verbose=Function.prototype.bind.call(console.info,
console,c.name+":"),k.verbose.apply(console,arguments)))},error:function(){c.silent||(k.error=Function.prototype.bind.call(console.error,console,c.name+":"),k.error.apply(console,arguments))},performance:{log:function(a){var b,e;c.performance&&(b=(new Date).getTime(),e=L||b,e=b-e,L=b,x.push({Name:a[0],Arguments:[].slice.call(a,1)||"",Element:z,"Execution Time":e}));clearTimeout(k.performance.timer);k.performance.timer=setTimeout(k.performance.display,500)},display:function(){var b=c.name+":",f=0;
L=!1;clearTimeout(k.performance.timer);a.each(x,function(a,b){f+=b["Execution Time"]});b+=" "+f+"ms";S&&(b+=" '"+S+"'");(console.group!==h||console.table!==h)&&0<x.length&&(console.groupCollapsed(b),console.table?console.table(x):a.each(x,function(a,b){console.log(b.Name+": "+b["Execution Time"]+"ms")}),console.groupEnd());x=[]}},invoke:function(b,c,e){var n=r,m,l,A;c=c||P;e=z||e;"string"==typeof b&&n!==h&&(b=b.split(/[\. ]/),m=b.length-1,a.each(b,function(c,f){var e=c!=m?f+b[c+1].charAt(0).toUpperCase()+
b[c+1].slice(1):b;if(a.isPlainObject(n[e])&&c!=m)n=n[e];else{if(n[e]!==h)return l=n[e],!1;if(a.isPlainObject(n[f])&&c!=m)n=n[f];else return n[f]!==h?l=n[f]:k.error(J.method,b),!1}}));a.isFunction(l)?A=l.apply(e,c):l!==h&&(A=l);Array.isArray(C)?C.push(A):C!==h?C=[C,A]:A!==h&&(C=A);return l}};N?(r===h&&k.initialize(),k.invoke(T)):(r!==h&&r.invoke("destroy"),k.initialize())});return C!==h?C:this};a.fn.nag.settings={name:"Nag",silent:!1,debug:!1,verbose:!1,performance:!0,namespace:"Nag",persist:!1,displayTime:0,
animation:{show:"slide",hide:"slide"},context:!1,detachable:!1,expires:30,domain:!1,path:"/",secure:!1,samesite:!1,storageMethod:"cookie",key:"nag",value:"dismiss",expirationKey:"ExpirationDate",error:{noStorage:"Unsupported storage method",method:"The method you called is not defined.",setItem:"Unexpected error while setting value",expiresFormat:'"expires" must be a number of days or a Date Object'},className:{bottom:"bottom",fixed:"fixed"},selector:{close:"> .close.icon"},duration:500,easing:"easeOutQuad",
onShow:function(){},onVisible:function(){},onHide:function(){},onHidden:function(){}};a.extend(a.easing,{easeOutQuad:function(a,c,h,l,x){return-l*(c/=x)*(c-2)+h}})})(jQuery,window,document);
(function(a,l,F,h){a.isFunction=a.isFunction||function(a){return"function"===typeof a&&"number"!==typeof a.nodeType};l="undefined"!=typeof l&&l.Math==Math?l:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();a.fn.popup=function(e){var c=a(this),S=a(F),L=a(l),x=a("body"),T=c.selector||"",N="ontouchstart"in F.documentElement?"touchstart":"click",P=(new Date).getTime(),C=[],I=arguments[0],D="string"==typeof I,J=[].slice.call(arguments,1),y;c.each(function(){var b=a.isPlainObject(e)?
a.extend(!0,{},a.fn.popup.settings,e):a.extend({},a.fn.popup.settings),c=b.selector,A=b.className,K=b.error,z=b.metadata,r="."+b.namespace,H="module-"+b.namespace,k=a(this),d=a(b.context),f=a(b.scrollContext),O=a(b.boundary),M=b.target?a(b.target):k,m,G,u=0,E=!1,Q=!1,V=this,R=k.data(H),B,t,q,v;v={initialize:function(){v.debug("Initializing",k);v.createID();v.bind.events();!v.exists()&&b.preserve&&v.create();b.observeChanges&&v.observeChanges();v.instantiate()},instantiate:function(){v.verbose("Storing instance",
v);R=v;k.data(H,R)},observeChanges:function(){"MutationObserver"in l&&(B=new MutationObserver(v.event.documentChanged),B.observe(F,{childList:!0,subtree:!0}),v.debug("Setting up mutation observer",B))},refresh:function(){b.popup?m=a(b.popup).eq(0):b.inline&&(m=M.nextAll(c.popup).eq(0),b.popup=m);b.popup?(m.addClass(A.loading),G=v.get.offsetParent(),m.removeClass(A.loading),b.movePopup&&v.has.popup()&&v.get.offsetParent(m)[0]!==G[0]&&(v.debug("Moving popup to the same offset parent as target"),m.detach().appendTo(G))):
G=b.inline?v.get.offsetParent(M):v.has.popup()?v.get.offsetParent(m):x;G.is("html")&&G[0]!==x[0]&&(v.debug("Setting page as offset parent"),G=x);v.get.variation()&&v.set.variation()},reposition:function(){v.refresh();v.set.position()},destroy:function(){v.debug("Destroying previous module");B&&B.disconnect();m&&!b.preserve&&v.removePopup();clearTimeout(v.hideTimer);clearTimeout(v.showTimer);v.unbind.close();v.unbind.events();k.removeData(H)},event:{start:function(c){c=a.isPlainObject(b.delay)?b.delay.show:
b.delay;clearTimeout(v.hideTimer);if(!Q||Q&&b.addTouchEvents)v.showTimer=setTimeout(v.show,c)},end:function(){var c=a.isPlainObject(b.delay)?b.delay.hide:b.delay;clearTimeout(v.showTimer);v.hideTimer=setTimeout(v.hide,c)},touchstart:function(a){Q=!0;b.addTouchEvents&&v.show()},resize:function(){v.is.visible()&&v.set.position()},documentChanged:function(b){[].forEach.call(b,function(b){b.removedNodes&&[].forEach.call(b.removedNodes,function(b){if(b==V||0<a(b).find(V).length)v.debug("Element removed from DOM, tearing down events"),
v.destroy()})})},hideGracefully:function(b){var d=a(b.target),f=a.contains(F.documentElement,b.target),d=0<d.closest(c.popup).length;b&&!d&&f?(v.debug("Click occurred outside popup hiding popup"),v.hide()):v.debug("Click was inside popup, keeping popup open")}},create:function(){var f=v.get.html(),e=v.get.title(),h=v.get.content();f||h||e?(v.debug("Creating pop-up html"),f||(f=b.templates.popup({title:e,content:h})),m=a("<div/>").addClass(A.popup).data(z.activator,k).html(f),b.inline?(v.verbose("Inserting popup element inline",
m),m.insertAfter(k)):(v.verbose("Appending popup element to body",m),m.appendTo(d)),v.refresh(),v.set.variation(),b.hoverable&&v.bind.popup(),b.onCreate.call(m,V)):b.popup?(a(b.popup).data(z.activator,k),v.verbose("Used popup specified in settings"),v.refresh(),b.hoverable&&v.bind.popup()):0!==M.next(c.popup).length?(v.verbose("Pre-existing popup found"),b.inline=!0,b.popup=M.next(c.popup).data(z.activator,k),v.refresh(),b.hoverable&&v.bind.popup()):v.debug("No content specified skipping display",
V)},createID:function(){q=(Math.random().toString(16)+"000000000").substr(2,8);t="."+q;v.verbose("Creating unique id for element",q)},toggle:function(){v.debug("Toggling pop-up");v.is.hidden()?(v.debug("Popup is hidden, showing pop-up"),v.unbind.close(),v.show()):(v.debug("Popup is visible, hiding pop-up"),v.hide())},show:function(a){a=a||function(){};v.debug("Showing pop-up",b.transition);!v.is.hidden()||v.is.active()&&v.is.dropdown()||(v.exists()||v.create(),!1===b.onShow.call(m,V)?v.debug("onShow callback returned false, cancelling popup animation"):
(b.preserve||b.popup||v.refresh(),m&&v.set.position()&&(v.save.conditions(),b.exclusive&&v.hideAll(),v.animate.show(a))))},hide:function(a){a=a||function(){};if(v.is.visible()||v.is.animating())!1===b.onHide.call(m,V)?v.debug("onHide callback returned false, cancelling popup animation"):(v.remove.visible(),v.unbind.close(),v.restore.conditions(),v.animate.hide(a))},hideAll:function(){a(c.popup).filter("."+A.popupVisible).each(function(){a(this).data(z.activator).popup("hide")})},exists:function(){return m?
b.inline||b.popup?v.has.popup():1<=m.closest(d).length?!0:!1:!1},removePopup:function(){v.has.popup()&&!b.popup&&(v.debug("Removing popup",m),m.remove(),m=h,b.onRemove.call(m,V))},save:{conditions:function(){v.cache={title:k.attr("title")};v.cache.title&&k.removeAttr("title");v.verbose("Saving original attributes",v.cache.title)}},restore:{conditions:function(){v.cache&&v.cache.title&&(k.attr("title",v.cache.title),v.verbose("Restoring original attributes",v.cache.title));return!0}},supports:{svg:function(){return"undefined"!==
typeof SVGGraphicsElement}},animate:{show:function(c){c=a.isFunction(c)?c:function(){};b.transition&&a.fn.transition!==h&&k.transition("is supported")?(v.set.visible(),m.transition({animation:(b.transition.showMethod||b.transition)+" in",queue:!1,debug:b.debug,verbose:b.verbose,duration:b.transition.showDuration||b.duration,onComplete:function(){v.bind.close();c.call(m,V);b.onVisible.call(m,V)}})):v.error(K.noTransition)},hide:function(c){c=a.isFunction(c)?c:function(){};v.debug("Hiding pop-up");
b.transition&&a.fn.transition!==h&&k.transition("is supported")?m.transition({animation:(b.transition.hideMethod||b.transition)+" out",queue:!1,duration:b.transition.hideDuration||b.duration,debug:b.debug,verbose:b.verbose,onComplete:function(){v.reset();c.call(m,V);b.onHidden.call(m,V)}}):v.error(K.noTransition)}},change:{content:function(a){m.html(a)}},get:{html:function(){k.removeData(z.html);return k.data(z.html)||b.html},title:function(){k.removeData(z.title);return k.data(z.title)||b.title},
content:function(){k.removeData(z.content);return k.data(z.content)||b.content||k.attr("title")},variation:function(){k.removeData(z.variation);return k.data(z.variation)||b.variation},popup:function(){return m},popupOffset:function(){return m.offset()},calculations:function(){var a=v.get.offsetParent(m),c=M[0],d=O[0]==l,f=M.offset(),e=b.inline||b.popup&&b.movePopup?M.offsetParent().offset():{top:0,left:0},h=d?{top:0,left:0}:O.offset(),d=d?{top:L.scrollTop(),left:L.scrollLeft()}:{top:0,left:0},f=
{target:{element:M[0],width:M.outerWidth(),height:M.outerHeight(),top:f.top-e.top,left:f.left-e.left,margin:{}},popup:{width:m.outerWidth(),height:m.outerHeight()},parent:{width:G.outerWidth(),height:G.outerHeight()},screen:{top:h.top,left:h.left,scroll:{top:d.top,left:d.left},width:O.width(),height:O.height()}};a.get(0)!==G.get(0)&&(e=a.offset(),f.target.top-=e.top,f.target.left-=e.left,f.parent.width=a.outerWidth(),f.parent.height=a.outerHeight());b.setFluidWidth&&v.is.fluid()&&(f.container={width:m.parent().outerWidth()},
f.popup.width=f.container.width);f.target.margin.top=b.inline?parseInt(l.getComputedStyle(c).getPropertyValue("margin-top"),10):0;f.target.margin.left=b.inline?v.is.rtl()?parseInt(l.getComputedStyle(c).getPropertyValue("margin-right"),10):parseInt(l.getComputedStyle(c).getPropertyValue("margin-left"),10):0;a=f.screen;f.boundary={top:a.top+a.scroll.top,bottom:a.top+a.scroll.top+a.height,left:a.left+a.scroll.left,right:a.left+a.scroll.left+a.width};return f},id:function(){return q},startEvent:function(){return"hover"==
b.on?"mouseenter":"focus"==b.on?"focus":!1},scrollEvent:function(){return"scroll"},endEvent:function(){return"hover"==b.on?"mouseleave":"focus"==b.on?"blur":!1},distanceFromBoundary:function(a,b){var c={},d;b=b||v.get.calculations();d=b.popup;b=b.boundary;a&&(c={top:a.top-b.top,left:a.left-b.left,right:b.right-(a.left+d.width),bottom:b.bottom-(a.top+d.height)},v.verbose("Distance from boundaries determined",a,c));return c},offsetParent:function(b){b=(b!==h?b[0]:M[0]).parentNode;var c=a(b);if(b)for(var d=
"none"===c.css("transform"),f="static"===c.css("position"),e=c.is("body");b&&!e&&f&&d;)b=b.parentNode,c=a(b),d="none"===c.css("transform"),f="static"===c.css("position"),e=c.is("body");return c&&0<c.length?c:a()},positions:function(){return{"top left":!1,"top center":!1,"top right":!1,"bottom left":!1,"bottom center":!1,"bottom right":!1,"left center":!1,"right center":!1}},nextPosition:function(a){var c=a.split(" "),d=c[0],c=c[1],f={top:"bottom",bottom:"top",left:"right",right:"left"},e={left:"center",
center:"right",right:"left"},h={"top left":"top center","top center":"top right","top right":"right center","right center":"bottom right","bottom right":"bottom center","bottom center":"bottom left","bottom left":"left center","left center":"top left"},k="top"==d||"bottom"==d,q=!1,n=!1,m=!1;E||(v.verbose("All available positions available"),E=v.get.positions());v.debug("Recording last position tried",a);E[a]=!0;"opposite"===b.prefer&&(m=[f[d],c],m=m.join(" "),q=!0===E[m],v.debug("Trying opposite strategy",
m));"adjacent"===b.prefer&&k&&(m=[d,e[c]],m=m.join(" "),n=!0===E[m],v.debug("Trying adjacent strategy",m));if(n||q)v.debug("Using backup position",m),m=h[a];return m}},set:{position:function(a,c){if(0===M.length||0===m.length)v.error(K.notFound);else{var d,f,e,q,n,l;c=c||v.get.calculations();a=a||k.data(z.position)||b.position;d=k.data(z.offset)||b.offset;f=b.distanceAway;e=c.target;q=c.popup;n=c.parent;if(v.should.centerArrow(c)){v.verbose("Adjusting offset to center arrow on small target element");
if("top left"==a||"bottom left"==a)d+=e.width/2,d-=b.arrowPixelsFromEdge;if("top right"==a||"bottom right"==a)d-=e.width/2,d+=b.arrowPixelsFromEdge}if(0===e.width&&0===e.height&&!v.is.svg(e.element))return v.debug("Popup target is hidden, no action taken"),!1;b.inline&&(v.debug("Adding margin to calculation",e.margin),"left center"==a||"right center"==a?(d+=e.margin.top,f+=-e.margin.left):"top left"==a||"top center"==a||"top right"==a?(d+=e.margin.left,f-=e.margin.top):(d+=e.margin.left,f+=e.margin.top));
v.debug("Determining popup position from calculations",a,c);v.is.rtl()&&(a=a.replace(/left|right/g,function(a){return"left"==a?"right":"left"}),v.debug("RTL: Popup position updated",a));u==b.maxSearchDepth&&"string"===typeof b.lastResort&&(a=b.lastResort);switch(a){case "top left":l={top:"auto",bottom:n.height-e.top+f,left:e.left+d,right:"auto"};break;case "top center":l={bottom:n.height-e.top+f,left:e.left+e.width/2-q.width/2+d,top:"auto",right:"auto"};break;case "top right":l={bottom:n.height-e.top+
f,right:n.width-e.left-e.width-d,top:"auto",left:"auto"};break;case "left center":l={top:e.top+e.height/2-q.height/2+d,right:n.width-e.left+f,left:"auto",bottom:"auto"};break;case "right center":l={top:e.top+e.height/2-q.height/2+d,left:e.left+e.width+f,bottom:"auto",right:"auto"};break;case "bottom left":l={top:e.top+e.height+f,left:e.left+d,bottom:"auto",right:"auto"};break;case "bottom center":l={top:e.top+e.height+f,left:e.left+e.width/2-q.width/2+d,bottom:"auto",right:"auto"};break;case "bottom right":l=
{top:e.top+e.height+f,right:n.width-e.left-e.width-d,left:"auto",bottom:"auto"}}l===h&&v.error(K.invalidPosition,a);v.debug("Calculated popup positioning values",l);m.css(l).removeClass(A.position).addClass(a).addClass(A.loading);d=v.get.popupOffset();d=v.get.distanceFromBoundary(d,c);if(!b.forcePosition&&v.is.offstage(d,a)){v.debug("Position is outside viewport",a);if(u<b.maxSearchDepth)return u++,a=v.get.nextPosition(a),v.debug("Trying new position",a),m?v.set.position(a,c):!1;if(b.lastResort)v.debug("No position found, showing with last position");
else return v.debug("Popup could not find a position to display",m),v.error(K.cannotPlace,V),v.remove.attempts(),v.remove.loading(),v.reset(),b.onUnplaceable.call(m,V),!1}v.debug("Position is on stage",a);v.remove.attempts();v.remove.loading();b.setFluidWidth&&v.is.fluid()&&v.set.fluidWidth(c);return!0}},fluidWidth:function(a){a=a||v.get.calculations();v.debug("Automatically setting element width to parent width",a.parent.width);m.css("width",a.container.width)},variation:function(a){(a=a||v.get.variation())&&
v.has.popup()&&(v.verbose("Adding variation to popup",a),m.addClass(a))},visible:function(){k.addClass(A.visible)}},remove:{loading:function(){m.removeClass(A.loading)},variation:function(a){if(a=a||v.get.variation())v.verbose("Removing variation",a),m.removeClass(a)},visible:function(){k.removeClass(A.visible)},attempts:function(){v.verbose("Resetting all searched positions");u=0;E=!1}},bind:{events:function(){v.debug("Binding popup events to module");if("click"==b.on)k.on(N+r,v.toggle);if("hover"==
b.on)k.on("touchstart"+r,v.event.touchstart);if(v.get.startEvent())k.on(v.get.startEvent()+r,v.event.start).on(v.get.endEvent()+r,v.event.end);b.target&&v.debug("Target set to element",M);L.on("resize"+t,v.event.resize)},popup:function(){v.verbose("Allowing hover events on popup to prevent closing");if(m&&v.has.popup())m.on("mouseenter"+r,v.event.start).on("mouseleave"+r,v.event.end)},close:function(){(!0===b.hideOnScroll||"auto"==b.hideOnScroll&&"click"!=b.on)&&v.bind.closeOnScroll();v.is.closable()?
v.bind.clickaway():"hover"==b.on&&Q&&v.bind.touchClose()},closeOnScroll:function(){v.verbose("Binding scroll close event to document");f.one(v.get.scrollEvent()+t,v.event.hideGracefully)},touchClose:function(){v.verbose("Binding popup touchclose event to document");S.on("touchstart"+t,function(a){v.verbose("Touched away from popup");v.event.hideGracefully.call(V,a)})},clickaway:function(){v.verbose("Binding popup close event to document");S.on(N+t,function(a){v.verbose("Clicked away from popup");
v.event.hideGracefully.call(V,a)})}},unbind:{events:function(){L.off(t);k.off(r)},close:function(){S.off(t);f.off(t)}},has:{popup:function(){return m&&0<m.length}},should:{centerArrow:function(a){return!v.is.basic()&&a.target.width<=2*b.arrowPixelsFromEdge}},is:{closable:function(){return"auto"==b.closable?"hover"==b.on?!1:!0:b.closable},offstage:function(c,d){var f=[];a.each(c,function(a,c){c<-b.jitter&&(v.debug("Position exceeds allowable distance from edge",a,c,d),f.push(a))});return 0<f.length?
!0:!1},svg:function(a){return v.supports.svg()&&a instanceof SVGGraphicsElement},basic:function(){return k.hasClass(A.basic)},active:function(){return k.hasClass(A.active)},animating:function(){return m!==h&&m.hasClass(A.animating)},fluid:function(){return m!==h&&m.hasClass(A.fluid)},visible:function(){return m!==h&&m.hasClass(A.popupVisible)},dropdown:function(){return k.hasClass(A.dropdown)},hidden:function(){return!v.is.visible()},rtl:function(){return"rtl"===k.attr("dir")||"rtl"===k.css("direction")}},
reset:function(){v.remove.visible();b.preserve?a.fn.transition!==h&&m.transition("remove transition"):v.removePopup()},setting:function(c,d){if(a.isPlainObject(c))a.extend(!0,b,c);else if(d!==h)b[c]=d;else return b[c]},internal:function(b,c){if(a.isPlainObject(b))a.extend(!0,v,b);else if(c!==h)v[b]=c;else return v[b]},debug:function(){!b.silent&&b.debug&&(b.performance?v.performance.log(arguments):(v.debug=Function.prototype.bind.call(console.info,console,b.name+":"),v.debug.apply(console,arguments)))},
verbose:function(){!b.silent&&b.verbose&&b.debug&&(b.performance?v.performance.log(arguments):(v.verbose=Function.prototype.bind.call(console.info,console,b.name+":"),v.verbose.apply(console,arguments)))},error:function(){b.silent||(v.error=Function.prototype.bind.call(console.error,console,b.name+":"),v.error.apply(console,arguments))},performance:{log:function(a){var c,d;b.performance&&(c=(new Date).getTime(),d=P||c,d=c-d,P=c,C.push({Name:a[0],Arguments:[].slice.call(a,1)||"",Element:V,"Execution Time":d}));
clearTimeout(v.performance.timer);v.performance.timer=setTimeout(v.performance.display,500)},display:function(){var c=b.name+":",d=0;P=!1;clearTimeout(v.performance.timer);a.each(C,function(a,b){d+=b["Execution Time"]});c+=" "+d+"ms";T&&(c+=" '"+T+"'");(console.group!==h||console.table!==h)&&0<C.length&&(console.groupCollapsed(c),console.table?console.table(C):a.each(C,function(a,b){console.log(b.Name+": "+b["Execution Time"]+"ms")}),console.groupEnd());C=[]}},invoke:function(b,c,d){var f=R,e,k,q;
c=c||J;d=V||d;"string"==typeof b&&f!==h&&(b=b.split(/[\. ]/),e=b.length-1,a.each(b,function(c,d){var q=c!=e?d+b[c+1].charAt(0).toUpperCase()+b[c+1].slice(1):b;if(a.isPlainObject(f[q])&&c!=e)f=f[q];else{if(f[q]!==h)return k=f[q],!1;if(a.isPlainObject(f[d])&&c!=e)f=f[d];else return f[d]!==h&&(k=f[d]),!1}}));a.isFunction(k)?q=k.apply(d,c):k!==h&&(q=k);Array.isArray(y)?y.push(q):y!==h?y=[y,q]:q!==h&&(y=q);return k}};D?(R===h&&v.initialize(),v.invoke(I)):(R!==h&&R.invoke("destroy"),v.initialize())});return y!==
h?y:this};a.fn.popup.settings={name:"Popup",silent:!1,debug:!1,verbose:!1,performance:!0,namespace:"popup",observeChanges:!0,onCreate:function(){},onRemove:function(){},onShow:function(){},onVisible:function(){},onHide:function(){},onUnplaceable:function(){},onHidden:function(){},on:"hover",boundary:l,addTouchEvents:!0,position:"top left",forcePosition:!1,variation:"",movePopup:!0,target:!1,popup:!1,inline:!1,preserve:!1,hoverable:!1,content:!1,html:!1,title:!1,closable:!0,hideOnScroll:"auto",exclusive:!1,
context:"body",scrollContext:l,prefer:"opposite",lastResort:!1,arrowPixelsFromEdge:20,delay:{show:50,hide:70},setFluidWidth:!0,duration:200,transition:"scale",distanceAway:0,jitter:2,offset:0,maxSearchDepth:15,error:{invalidPosition:"The position you specified is not a valid position",cannotPlace:"Popup does not fit within the boundaries of the viewport",method:"The method you called is not defined.",noTransition:"This module requires ui transitions <https://github.com/Semantic-Org/UI-Transition>",
notFound:"The target or popup you specified does not exist on the page"},metadata:{activator:"activator",content:"content",html:"html",offset:"offset",position:"position",title:"title",variation:"variation"},className:{active:"active",basic:"basic",animating:"animating",dropdown:"dropdown",fluid:"fluid",loading:"loading",popup:"ui popup",position:"top left center bottom right",visible:"visible",popupVisible:"visible"},selector:{popup:".ui.popup"},templates:{escape:function(a){var c=/[<>"'`]/g,h={"<":"&lt;",
">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},l=function(a){return h[a]};return/[&<>"'`]/.test(a)?(a=a.replace(/&(?![a-z0-9#]{1,6};)/,"&amp;"),a.replace(c,l)):a},popup:function(e){var c="",l=a.fn.popup.settings.templates.escape;typeof e!==h&&(typeof e.title!==h&&e.title&&(e.title=l(e.title),c+='<div class="header">'+e.title+"</div>"),typeof e.content!==h&&e.content&&(e.content=l(e.content),c+='<div class="content">'+e.content+"</div>"));return c}}}})(jQuery,window,document);
(function(a,l,F,h){a.isFunction=a.isFunction||function(a){return"function"===typeof a&&"number"!==typeof a.nodeType};l="undefined"!=typeof l&&l.Math==Math?l:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();a.fn.rating=function(e){var c=a(this),l=c.selector||"",F=(new Date).getTime(),x=[],T=arguments[0],N="string"==typeof T,P=[].slice.call(arguments,1),C;c.each(function(){var I=a.isPlainObject(e)?a.extend(!0,{},a.fn.rating.settings,e):a.extend({},a.fn.rating.settings),D=I.namespace,
J=I.className,y=I.metadata,b=I.selector,n=I.cssVars,A="."+D,K="module-"+D,z=this,r=a(this).data(K),H=a(this),k=H.find(b.icon),d,f;f={initialize:function(){f.verbose("Initializing rating module",I);0===k.length&&f.setup.layout();I.interactive&&!f.is.disabled()?f.enable():f.disable();f.set.initialLoad();f.set.rating(f.get.initialRating());f.remove.initialLoad();f.instantiate()},instantiate:function(){f.verbose("Instantiating module",I);r=f;H.data(K,f)},destroy:function(){f.verbose("Destroying previous instance",
r);f.remove.events();H.removeData(K)},refresh:function(){k=H.find(b.icon)},setup:{layout:function(){var b=f.get.maxRating(),c=f.get.icon(),b=a.fn.rating.settings.templates.icon(b,c);f.debug("Generating icon html dynamically");H.html(b);f.refresh()}},event:{mouseenter:function(){var b=a(this);b.nextAll().removeClass(J.selected);H.addClass(J.selected);b.addClass(J.selected).prevAll().addClass(J.selected)},mouseleave:function(){H.removeClass(J.selected);k.removeClass(J.selected)},click:function(){var b=
a(this),c=f.get.rating(),b=k.index(b)+1;("auto"==I.clearable?1===k.length:I.clearable)&&c==b?f.clearRating():f.set.rating(b)}},clearRating:function(){f.debug("Clearing current rating");f.set.rating(0)},bind:{events:function(){f.verbose("Binding events");H.on("mouseenter"+A,b.icon,f.event.mouseenter).on("mouseleave"+A,b.icon,f.event.mouseleave).on("click"+A,b.icon,f.event.click)}},remove:{events:function(){f.verbose("Removing events");H.off(A)},initialLoad:function(){d=!1}},enable:function(){f.debug("Setting rating to interactive mode");
f.bind.events();H.removeClass(J.disabled)},disable:function(){f.debug("Setting rating to read-only mode");f.remove.events();H.addClass(J.disabled)},is:{initialLoad:function(){return d},disabled:function(){return H.hasClass(J.disabled)}},get:{icon:function(){var a=H.data(y.icon);a&&H.removeData(y.icon);return a||I.icon},initialRating:function(){return H.data(y.rating)!==h?(H.removeData(y.rating),H.data(y.rating)):I.initialRating},maxRating:function(){return H.data(y.maxRating)!==h?(H.removeData(y.maxRating),
H.data(y.maxRating)):I.maxRating},rating:function(){var a=k.filter("."+J.active).length;f.verbose("Current rating retrieved",a);return a}},set:{rating:function(a){var b=k.eq(Math.floor(0<=a-1?a-1:0)),c=1>=a?b:b.next(),d=a%1*100;H.removeClass(J.selected);k.removeClass(J.selected).removeClass(J.active).removeClass(J.partiallyActive);0<a&&(f.verbose("Setting current rating to",a),b.prevAll().addBack().addClass(J.active),b.next()&&0!==a%1&&(c.addClass(J.partiallyActive).addClass(J.active),c.css(n.filledCustomPropName,
d+"%"),"transparent"===c.css("backgroundColor")&&c.removeClass(J.partiallyActive).removeClass(J.active)));f.is.initialLoad()||I.onRate.call(z,a)},initialLoad:function(){d=!0}},setting:function(b,c){f.debug("Changing setting",b,c);if(a.isPlainObject(b))a.extend(!0,I,b);else if(c!==h)a.isPlainObject(I[b])?a.extend(!0,I[b],c):I[b]=c;else return I[b]},internal:function(b,c){if(a.isPlainObject(b))a.extend(!0,f,b);else if(c!==h)f[b]=c;else return f[b]},debug:function(){!I.silent&&I.debug&&(I.performance?
f.performance.log(arguments):(f.debug=Function.prototype.bind.call(console.info,console,I.name+":"),f.debug.apply(console,arguments)))},verbose:function(){!I.silent&&I.verbose&&I.debug&&(I.performance?f.performance.log(arguments):(f.verbose=Function.prototype.bind.call(console.info,console,I.name+":"),f.verbose.apply(console,arguments)))},error:function(){I.silent||(f.error=Function.prototype.bind.call(console.error,console,I.name+":"),f.error.apply(console,arguments))},performance:{log:function(a){var b,
c;I.performance&&(b=(new Date).getTime(),c=F||b,c=b-c,F=b,x.push({Name:a[0],Arguments:[].slice.call(a,1)||"",Element:z,"Execution Time":c}));clearTimeout(f.performance.timer);f.performance.timer=setTimeout(f.performance.display,500)},display:function(){var b=I.name+":",d=0;F=!1;clearTimeout(f.performance.timer);a.each(x,function(a,b){d+=b["Execution Time"]});b+=" "+d+"ms";l&&(b+=" '"+l+"'");1<c.length&&(b+=" ("+c.length+")");(console.group!==h||console.table!==h)&&0<x.length&&(console.groupCollapsed(b),
console.table?console.table(x):a.each(x,function(a,b){console.log(b.Name+": "+b["Execution Time"]+"ms")}),console.groupEnd());x=[]}},invoke:function(b,c,d){var f=r,e,k,n;c=c||P;d=z||d;"string"==typeof b&&f!==h&&(b=b.split(/[\. ]/),e=b.length-1,a.each(b,function(c,d){var n=c!=e?d+b[c+1].charAt(0).toUpperCase()+b[c+1].slice(1):b;if(a.isPlainObject(f[n])&&c!=e)f=f[n];else{if(f[n]!==h)return k=f[n],!1;if(a.isPlainObject(f[d])&&c!=e)f=f[d];else return f[d]!==h&&(k=f[d]),!1}}));a.isFunction(k)?n=k.apply(d,
c):k!==h&&(n=k);Array.isArray(C)?C.push(n):C!==h?C=[C,n]:n!==h&&(C=n);return k}};N?(r===h&&f.initialize(),f.invoke(T)):(r!==h&&r.invoke("destroy"),f.initialize())});return C!==h?C:this};a.fn.rating.settings={name:"Rating",namespace:"rating",icon:"star",silent:!1,debug:!1,verbose:!1,performance:!0,initialRating:0,interactive:!0,maxRating:4,clearable:"auto",fireOnInit:!1,onRate:function(a){},error:{method:"The method you called is not defined",noMaximum:"No maximum rating specified. Cannot generate HTML automatically"},
metadata:{rating:"rating",maxRating:"maxRating",icon:"icon"},className:{active:"active",disabled:"disabled",selected:"selected",loading:"loading",partiallyActive:"partial"},cssVars:{filledCustomPropName:"--full"},selector:{icon:".icon"},templates:{icon:function(a,c){for(var h=1,l="";h<=a;)l+='<i class="'+c+' icon"></i>',h++;return l}}}})(jQuery,window,document);
(function(a,l,F,h){a.isFunction=a.isFunction||function(a){return"function"===typeof a&&"number"!==typeof a.nodeType};l="undefined"!=typeof l&&l.Math==Math?l:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();a.fn.sidebar=function(e){var c=a(this),S=a(l),L=a(F),x=a("html"),T=a("head"),N=c.selector||"",P=(new Date).getTime(),C=[],I=arguments[0],D="string"==typeof I,J=[].slice.call(arguments,1),y=l.requestAnimationFrame||l.mozRequestAnimationFrame||l.webkitRequestAnimationFrame||
l.msRequestAnimationFrame||function(a){setTimeout(a,0)},b;c.each(function(){var c=a.isPlainObject(e)?a.extend(!0,{},a.fn.sidebar.settings,e):a.extend({},a.fn.sidebar.settings),A=c.selector,K=c.className,z=c.namespace,r=c.regExp,H=c.error,k="."+z,d="module-"+z,f=a(this),O=a(c.context),M=f.children(A.sidebar);O.children(A.fixed);var m=O.children(A.pusher),G,u=this,E=f.data(d),Q,V,R,B,t;t={initialize:function(){t.debug("Initializing sidebar",e);t.create.id();B=t.get.transitionEvent();c.delaySetup?y(t.setup.layout):
t.setup.layout();y(function(){t.setup.cache()});t.instantiate()},instantiate:function(){t.verbose("Storing instance of module",t);E=t;f.data(d,t)},create:{id:function(){V=(Math.random().toString(16)+"000000000").substr(2,8);Q="."+V;t.verbose("Creating unique id for element",V)}},destroy:function(){t.verbose("Destroying previous module for",f);f.off(k).removeData(d);t.is.ios()&&t.remove.ios();O.off(Q);S.off(Q);L.off(Q)},event:{clickaway:function(a){if(c.closable){var b=0<m.find(a.target).length||m.is(a.target);
a=O.is(a.target);b&&(t.verbose("User clicked on dimmed page"),t.hide());a&&(t.verbose("User clicked on dimmable context (scaled out page)"),t.hide())}},touch:function(a){},containScroll:function(a){0>=u.scrollTop&&(u.scrollTop=1);u.scrollTop+u.offsetHeight>=u.scrollHeight&&(u.scrollTop=u.scrollHeight-u.offsetHeight-1)},scroll:function(b){0===a(b.target).closest(A.sidebar).length&&b.preventDefault()}},bind:{clickaway:function(){t.verbose("Adding clickaway events to context",O);O.on("click"+Q,t.event.clickaway).on("touchend"+
Q,t.event.clickaway)},scrollLock:function(){c.scrollLock&&(t.debug("Disabling page scroll"),S.on("DOMMouseScroll"+Q,t.event.scroll));t.verbose("Adding events to contain sidebar scroll");L.on("touchmove"+Q,t.event.touch);f.on("scroll"+k,t.event.containScroll)}},unbind:{clickaway:function(){t.verbose("Removing clickaway events from context",O);O.off(Q)},scrollLock:function(){t.verbose("Removing scroll lock from page");L.off(Q);S.off(Q);f.off("scroll"+k)}},add:{inlineCSS:function(){var b=t.cache.width||
f.outerWidth(),c=t.cache.height||f.outerHeight(),d=t.is.rtl(),e=t.get.direction(),c={left:b,right:-b,top:c,bottom:-c};d&&(t.verbose("RTL detected, flipping widths"),c.left=-b,c.right=b);d="<style>";if("left"===e||"right"===e)t.debug("Adding CSS rules for animation distance",b),d+=" .ui.visible."+e+".sidebar ~ .fixed, .ui.visible."+e+".sidebar ~ .pusher {   -webkit-transform: translate3d("+c[e]+"px, 0, 0);           transform: translate3d("+c[e]+"px, 0, 0); }";else if("top"===e||"bottom"==e)d+=" .ui.visible."+
e+".sidebar ~ .fixed, .ui.visible."+e+".sidebar ~ .pusher {   -webkit-transform: translate3d(0, "+c[e]+"px, 0);           transform: translate3d(0, "+c[e]+"px, 0); }";if(t.is.ie()){if("left"===e||"right"===e)t.debug("Adding CSS rules for animation distance",b),d+=" body.pushable > .ui.visible."+e+".sidebar ~ .pusher:after {   -webkit-transform: translate3d("+c[e]+"px, 0, 0);           transform: translate3d("+c[e]+"px, 0, 0); }";else if("top"===e||"bottom"==e)d+=" body.pushable > .ui.visible."+e+
".sidebar ~ .pusher:after {   -webkit-transform: translate3d(0, "+c[e]+"px, 0);           transform: translate3d(0, "+c[e]+"px, 0); }";d+=" body.pushable > .ui.visible.left.sidebar ~ .ui.visible.right.sidebar ~ .pusher:after, body.pushable > .ui.visible.right.sidebar ~ .ui.visible.left.sidebar ~ .pusher:after {   -webkit-transform: translate3d(0, 0, 0);           transform: translate3d(0, 0, 0); }"}G=a(d+"</style>").appendTo(T);t.debug("Adding sizing css to head",G)}},refresh:function(){t.verbose("Refreshing selector cache");
O=a(c.context);M=O.children(A.sidebar);m=O.children(A.pusher);O.children(A.fixed);t.clear.cache()},refreshSidebars:function(){t.verbose("Refreshing other sidebars");M=O.children(A.sidebar)},repaint:function(){t.verbose("Forcing repaint event");u.style.display="none";u.scrollTop=u.scrollTop;u.style.display=""},setup:{cache:function(){t.cache={width:f.outerWidth(),height:f.outerHeight()}},layout:function(){0===O.children(A.pusher).length&&(t.debug("Adding wrapper element for sidebar"),t.error(H.pusher),
m=a('<div class="pusher" />'),O.children().not(A.omitted).not(M).wrapAll(m),t.refresh());if(0===f.nextAll(A.pusher).length||f.nextAll(A.pusher)[0]!==m[0])t.debug("Moved sidebar to correct parent element"),t.error(H.movedSidebar,u),f.detach().prependTo(O),t.refresh();t.clear.cache();t.set.pushable();t.set.direction()}},attachEvents:function(b,c){var d=a(b);c=a.isFunction(t[c])?t[c]:t.toggle;0<d.length?(t.debug("Attaching sidebar events to element",b,c),d.on("click"+k,c)):t.error(H.notFound,b)},show:function(b){b=
a.isFunction(b)?b:function(){};if(t.is.hidden()){t.refreshSidebars();c.overlay&&(t.error(H.overlay),c.transition="overlay");t.refresh();if(t.othersActive())if(t.debug("Other sidebars currently visible"),c.exclusive){if("overlay"!=c.transition){t.hideOthers(t.show);return}t.hideOthers()}else c.transition="overlay";t.pushPage(function(){b.call(u);c.onShow.call(u)});c.onChange.call(u);c.onVisible.call(u)}else t.debug("Sidebar is already visible")},hide:function(b){b=a.isFunction(b)?b:function(){};if(t.is.visible()||
t.is.animating())t.debug("Hiding sidebar",b),t.refreshSidebars(),t.pullPage(function(){b.call(u);c.onHidden.call(u)}),c.onChange.call(u),c.onHide.call(u)},othersAnimating:function(){return 0<M.not(f).filter("."+K.animating).length},othersVisible:function(){return 0<M.not(f).filter("."+K.visible).length},othersActive:function(){return t.othersVisible()||t.othersAnimating()},hideOthers:function(a){var b=M.not(f).filter("."+K.visible),c=b.length,d=0;a=a||function(){};b.sidebar("hide",function(){d++;
d==c&&a()})},toggle:function(){t.verbose("Determining toggled direction");t.is.hidden()?t.show():t.hide()},pushPage:function(b){var d=t.get.transition(),e="overlay"===d||t.othersActive()?f:m,h;b=a.isFunction(b)?b:function(){};"scale down"==c.transition&&t.scrollToTop();t.set.transition(d);t.repaint();d=function(){t.set.dimmed()};h=function(a){a.target==e[0]&&(e.off(B+Q,h),t.remove.animating(),t.bind.scrollLock(),b.call(u))};e.off(B+Q);e.on(B+Q,h);y(function(){t.bind.clickaway();t.add.inlineCSS();
t.set.animating();t.set.visible()});c.dimPage&&!t.othersVisible()&&y(d)},pullPage:function(b){var d=t.get.transition(),e="overlay"==d||t.othersActive()?f:m,h;b=a.isFunction(b)?b:function(){};t.verbose("Removing context push state",t.get.direction());t.unbind.clickaway();t.unbind.scrollLock();h=function(a){a.target==e[0]&&(e.off(B+Q,h),t.remove.animating(),t.remove.transition(),t.remove.inlineCSS(),("scale down"==d||c.returnScroll&&t.is.mobile())&&t.scrollBack(),b.call(u))};e.off(B+Q);e.on(B+Q,h);
y(function(){t.set.transition(d);t.set.animating();t.remove.visible();c.dimPage&&!t.othersVisible()&&m.removeClass(K.dimmed)})},scrollToTop:function(){t.verbose("Scrolling to top of page to avoid animation issues");R=a(l).scrollTop();f.scrollTop(0);l.scrollTo(0,0)},scrollBack:function(){t.verbose("Scrolling back to original page position");l.scrollTo(0,R)},clear:{cache:function(){t.verbose("Clearing cached dimensions");t.cache={}}},set:{ios:function(){x.addClass(K.ios)},pushed:function(){O.addClass(K.pushed)},
pushable:function(){O.addClass(K.pushable)},dimmed:function(){m.addClass(K.dimmed)},active:function(){f.addClass(K.active)},animating:function(){f.addClass(K.animating)},transition:function(a){a=a||t.get.transition();f.addClass(a)},direction:function(a){a=a||t.get.direction();f.addClass(K[a])},visible:function(){f.addClass(K.visible)},overlay:function(){f.addClass(K.overlay)}},remove:{inlineCSS:function(){t.debug("Removing inline css styles",G);G&&0<G.length&&G.remove()},ios:function(){x.removeClass(K.ios)},
pushed:function(){O.removeClass(K.pushed)},pushable:function(){O.removeClass(K.pushable)},active:function(){f.removeClass(K.active)},animating:function(){f.removeClass(K.animating)},transition:function(a){a=a||t.get.transition();f.removeClass(a)},direction:function(a){a=a||t.get.direction();f.removeClass(K[a])},visible:function(){f.removeClass(K.visible)},overlay:function(){f.removeClass(K.overlay)}},get:{direction:function(){return f.hasClass(K.top)?K.top:f.hasClass(K.right)?K.right:f.hasClass(K.bottom)?
K.bottom:K.left},transition:function(){var a=t.get.direction(),a=t.is.mobile()?"auto"==c.mobileTransition?c.defaultTransition.mobile[a]:c.mobileTransition:"auto"==c.transition?c.defaultTransition.computer[a]:c.transition;t.verbose("Determined transition",a);return a},transitionEvent:function(){var a=F.createElement("element"),b={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"},c;for(c in b)if(a.style[c]!==h)return b[c]}},
is:{ie:function(){var a="ActiveXObject"in l;return!l.ActiveXObject&&"ActiveXObject"in l||a},ios:function(){var a=navigator.userAgent,b=a.match(r.ios),c=a.match(r.mobileChrome);return b&&!c?(t.verbose("Browser was found to be iOS",a),!0):!1},mobile:function(){var a=navigator.userAgent;if(a.match(r.mobile))return t.verbose("Browser was found to be mobile",a),!0;t.verbose("Browser is not mobile, using regular transition",a);return!1},hidden:function(){return!t.is.visible()},visible:function(){return f.hasClass(K.visible)},
open:function(){return t.is.visible()},closed:function(){return t.is.hidden()},vertical:function(){return f.hasClass(K.top)},animating:function(){return O.hasClass(K.animating)},rtl:function(){t.cache.rtl===h&&(t.cache.rtl="rtl"===f.attr("dir")||"rtl"===f.css("direction"));return t.cache.rtl}},setting:function(b,d){t.debug("Changing setting",b,d);if(a.isPlainObject(b))a.extend(!0,c,b);else if(d!==h)a.isPlainObject(c[b])?a.extend(!0,c[b],d):c[b]=d;else return c[b]},internal:function(b,c){if(a.isPlainObject(b))a.extend(!0,
t,b);else if(c!==h)t[b]=c;else return t[b]},debug:function(){!c.silent&&c.debug&&(c.performance?t.performance.log(arguments):(t.debug=Function.prototype.bind.call(console.info,console,c.name+":"),t.debug.apply(console,arguments)))},verbose:function(){!c.silent&&c.verbose&&c.debug&&(c.performance?t.performance.log(arguments):(t.verbose=Function.prototype.bind.call(console.info,console,c.name+":"),t.verbose.apply(console,arguments)))},error:function(){c.silent||(t.error=Function.prototype.bind.call(console.error,
console,c.name+":"),t.error.apply(console,arguments))},performance:{log:function(a){var b,d;c.performance&&(b=(new Date).getTime(),d=P||b,d=b-d,P=b,C.push({Name:a[0],Arguments:[].slice.call(a,1)||"",Element:u,"Execution Time":d}));clearTimeout(t.performance.timer);t.performance.timer=setTimeout(t.performance.display,500)},display:function(){var b=c.name+":",d=0;P=!1;clearTimeout(t.performance.timer);a.each(C,function(a,b){d+=b["Execution Time"]});b+=" "+d+"ms";N&&(b+=" '"+N+"'");(console.group!==
h||console.table!==h)&&0<C.length&&(console.groupCollapsed(b),console.table?console.table(C):a.each(C,function(a,b){console.log(b.Name+": "+b["Execution Time"]+"ms")}),console.groupEnd());C=[]}},invoke:function(c,d,f){var e=E,k,m,n;d=d||J;f=u||f;"string"==typeof c&&e!==h&&(c=c.split(/[\. ]/),k=c.length-1,a.each(c,function(b,d){var f=b!=k?d+c[b+1].charAt(0).toUpperCase()+c[b+1].slice(1):c;if(a.isPlainObject(e[f])&&b!=k)e=e[f];else{if(e[f]!==h)return m=e[f],!1;if(a.isPlainObject(e[d])&&b!=k)e=e[d];
else return e[d]!==h?m=e[d]:t.error(H.method,c),!1}}));a.isFunction(m)?n=m.apply(f,d):m!==h&&(n=m);Array.isArray(b)?b.push(n):b!==h?b=[b,n]:n!==h&&(b=n);return m}};D?(E===h&&t.initialize(),t.invoke(I)):(E!==h&&t.invoke("destroy"),t.initialize())});return b!==h?b:this};a.fn.sidebar.settings={name:"Sidebar",namespace:"sidebar",silent:!1,debug:!1,verbose:!1,performance:!0,transition:"auto",mobileTransition:"auto",defaultTransition:{computer:{left:"uncover",right:"uncover",top:"overlay",bottom:"overlay"},
mobile:{left:"uncover",right:"uncover",top:"overlay",bottom:"overlay"}},context:"body",exclusive:!1,closable:!0,dimPage:!0,scrollLock:!1,returnScroll:!1,delaySetup:!1,duration:500,onChange:function(){},onShow:function(){},onHide:function(){},onHidden:function(){},onVisible:function(){},className:{active:"active",animating:"animating",dimmed:"dimmed",ios:"ios",pushable:"pushable",pushed:"pushed",right:"right",top:"top",left:"left",bottom:"bottom",visible:"visible"},selector:{fixed:".fixed",omitted:"script, link, style, .ui.modal, .ui.dimmer, .ui.nag, .ui.fixed",
pusher:".pusher",sidebar:".ui.sidebar"},regExp:{ios:/(iPad|iPhone|iPod)/g,mobileChrome:/(CriOS)/g,mobile:/Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|NetFront|Silk-Accelerated|(hpw|web)OS|Fennec|Minimo|Opera M(obi|ini)|Blazer|Dolfin|Dolphin|Skyfire|Zune/g},error:{method:"The method you called is not defined.",pusher:"Had to add pusher element. For optimal performance make sure body content is inside a pusher element",movedSidebar:"Had to move sidebar. For optimal performance make sure sidebar and pusher are direct children of your body tag",
overlay:"The overlay setting is no longer supported, use animation: overlay",notFound:"There were no elements that matched the specified selector"}}})(jQuery,window,document);
(function(a,l,F,h){a.isFunction=a.isFunction||function(a){return"function"===typeof a&&"number"!==typeof a.nodeType};a.site=a.fn.site=function(e){var c=(new Date).getTime(),S=[],L=arguments[0],x="string"==typeof L,T=[].slice.call(arguments,1),N=a.isPlainObject(e)?a.extend(!0,{},a.site.settings,e):a.extend({},a.site.settings),P=N.namespace,C=N.error,I="module-"+P,D=a(F),J=this,y=D.data(I),b,n;b={initialize:function(){b.instantiate()},instantiate:function(){b.verbose("Storing instance of site",b);y=
b;D.data(I,b)},normalize:function(){b.fix.console();b.fix.requestAnimationFrame()},fix:{console:function(){b.debug("Normalizing window.console");if(console===h||console.log===h)b.verbose("Console not available, normalizing events"),b.disable.console();if("undefined"==typeof console.group||"undefined"==typeof console.groupEnd||"undefined"==typeof console.groupCollapsed)b.verbose("Console group not available, normalizing events"),l.console.group=function(){},l.console.groupEnd=function(){},l.console.groupCollapsed=
function(){};"undefined"==typeof console.markTimeline&&(b.verbose("Mark timeline not available, normalizing events"),l.console.markTimeline=function(){})},consoleClear:function(){b.debug("Disabling programmatic console clearing");l.console.clear=function(){}},requestAnimationFrame:function(){b.debug("Normalizing requestAnimationFrame");l.requestAnimationFrame===h&&(b.debug("RequestAnimationFrame not available, normalizing event"),l.requestAnimationFrame=l.requestAnimationFrame||l.mozRequestAnimationFrame||
l.webkitRequestAnimationFrame||l.msRequestAnimationFrame||function(a){setTimeout(a,0)})}},moduleExists:function(b){return a.fn[b]!==h&&a.fn[b].settings!==h},enabled:{modules:function(c){var e=[];c=c||N.modules;a.each(c,function(a,c){b.moduleExists(c)&&e.push(c)});return e}},disabled:{modules:function(c){var e=[];c=c||N.modules;a.each(c,function(a,c){b.moduleExists(c)||e.push(c)});return e}},change:{setting:function(c,e,n,l){n="string"===typeof n?"all"===n?N.modules:[n]:n||N.modules;l=l!==h?l:!0;a.each(n,
function(h,k){h=b.moduleExists(k)?a.fn[k].settings.namespace||!1:!0;b.moduleExists(k)&&(b.verbose("Changing default setting",c,e,k),a.fn[k].settings[c]=e,l&&h&&(h=a(":data(module-"+h+")"),0<h.length&&(b.verbose("Modifying existing settings",h),h[k]("setting",c,e))))})},settings:function(c,e,n){e="string"===typeof e?[e]:e||N.modules;n=n!==h?n:!0;a.each(e,function(e,h){b.moduleExists(h)&&(b.verbose("Changing default setting",c,h),a.extend(!0,a.fn[h].settings,c),n&&P&&(e=a(":data(module-"+P+")"),0<e.length&&
(b.verbose("Modifying existing settings",e),e[h]("setting",c))))})}},enable:{console:function(){b.console(!0)},debug:function(a,c){a=a||N.modules;b.debug("Enabling debug for modules",a);b.change.setting("debug",!0,a,c)},verbose:function(a,c){a=a||N.modules;b.debug("Enabling verbose debug for modules",a);b.change.setting("verbose",!0,a,c)}},disable:{console:function(){b.console(!1)},debug:function(a,c){a=a||N.modules;b.debug("Disabling debug for modules",a);b.change.setting("debug",!1,a,c)},verbose:function(a,
c){a=a||N.modules;b.debug("Disabling verbose debug for modules",a);b.change.setting("verbose",!1,a,c)}},console:function(a){a?y.cache.console===h?b.error(C.console):(b.debug("Restoring console function"),l.console=y.cache.console):(b.debug("Disabling console function"),y.cache.console=l.console,l.console={clear:function(){},error:function(){},group:function(){},groupCollapsed:function(){},groupEnd:function(){},info:function(){},log:function(){},markTimeline:function(){},warn:function(){}})},destroy:function(){b.verbose("Destroying previous site for",
D);D.removeData(I)},cache:{},setting:function(b,c){if(a.isPlainObject(b))a.extend(!0,N,b);else if(c!==h)N[b]=c;else return N[b]},internal:function(c,e){if(a.isPlainObject(c))a.extend(!0,b,c);else if(e!==h)b[c]=e;else return b[c]},debug:function(){N.debug&&(N.performance?b.performance.log(arguments):(b.debug=Function.prototype.bind.call(console.info,console,N.name+":"),b.debug.apply(console,arguments)))},verbose:function(){N.verbose&&N.debug&&(N.performance?b.performance.log(arguments):(b.verbose=
Function.prototype.bind.call(console.info,console,N.name+":"),b.verbose.apply(console,arguments)))},error:function(){b.error=Function.prototype.bind.call(console.error,console,N.name+":");b.error.apply(console,arguments)},performance:{log:function(a){var e,h;N.performance&&(e=(new Date).getTime(),h=c||e,h=e-h,c=e,S.push({Element:J,Name:a[0],Arguments:[].slice.call(a,1)||"","Execution Time":h}));clearTimeout(b.performance.timer);b.performance.timer=setTimeout(b.performance.display,500)},display:function(){var e=
N.name+":",n=0;c=!1;clearTimeout(b.performance.timer);a.each(S,function(a,b){n+=b["Execution Time"]});(console.group!==h||console.table!==h)&&0<S.length&&(console.groupCollapsed(e+(" "+n+"ms")),console.table?console.table(S):a.each(S,function(a,b){console.log(b.Name+": "+b["Execution Time"]+"ms")}),console.groupEnd());S=[]}},invoke:function(c,e,l){var r=y,D,k,d;e=e||T;l=J||l;"string"==typeof c&&r!==h&&(c=c.split(/[\. ]/),D=c.length-1,a.each(c,function(d,e){var n=d!=D?e+c[d+1].charAt(0).toUpperCase()+
c[d+1].slice(1):c;if(a.isPlainObject(r[n])&&d!=D)r=r[n];else{if(r[n]!==h)return k=r[n],!1;if(a.isPlainObject(r[e])&&d!=D)r=r[e];else return r[e]!==h?k=r[e]:b.error(C.method,c),!1}}));a.isFunction(k)?d=k.apply(l,e):k!==h&&(d=k);Array.isArray(n)?n.push(d):n!==h?n=[n,d]:d!==h&&(n=d);return k}};x?(y===h&&b.initialize(),b.invoke(L)):(y!==h&&b.destroy(),b.initialize());return n!==h?n:this};a.site.settings={name:"Site",namespace:"site",error:{console:"Console cannot be restored, most likely it was overwritten outside of module",
method:"The method you called is not defined."},debug:!1,verbose:!1,performance:!0,modules:"accordion api calendar checkbox dimmer dropdown embed form modal nag popup slider rating shape sidebar state sticky tab toast transition visibility visit".split(" "),siteNamespace:"site",namespaceStub:{cache:{},config:{},sections:{},section:{},utilities:{}}};a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(e){return function(c){return!!a.data(c,e)}}):function(e,c,h){return!!a.data(e,
h[3])}})})(jQuery,window,document);
(function(a,l,F,h){a.isFunction=a.isFunction||function(a){return"function"===typeof a&&"number"!==typeof a.nodeType};l="undefined"!=typeof l&&l.Math==Math?l:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();a.fn.state=function(e){var c=a(this),l=c.selector||"",F=(new Date).getTime(),x=[],T=arguments[0],N="string"==typeof T,P=[].slice.call(arguments,1),C;c.each(function(){var I=a.isPlainObject(e)?a.extend(!0,{},a.fn.state.settings,e):a.extend({},a.fn.state.settings),D=I.error,
J=I.metadata,y=I.className,b=I.namespace,n=I.states,A=I.text,K="."+b,z=b+"-module",r=a(this),H=this,k=r.data(z),d;d={initialize:function(){d.verbose("Initializing module");I.automatic&&d.add.defaults();if(I.context&&""!==l)a(I.context).on(l,"mouseenter"+K,d.change.text).on(l,"mouseleave"+K,d.reset.text).on(l,"click"+K,d.toggle.state);else r.on("mouseenter"+K,d.change.text).on("mouseleave"+K,d.reset.text).on("click"+K,d.toggle.state);d.instantiate()},instantiate:function(){d.verbose("Storing instance of module",
d);k=d;r.data(z,d)},destroy:function(){d.verbose("Destroying previous module",k);r.off(K).removeData(z)},refresh:function(){d.verbose("Refreshing selector cache");r=a(H)},add:{defaults:function(){var b=e&&a.isPlainObject(e.states)?e.states:{};a.each(I.defaults,function(c,e){d.is[c]!==h&&d.is[c]()&&(d.verbose("Adding default states",c,H),a.extend(I.states,e,b))})}},is:{active:function(){return r.hasClass(y.active)},loading:function(){return r.hasClass(y.loading)},inactive:function(){return!r.hasClass(y.active)},
state:function(a){return y[a]===h?!1:r.hasClass(y[a])},enabled:function(){return!r.is(I.filter.active)},disabled:function(){return r.is(I.filter.active)},textEnabled:function(){return!r.is(I.filter.text)},button:function(){return r.is(".button:not(a, .submit)")},input:function(){return r.is("input")},progress:function(){return r.is(".ui.progress")}},allow:function(a){d.debug("Now allowing state",a);n[a]=!0},disallow:function(a){d.debug("No longer allowing",a);n[a]=!1},allows:function(a){return n[a]||
!1},enable:function(){r.removeClass(y.disabled)},disable:function(){r.addClass(y.disabled)},setState:function(a){d.allows(a)&&r.addClass(y[a])},removeState:function(a){d.allows(a)&&r.removeClass(y[a])},toggle:{state:function(){var b,c;if(d.allows("active")&&d.is.enabled()){d.refresh();if(a.fn.api!==h)if(b=r.api("get request"),c=r.api("was cancelled"))d.debug("API Request cancelled by beforesend"),I.activateTest=function(){return!1},I.deactivateTest=function(){return!1};else if(b){d.listenTo(b);return}d.change.state()}}},
listenTo:function(b){d.debug("API request detected, waiting for state signal",b);b&&(A.loading&&d.update.text(A.loading),a.when(b).then(function(){"resolved"==b.state()?(d.debug("API request succeeded"),I.activateTest=function(){return!0},I.deactivateTest=function(){return!0}):(d.debug("API request failed"),I.activateTest=function(){return!1},I.deactivateTest=function(){return!1});d.change.state()}))},change:{state:function(){d.debug("Determining state change direction");d.is.inactive()?d.activate():
d.deactivate();I.sync&&d.sync();I.onChange.call(H)},text:function(){d.is.textEnabled()&&(d.is.disabled()?(d.verbose("Changing text to disabled text",A.hover),d.update.text(A.disabled)):d.is.active()?A.hover?(d.verbose("Changing text to hover text",A.hover),d.update.text(A.hover)):A.deactivate&&(d.verbose("Changing text to deactivating text",A.deactivate),d.update.text(A.deactivate)):A.hover?(d.verbose("Changing text to hover text",A.hover),d.update.text(A.hover)):A.activate&&(d.verbose("Changing text to activating text",
A.activate),d.update.text(A.activate)))}},activate:function(){I.activateTest.call(H)&&(d.debug("Setting state to active"),r.addClass(y.active),d.update.text(A.active),I.onActivate.call(H))},deactivate:function(){I.deactivateTest.call(H)&&(d.debug("Setting state to inactive"),r.removeClass(y.active),d.update.text(A.inactive),I.onDeactivate.call(H))},sync:function(){d.verbose("Syncing other buttons to current state");d.is.active()?c.not(r).state("activate"):c.not(r).state("deactivate")},get:{text:function(){return I.selector.text?
r.find(I.selector.text).text():r.html()},textFor:function(a){return A[a]||!1}},flash:{text:function(a,b,c){var e=d.get.text();d.debug("Flashing text message",a,b);a=a||I.text.flash;b=b||I.flashDuration;c=c||function(){};d.update.text(a);setTimeout(function(){d.update.text(e);c.call(H)},b)}},reset:{text:function(){var a=A.active||r.data(J.storedText),b=A.inactive||r.data(J.storedText);d.is.textEnabled()&&(d.is.active()&&a?(d.verbose("Resetting active text",a),d.update.text(a)):b&&(d.verbose("Resetting inactive text",
a),d.update.text(b)))}},update:{text:function(a){var b=d.get.text();a&&a!==b?(d.debug("Updating text",a),I.selector.text?r.data(J.storedText,a).find(I.selector.text).text(a):r.data(J.storedText,a).html(a)):d.debug("Text is already set, ignoring update",a)}},setting:function(b,c){d.debug("Changing setting",b,c);if(a.isPlainObject(b))a.extend(!0,I,b);else if(c!==h)a.isPlainObject(I[b])?a.extend(!0,I[b],c):I[b]=c;else return I[b]},internal:function(b,c){if(a.isPlainObject(b))a.extend(!0,d,b);else if(c!==
h)d[b]=c;else return d[b]},debug:function(){!I.silent&&I.debug&&(I.performance?d.performance.log(arguments):(d.debug=Function.prototype.bind.call(console.info,console,I.name+":"),d.debug.apply(console,arguments)))},verbose:function(){!I.silent&&I.verbose&&I.debug&&(I.performance?d.performance.log(arguments):(d.verbose=Function.prototype.bind.call(console.info,console,I.name+":"),d.verbose.apply(console,arguments)))},error:function(){I.silent||(d.error=Function.prototype.bind.call(console.error,console,
I.name+":"),d.error.apply(console,arguments))},performance:{log:function(a){var b,c;I.performance&&(b=(new Date).getTime(),c=F||b,c=b-c,F=b,x.push({Name:a[0],Arguments:[].slice.call(a,1)||"",Element:H,"Execution Time":c}));clearTimeout(d.performance.timer);d.performance.timer=setTimeout(d.performance.display,500)},display:function(){var b=I.name+":",c=0;F=!1;clearTimeout(d.performance.timer);a.each(x,function(a,b){c+=b["Execution Time"]});b+=" "+c+"ms";l&&(b+=" '"+l+"'");(console.group!==h||console.table!==
h)&&0<x.length&&(console.groupCollapsed(b),console.table?console.table(x):a.each(x,function(a,b){console.log(b.Name+": "+b["Execution Time"]+"ms")}),console.groupEnd());x=[]}},invoke:function(b,c,e){var n=k,l,r,y;c=c||P;e=H||e;"string"==typeof b&&n!==h&&(b=b.split(/[\. ]/),l=b.length-1,a.each(b,function(c,e){var k=c!=l?e+b[c+1].charAt(0).toUpperCase()+b[c+1].slice(1):b;if(a.isPlainObject(n[k])&&c!=l)n=n[k];else{if(n[k]!==h)return r=n[k],!1;if(a.isPlainObject(n[e])&&c!=l)n=n[e];else return n[e]!==
h?r=n[e]:d.error(D.method,b),!1}}));a.isFunction(r)?y=r.apply(e,c):r!==h&&(y=r);Array.isArray(C)?C.push(y):C!==h?C=[C,y]:y!==h&&(C=y);return r}};N?(k===h&&d.initialize(),d.invoke(T)):(k!==h&&k.invoke("destroy"),d.initialize())});return C!==h?C:this};a.fn.state.settings={name:"State",debug:!1,verbose:!1,namespace:"state",performance:!0,onActivate:function(){},onDeactivate:function(){},onChange:function(){},activateTest:function(){return!0},deactivateTest:function(){return!0},automatic:!0,sync:!1,flashDuration:1E3,
filter:{text:".loading, .disabled",active:".disabled"},context:!1,error:{beforeSend:"The before send function has cancelled state change",method:"The method you called is not defined."},metadata:{promise:"promise",storedText:"stored-text"},className:{active:"active",disabled:"disabled",error:"error",loading:"loading",success:"success",warning:"warning"},selector:{text:!1},defaults:{input:{disabled:!0,loading:!0,active:!0},button:{disabled:!0,loading:!0,active:!0},progress:{active:!0,success:!0,warning:!0,
error:!0}},states:{active:!0,disabled:!0,error:!0,loading:!0,success:!0,warning:!0},text:{disabled:!1,flash:!1,hover:!1,active:!1,inactive:!1,activate:!1,deactivate:!1}}})(jQuery,window,document);
(function(a,l,F,h){l="undefined"!=typeof l&&l.Math==Math?l:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();a.fn.slider=function(e){var c=a(this),S=a(l),L=c.selector||"",x=(new Date).getTime(),T=[],N=arguments[0],P="string"==typeof N,C=[].slice.call(arguments,1),I="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),D=0,J;c.each(function(){var c=a.isPlainObject(e)?a.extend(!0,{},a.fn.slider.settings,e):a.extend({},a.fn.slider.settings),b=c.className,n=c.metadata,l=c.namespace,K=c.error,
z=c.keys,r=c.interpretLabel,H=!1,k="."+l,d="module-"+l,f=a(this),O,M,m,G,u,E,Q=this,V=f.data(d),R,B,t,q,v,U,X,W=1,w,ga,Y,p;p={initialize:function(){p.debug("Initializing slider",c);Y=!0;R=D+=1;X=p.setup.testOutTouch();p.setup.layout();p.setup.labels();p.is.disabled()||p.bind.events();p.read.metadata();p.read.settings();Y=!1;p.instantiate()},instantiate:function(){p.verbose("Storing instance of slider",p);V=p;f.data(d,p)},destroy:function(){p.verbose("Destroying previous slider for",f);clearInterval(V.interval);
p.unbind.events();p.unbind.slidingEvents();f.removeData(d);V=h},setup:{layout:function(){f.attr("tabindex")===h&&f.attr("tabindex",0);0==f.find(".inner").length&&f.append("<div class='inner'><div class='track'></div><div class='track-fill'></div><div class='thumb'></div></div>");U=p.get.precision();O=M=f.find(".thumb:not(.second)");p.is.range()&&(0==f.find(".thumb.second").length&&f.find(".inner").append("<div class='thumb second'></div>"),m=f.find(".thumb.second"));G=f.find(".track");u=f.find(".track-fill");
v=M.width()/2},labels:function(){p.is.labeled()&&(E=f.find(".labels:not(.auto)"),0!=E.length?p.setup.customLabel():p.setup.autoLabel(),c.showLabelTicks&&f.addClass(b.ticked))},testOutTouch:function(){try{return F.createEvent("TouchEvent"),!0}catch(a){return!1}},customLabel:function(){var b=E.find(".label"),c=b.length,d=p.get.min(),f=p.get.max(),e;b.each(function(b){var h=a(this).attr("data-value");h?(h=h>f?f:h<d?d:h,e=(h-d)/(f-d)):e=(b+1)/(c+1);p.update.labelPosition(e,a(this))})},autoLabel:function(){E=
f.find(".labels");0!=E.length?E.empty():E=f.append('<ul class="auto labels"></ul>').find(".labels");for(var b=0,c=p.get.numLabels();b<=c;b++){var d=p.get.label(b),d=""!==d?b%p.get.gapRatio()?a('<li class="halftick label"></li>'):a('<li class="label">'+d+"</li>"):null,e=b/c;d&&(p.update.labelPosition(e,d),E.append(d))}}},bind:{events:function(){p.bind.globalKeyboardEvents();p.bind.keyboardEvents();p.bind.mouseEvents();p.is.touch()&&p.bind.touchEvents();c.autoAdjustLabels&&p.bind.windowEvents()},keyboardEvents:function(){p.verbose("Binding keyboard events");
f.on("keydown"+k,p.event.keydown)},globalKeyboardEvents:function(){a(F).on("keydown"+k+R,p.event.activateFocus)},mouseEvents:function(){p.verbose("Binding mouse events");f.find(".track, .thumb, .inner").on("mousedown"+k,function(a){a.stopImmediatePropagation();a.preventDefault();p.event.down(a)});f.on("mousedown"+k,p.event.down);f.on("mouseenter"+k,function(a){H=!0});f.on("mouseleave"+k,function(a){H=!1})},touchEvents:function(){p.verbose("Binding touch events");f.find(".track, .thumb, .inner").on("touchstart"+
k,function(a){a.stopImmediatePropagation();a.preventDefault();p.event.down(a)});f.on("touchstart"+k,p.event.down)},slidingEvents:function(){p.verbose("Binding page wide events while handle is being draged");p.is.touch()?(a(F).on("touchmove"+k,p.event.move),a(F).on("touchend"+k,p.event.up)):(a(F).on("mousemove"+k,p.event.move),a(F).on("mouseup"+k,p.event.up))},windowEvents:function(){S.on("resize"+k,p.event.resize)}},unbind:{events:function(){f.find(".track, .thumb, .inner").off("mousedown"+k);f.find(".track, .thumb, .inner").off("touchstart"+
k);f.off("mousedown"+k);f.off("mouseenter"+k);f.off("mouseleave"+k);f.off("touchstart"+k);f.off("keydown"+k);f.off("focusout"+k);a(F).off("keydown"+k+R,p.event.activateFocus);S.off("resize"+k)},slidingEvents:function(){p.is.touch()?(a(F).off("touchmove"+k),a(F).off("touchend"+k)):(a(F).off("mousemove"+k),a(F).off("mouseup"+k))}},event:{down:function(a){a.preventDefault();p.is.range()?(a=p.determine.eventPos(a),a=p.determine.pos(a),c.preventCrossover&&p.is.range()&&p.thumbVal===p.secondThumbVal?(ga=
a,O=h):O=p.determine.closestThumb(a),w===h&&(w=p.get.currentThumbValue())):w===h&&(w=p.get.value());p.is.disabled()||p.bind.slidingEvents()},move:function(a){a.preventDefault();var b=p.determine.valueFromEvent(a);if(O===h){var d=p.determine.eventPos(a),d=p.determine.pos(d);O=ga>d?M:m}if(0==p.get.step()||p.is.smooth()){var d=p.thumbVal,f=p.secondThumbVal;a=p.determine.smoothValueFromEvent(a);O.hasClass("second")?(c.preventCrossover&&p.is.range()&&(b=Math.max(d,b),a=Math.max(d,a)),f=b):(c.preventCrossover&&
p.is.range()&&(b=Math.min(f,b),a=Math.min(f,a)),d=b);b=Math.abs(d-(f||0));p.update.position(a);c.onMove.call(Q,b,d,f)}else p.update.value(b,function(a,b,d){c.onMove.call(Q,a,b,d)})},up:function(a){a.preventDefault();a=p.determine.valueFromEvent(a);p.set.value(a);p.unbind.slidingEvents();w!==h&&(w=h)},keydown:function(b,d){c.preventCrossover&&p.is.range()&&p.thumbVal===p.secondThumbVal&&(O=h);p.is.focused()&&a(F).trigger(b);if(d||p.is.focused())if(d=p.determine.keyMovement(b),0!=d)switch(b.preventDefault(),
d){case 1:p.takeStep();break;case 2:p.takeStep(p.get.multiplier());break;case -1:p.backStep();break;case -2:p.backStep(p.get.multiplier())}},activateFocus:function(a){!p.is.focused()&&p.is.hover()&&0!=p.determine.keyMovement(a)&&(a.preventDefault(),p.event.keydown(a,!0),f.focus())},resize:function(a){W!=p.get.gapRatio()&&(p.setup.labels(),W=p.get.gapRatio())}},resync:function(){p.verbose("Resyncing thumb position based on value");p.is.range()&&p.update.position(p.secondThumbVal,m);p.update.position(p.thumbVal,
M);p.setup.labels()},takeStep:function(a){a=a!=h?a:1;var b=p.get.step(),c=p.get.currentThumbValue();p.verbose("Taking a step");0<b?p.set.value(c+b*a):0==b&&(b=p.get.precision(),p.set.value(Math.round((c+a/b)*b)/b))},backStep:function(a){a=a!=h?a:1;var b=p.get.step(),c=p.get.currentThumbValue();p.verbose("Going back a step");0<b?p.set.value(c-b*a):0==b&&(b=p.get.precision(),p.set.value(Math.round((c-a/b)*b)/b))},is:{range:function(){return f.hasClass(c.className.range)},hover:function(){return H},
focused:function(){return f.is(":focus")},disabled:function(){return f.hasClass(c.className.disabled)},labeled:function(){return f.hasClass(c.className.labeled)},reversed:function(){return f.hasClass(c.className.reversed)},vertical:function(){return f.hasClass(c.className.vertical)},smooth:function(){return c.smooth||f.hasClass(c.className.smooth)},touch:function(){return X}},get:{trackOffset:function(){return p.is.vertical()?G.offset().top:G.offset().left},trackLength:function(){return p.is.vertical()?
G.height():G.width()},trackLeft:function(){return p.is.vertical()?G.position().top:G.position().left},trackStartPos:function(){return p.is.reversed()?p.get.trackLeft()+p.get.trackLength():p.get.trackLeft()},trackEndPos:function(){return p.is.reversed()?p.get.trackLeft():p.get.trackLeft()+p.get.trackLength()},trackStartMargin:function(){return(p.is.vertical()?p.is.reversed()?f.css("padding-bottom"):f.css("padding-top"):p.is.reversed()?f.css("padding-right"):f.css("padding-left"))||"0px"},trackEndMargin:function(){return(p.is.vertical()?
p.is.reversed()?f.css("padding-top"):f.css("padding-bottom"):p.is.reversed()?f.css("padding-left"):f.css("padding-right"))||"0px"},precision:function(){var a;a=p.get.step();0!=a?(a=String(a).split("."),a=2==a.length?a[1].length:0):a=c.decimalPlaces;a=Math.pow(10,a);p.debug("Precision determined",a);return a},min:function(){return c.min},max:function(){var a=p.get.step(),b=p.get.min(),d=0===a?0:Math.floor((c.max-b)/a);return 0===(0===a?0:(c.max-b)%a)?c.max:b+d*a},step:function(){return c.step},numLabels:function(){var a=
Math.round((p.get.max()-p.get.min())/(0===p.get.step()?1:p.get.step()));p.debug("Determined that there should be "+a+" labels");return a},labelType:function(){return c.labelType},label:function(a){if(r)return r(a);switch(c.labelType){case c.labelTypes.number:return Math.round((a*(0===p.get.step()?1:p.get.step())+p.get.min())*U)/U;case c.labelTypes.letter:return I[a%26];default:return a}},value:function(){return B},currentThumbValue:function(){return O!==h&&O.hasClass("second")?p.secondThumbVal:p.thumbVal},
thumbValue:function(a){switch(a){case "second":if(p.is.range())return p.secondThumbVal;p.error(K.notrange);break;default:return p.thumbVal}},multiplier:function(){return c.pageMultiplier},thumbPosition:function(a){switch(a){case "second":if(p.is.range())return q;p.error(K.notrange);break;default:return t}},gapRatio:function(){var a=1;if(c.autoAdjustLabels){var b=p.get.numLabels(),d=p.get.trackLength(),f=1;if(0<d)for(;d/b*f<c.labelDistance;)b%f||(a=f),f+=1}return a}},determine:{pos:function(a){return p.is.reversed()?
p.get.trackStartPos()-a+p.get.trackOffset():a-p.get.trackOffset()-p.get.trackStartPos()},closestThumb:function(a){var b=parseFloat(p.determine.thumbPos(M)),b=Math.abs(a-b),c=parseFloat(p.determine.thumbPos(m));a=Math.abs(a-c);return b===a&&p.get.thumbValue()===p.get.min()?m:b<=a?M:m},closestThumbPos:function(a){var b=parseFloat(p.determine.thumbPos(M)),c=Math.abs(a-b),d=parseFloat(p.determine.thumbPos(m));return c<=Math.abs(a-d)?b:d},thumbPos:function(a){return p.is.vertical()?p.is.reversed()?a.css("bottom"):
a.css("top"):p.is.reversed()?a.css("right"):a.css("left")},positionFromValue:function(a){var b=p.get.min(),c=p.get.max();a=a>c?c:a<b?b:a;var d=p.get.trackLength(),b=Math.round((a-b)/(c-b)*d);p.verbose("Determined position: "+b+" from value: "+a);return b},positionFromRatio:function(a){var b=p.get.trackLength(),c=p.get.step();a=Math.round(a*b);return 0==c?a:Math.round(a/c)*c},valueFromEvent:function(a){a=p.determine.eventPos(a);var b=p.determine.pos(a);return a<p.get.trackOffset()?p.is.reversed()?
p.get.max():p.get.min():a>p.get.trackOffset()+p.get.trackLength()?p.is.reversed()?p.get.min():p.get.max():p.determine.value(b)},smoothValueFromEvent:function(a){var b=p.get.min(),c=p.get.max(),d=p.get.trackLength();a=p.determine.eventPos(a)-p.get.trackOffset();d=(0>a?0:a>d?d:a)/d;p.is.reversed()&&(d=1-d);return d*(c-b)+b},eventPos:function(a){if(p.is.touch()){var b=a.changedTouches?a:a.originalEvent;a=b.changedTouches[0]?b.changedTouches:b.touches;b=a[0].pageY;a=a[0].pageX;return p.is.vertical()?
b:a}b=a.pageY||a.originalEvent.pageY;a=a.pageX||a.originalEvent.pageX;return p.is.vertical()?b:a},value:function(a){var b=p.is.reversed()?p.get.trackEndPos():p.get.trackStartPos(),c=p.is.reversed()?p.get.trackStartPos():p.get.trackEndPos(),c=(a-b)/(c-b),d=p.get.max()-p.get.min(),b=p.get.step(),c=c*d,b=0==b?c:Math.round(c/b)*b;p.verbose("Determined value based upon position: "+a+" as: "+c);c!=b&&p.verbose("Rounding value to closest step: "+b);p.verbose("Cutting off additional decimal places");return Math.round((b+
p.get.min())*U)/U},keyMovement:function(a){a=a.which;var b=p.is.vertical()?p.is.reversed()?z.downArrow:z.upArrow:z.downArrow,c=p.is.vertical()?p.is.reversed()?z.upArrow:z.downArrow:z.upArrow,d=p.is.vertical()?z.leftArrow:p.is.reversed()?z.rightArrow:z.leftArrow,f=p.is.vertical()?z.rightArrow:p.is.reversed()?z.leftArrow:z.rightArrow;return a==b||a==d?-1:a==c||a==f?1:a==z.pageDown?-2:a==z.pageUp?2:0}},handleNewValuePosition:function(a){var b=p.get.min(),c=p.get.max();a<=b?a=b:a>=c&&(a=c);return p.determine.positionFromValue(a)},
set:{value:function(a,b){b=!1!==b;var d=w===h;w=w===h?p.get.value():w;p.update.value(a,function(f,e,k){Y&&!c.fireOnInit||!b||(a!==w&&c.onChange.call(Q,f,e,k),c.onMove.call(Q,f,e,k));d&&(w=h)})},rangeValue:function(a,b,d){d=!1!==d;if(p.is.range()){var f=p.get.min(),e=p.get.max(),k=w===h;w=w===h?p.get.value():w;a<=f?a=f:a>=e&&(a=e);b<=f?b=f:b>=e&&(b=e);p.thumbVal=a;p.secondThumbVal=b;B=Math.abs(p.thumbVal-p.secondThumbVal);p.update.position(p.thumbVal,M);p.update.position(p.secondThumbVal,m);Y&&!c.fireOnInit||
!d||(B!==w&&c.onChange.call(Q,B,p.thumbVal,p.secondThumbVal),c.onMove.call(Q,B,p.thumbVal,p.secondThumbVal));k&&(w=h)}else p.error(K.notrange)},position:function(a,b){a=p.determine.value(a);switch(b){case "second":p.secondThumbVal=a;p.update.position(a,m);break;default:p.thumbVal=a,p.update.position(a,M)}B=Math.abs(p.thumbVal-(p.secondThumbVal||0));p.set.value(B)}},update:{value:function(a,b){var d=p.get.min(),f=p.get.max();a<=d?a=d:a>=f&&(a=f);p.is.range()?(O===h&&(O=a<=p.get.currentThumbValue()?
M:m),O.hasClass("second")?(c.preventCrossover&&p.is.range()&&(a=Math.max(p.thumbVal,a)),p.secondThumbVal=a):(c.preventCrossover&&p.is.range()&&(a=Math.min(p.secondThumbVal,a)),p.thumbVal=a),B=Math.abs(p.thumbVal-p.secondThumbVal)):(B=a,p.thumbVal=B);p.update.position(a);p.debug("Setting slider value to "+B);"function"===typeof b&&b(B,p.thumbVal,p.secondThumbVal)},position:function(a,b){var c=p.handleNewValuePosition(a);b=b!=h?b:O;var d=p.thumbVal||p.get.min(),f=p.secondThumbVal||p.get.min();p.is.range()?
b.hasClass("second")?(q=c,f=a):(t=c,d=a):(t=c,d=a);var e=p.get.min(),k=p.get.max(),n=100*(a-e)/(k-e);a=100*(Math.min(d,f)-e)/(k-e);f=100*(1-(Math.max(d,f)-e)/(k-e));p.is.vertical()?p.is.reversed()?(d={bottom:"calc("+n+"% - "+v+"px)",top:"auto"},a={bottom:a+"%",top:f+"%"}):(d={top:"calc("+n+"% - "+v+"px)",bottom:"auto"},a={top:a+"%",bottom:f+"%"}):p.is.reversed()?(d={right:"calc("+n+"% - "+v+"px)",left:"auto"},a={right:a+"%",left:f+"%"}):(d={left:"calc("+n+"% - "+v+"px)",right:"auto"},a={left:a+"%",
right:f+"%"});b.css(d);u.css(a);p.debug("Setting slider position to "+c)},labelPosition:function(a,b){var c=p.get.trackStartMargin(),d=p.get.trackEndMargin(),f=p.is.vertical()?p.is.reversed()?"bottom":"top":p.is.reversed()?"right":"left",e=p.is.reversed()&&!p.is.vertical()?" - ":" + ";b.css(f,"calc("+("(100% - "+c+" - "+d+") * "+a)+e+c+")")}},goto:{max:function(){p.set.value(p.get.max())},min:function(){p.set.value(p.get.min())}},read:{metadata:function(){var a=f.data(n.thumbVal),b=f.data(n.secondThumbVal);
a&&(p.is.range()&&b?(p.debug("Current value set from metadata",a,b),p.set.rangeValue(a,b)):(p.debug("Current value set from metadata",a),p.set.value(a)))},settings:function(){!1!==c.start&&(p.is.range()?(p.debug("Start position set from settings",c.start,c.end),p.set.rangeValue(c.start,c.end)):(p.debug("Start position set from settings",c.start),p.set.value(c.start)))}},setting:function(b,d){p.debug("Changing setting",b,d);if(a.isPlainObject(b))a.extend(!0,c,b);else if(d!==h)a.isPlainObject(c[b])?
a.extend(!0,c[b],d):c[b]=d;else return c[b]},internal:function(b,c){if(a.isPlainObject(b))a.extend(!0,p,b);else if(c!==h)p[b]=c;else return p[b]},debug:function(){!c.silent&&c.debug&&(c.performance?p.performance.log(arguments):(p.debug=Function.prototype.bind.call(console.info,console,c.name+":"),p.debug.apply(console,arguments)))},verbose:function(){!c.silent&&c.verbose&&c.debug&&(c.performance?p.performance.log(arguments):(p.verbose=Function.prototype.bind.call(console.info,console,c.name+":"),
p.verbose.apply(console,arguments)))},error:function(){c.silent||(p.error=Function.prototype.bind.call(console.error,console,c.name+":"),p.error.apply(console,arguments))},performance:{log:function(a){var b,d;c.performance&&(b=(new Date).getTime(),d=x||b,d=b-d,x=b,T.push({Name:a[0],Arguments:[].slice.call(a,1)||"",Element:Q,"Execution Time":d}));clearTimeout(p.performance.timer);p.performance.timer=setTimeout(p.performance.display,500)},display:function(){var b=c.name+":",d=0;x=!1;clearTimeout(p.performance.timer);
a.each(T,function(a,b){d+=b["Execution Time"]});b+=" "+d+"ms";L&&(b+=" '"+L+"'");(console.group!==h||console.table!==h)&&0<T.length&&(console.groupCollapsed(b),console.table?console.table(T):a.each(T,function(a,b){console.log(b.Name+": "+b["Execution Time"]+"ms")}),console.groupEnd());T=[]}},invoke:function(b,c,d){var f=V,e,k,n;c=c||C;d=Q||d;"string"==typeof b&&f!==h&&(b=b.split(/[\. ]/),e=b.length-1,a.each(b,function(c,d){var n=c!=e?d+b[c+1].charAt(0).toUpperCase()+b[c+1].slice(1):b;if(a.isPlainObject(f[n])&&
c!=e)f=f[n];else{if(f[n]!==h)return k=f[n],!1;if(a.isPlainObject(f[d])&&c!=e)f=f[d];else return f[d]!==h?k=f[d]:p.error(K.method,b),!1}}));a.isFunction(k)?n=k.apply(d,c):k!==h&&(n=k);a.isArray(J)?J.push(n):J!==h?J=[J,n]:n!==h&&(J=n);return k}};P?(V===h&&p.initialize(),p.invoke(N)):(V!==h&&V.invoke("destroy"),p.initialize())});return J!==h?J:this};a.fn.slider.settings={silent:!1,debug:!1,verbose:!1,performance:!0,name:"Slider",namespace:"slider",error:{method:"The method you called is not defined.",
notrange:"This slider is not a range slider"},metadata:{thumbVal:"thumbVal",secondThumbVal:"secondThumbVal"},min:0,max:20,step:1,start:0,end:20,labelType:"number",showLabelTicks:!1,smooth:!1,autoAdjustLabels:!0,labelDistance:100,preventCrossover:!0,fireOnInit:!1,interpretLabel:!1,decimalPlaces:2,pageMultiplier:2,selector:{},className:{reversed:"reversed",disabled:"disabled",labeled:"labeled",ticked:"ticked",vertical:"vertical",range:"range",smooth:"smooth"},keys:{pageUp:33,pageDown:34,leftArrow:37,
upArrow:38,rightArrow:39,downArrow:40},labelTypes:{number:"number",letter:"letter"},onChange:function(a,c,h){},onMove:function(a,c,h){}}})(jQuery,window,document);
(function(a,l,F,h){a.isWindow=a.isWindow||function(a){return null!=a&&a===a.window};a.isFunction=a.isFunction||function(a){return"function"===typeof a&&"number"!==typeof a.nodeType};l="undefined"!=typeof l&&l.Math==Math?l:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();a.fn.tab=function(e){var c=a.isFunction(this)?a(l):a(this),S=c.selector||"",L=(new Date).getTime(),x=[],T=arguments[0],N="string"==typeof T,P=[].slice.call(arguments,1),C=!1,I;c.each(function(){var D=a.isPlainObject(e)?
a.extend(!0,{},a.fn.tab.settings,e):a.extend({},a.fn.tab.settings),J=D.className,y=D.metadata,b=D.selector,n=D.error,A=D.regExp,K="."+D.namespace,z="module-"+D.namespace,r=a(this),H,k,d={},f=!0,O=0,M=this,m=r.data(z),G,u,E,Q;E={initialize:function(){E.debug("Initializing tab menu item",r);E.fix.callbacks();E.determineTabs();E.debug("Determining tabs",D.context,k);D.auto&&E.set.auto();E.bind.events();D.history&&!C&&(E.initializeHistory(),C=!0);D.autoTabActivation&&m===h&&null==E.determine.activeTab()&&
(E.debug("No active tab detected, setting first tab active",E.get.initialPath()),E.changeTab(!0===D.autoTabActivation?E.get.initialPath():D.autoTabActivation));E.instantiate()},instantiate:function(){E.verbose("Storing instance of module",E);m=E;r.data(z,E)},destroy:function(){E.debug("Destroying tabs",r);r.removeData(z).off(K)},bind:{events:function(){a.isWindow(M)||(E.debug("Attaching tab activation events to element",r),r.on("click"+K,E.event.click))}},determineTabs:function(){var c;"parent"===
D.context?(0<r.closest(b.ui).length?(c=r.closest(b.ui),E.verbose("Using closest UI element as parent",c)):c=r,H=c.parent(),E.verbose("Determined parent element for creating context",H)):D.context?(H=a(D.context),E.verbose("Using selector for tab context",D.context,H)):H=a("body");D.childrenOnly?(k=H.children(b.tabs),E.debug("Searching tab context children for tabs",H,k)):(k=H.find(b.tabs),E.debug("Searching tab context for tabs",H,k))},fix:{callbacks:function(){a.isPlainObject(e)&&(e.onTabLoad||e.onTabInit)&&
(e.onTabLoad&&(e.onLoad=e.onTabLoad,delete e.onTabLoad,E.error(n.legacyLoad,e.onLoad)),e.onTabInit&&(e.onFirstLoad=e.onTabInit,delete e.onTabInit,E.error(n.legacyInit,e.onFirstLoad)),D=a.extend(!0,{},a.fn.tab.settings,e))}},initializeHistory:function(){E.debug("Initializing page state");if(a.address===h)return E.error(n.state),!1;if("state"==D.historyType)if(E.debug("Using HTML5 to manage state"),!1!==D.path)a.address.history(!0).state(D.path);else return E.error(n.path),!1;a.address.bind("change",
E.event.history.change)},event:{click:function(b){var c=a(this).data(y.tab);c!==h?(D.history?(E.verbose("Updating page state",b),a.address.value(c)):(E.verbose("Changing tab",b),E.changeTab(c)),b.preventDefault()):E.debug("No tab specified")},history:{change:function(b){var c=b.pathNames.join("/")||E.get.initialPath(),d=D.templates.determineTitle(c)||!1;E.performance.display();E.debug("History change event",c,b);Q=b;c!==h&&E.changeTab(c);d&&a.address.title(d)}}},refresh:function(){G&&(E.debug("Refreshing tab",
G),E.changeTab(G))},cache:{read:function(a){return a!==h?d[a]:!1},add:function(a,b){a=a||G;E.debug("Adding cached content for",a);d[a]=b},remove:function(a){a=a||G;E.debug("Removing cached content for",a);delete d[a]}},escape:{string:function(a){a=String(a);return a.replace(A.escape,"\\$&")}},set:{auto:function(){var b="string"==typeof D.path?D.path.replace(/\/$/,"")+"/{$tab}":"/{$tab}";E.verbose("Setting up automatic tab retrieval from server",b);a.isPlainObject(D.apiSettings)?D.apiSettings.url=
b:D.apiSettings={url:b}},loading:function(a){var b=E.get.tabElement(a);b.hasClass(J.loading)||(E.verbose("Setting loading state for",b),b.addClass(J.loading).siblings(k).removeClass(J.active+" "+J.loading),0<b.length&&D.onRequest.call(b[0],a))},state:function(b){a.address.value(b)}},changeTab:function(b){var c=l.history&&l.history.pushState&&D.ignoreFirstLoad&&f,d=D.auto||a.isPlainObject(D.apiSettings),e=d&&!c?E.utilities.pathToArray(b):E.get.defaultPathArray(b);b=E.utilities.arrayToPath(e);a.each(e,
function(h,k){var l=e.slice(0,h+1),m=E.utilities.arrayToPath(l),A=E.is.tab(m),w=h+1==e.length,z=E.get.tabElement(m),C;E.verbose("Looking for tab",k);if(A){E.verbose("Tab was found",k);G=m;u=E.utilities.filterArray(e,l);w?k=!0:(h=e.slice(0,h+2),k=E.utilities.arrayToPath(h),(k=!E.is.tab(k))&&E.verbose("Tab parameters found",h));if(k&&d)return c?(E.debug("Ignoring remote content on first tab load",m),f=!1,E.cache.add(b,z.html()),E.activate.all(m),D.onFirstLoad.call(z[0],m,u,Q),D.onLoad.call(z[0],m,u,
Q)):(E.activate.navigation(m),E.fetch.content(m,b)),!1;E.debug("Opened local tab",m);E.activate.all(m);E.cache.read(m)||(E.cache.add(m,!0),E.debug("First time tab loaded calling tab init"),D.onFirstLoad.call(z[0],m,u,Q));D.onLoad.call(z[0],m,u,Q)}else if(-1==b.search("/")&&""!==b){if(b=E.escape.string(b),C=a("#"+b+', a[name="'+b+'"]'),m=C.closest("[data-tab]").data(y.tab),z=E.get.tabElement(m),C&&0<C.length&&m)return E.debug("Anchor link used, opening parent tab",z,C),z.hasClass(J.active)||setTimeout(function(){E.scrollTo(C)},
0),E.activate.all(m),E.cache.read(m)||(E.cache.add(m,!0),E.debug("First time tab loaded calling tab init"),D.onFirstLoad.call(z[0],m,u,Q)),D.onLoad.call(z[0],m,u,Q),!1}else return E.error(n.missingTab,r,H,m),!1})},scrollTo:function(b){var c=b&&0<b.length?b.offset().top:!1;!1!==c&&(E.debug("Forcing scroll to an in-page link in a hidden tab",c,b),a(F).scrollTop(c))},update:{content:function(b,c,d){var f=E.get.tabElement(b),e=f[0];d=d!==h?d:D.evaluateScripts;"string"==typeof D.cacheType&&"dom"==D.cacheType.toLowerCase()&&
"string"!==typeof c?f.empty().append(a(c).clone(!0)):d?(E.debug("Updating HTML and evaluating inline scripts",b,c),f.html(c)):(E.debug("Updating HTML",b,c),e.innerHTML=c)}},fetch:{content:function(b,c){var d=E.get.tabElement(b),f={dataType:"html",encodeParameters:!1,on:"now",cache:D.alwaysRefresh,headers:{"X-Remote":!0},onSuccess:function(a){"response"==D.cacheType&&E.cache.add(c,a);E.update.content(b,a);b==G?(E.debug("Content loaded",b),E.activate.tab(b)):E.debug("Content loaded in background",b);
D.onFirstLoad.call(d[0],b,u,Q);D.onLoad.call(d[0],b,u,Q);D.loadOnce?E.cache.add(c,!0):"string"==typeof D.cacheType&&"dom"==D.cacheType.toLowerCase()&&0<d.children().length?setTimeout(function(){var a=d.children().clone(!0),a=a.not("script");E.cache.add(c,a)},0):E.cache.add(c,d.html())},urlData:{tab:c}},e=d.api("get request")||!1,e=e&&"pending"===e.state(),k;c=c||b;k=E.cache.read(c);D.cache&&k?(E.activate.tab(b),E.debug("Adding cached content",c),D.loadOnce||("once"==D.evaluateScripts?E.update.content(b,
k,!1):E.update.content(b,k)),D.onLoad.call(d[0],b,u,Q)):e?(E.set.loading(b),E.debug("Content is already loading",c)):a.api!==h?(f=a.extend(!0,{},D.apiSettings,f),E.debug("Retrieving remote content",c,f),E.set.loading(b),d.api(f)):E.error(n.api)}},activate:{all:function(a){E.activate.tab(a);E.activate.navigation(a)},tab:function(a){var b=E.get.tabElement(a),c="siblings"==D.deactivate?b.siblings(k):k.not(b),d=b.hasClass(J.active);E.verbose("Showing tab content for",b);d||(b.addClass(J.active),c.removeClass(J.active+
" "+J.loading),0<b.length&&D.onVisible.call(b[0],a))},navigation:function(a){var b=E.get.navElement(a),d="siblings"==D.deactivate?b.siblings(c):c.not(b),f=b.hasClass(J.active);E.verbose("Activating tab navigation for",b,a);f||(b.addClass(J.active),d.removeClass(J.active+" "+J.loading))}},deactivate:{all:function(){E.deactivate.navigation();E.deactivate.tabs()},navigation:function(){c.removeClass(J.active)},tabs:function(){k.removeClass(J.active+" "+J.loading)}},is:{tab:function(a){return a!==h?0<
E.get.tabElement(a).length:!1}},get:{initialPath:function(){return c.eq(0).data(y.tab)||k.eq(0).data(y.tab)},path:function(){return a.address.value()},defaultPathArray:function(a){return E.utilities.pathToArray(E.get.defaultPath(a))},defaultPath:function(a){var b=c.filter("[data-"+y.tab+'^="'+E.escape.string(a)+'/"]').eq(0).data(y.tab)||!1;if(b){E.debug("Found default tab",b);if(O<D.maxDepth)return O++,E.get.defaultPath(b);E.error(n.recursion)}else E.debug("No default tabs found for",a,k);O=0;return a},
navElement:function(a){a=a||G;return c.filter("[data-"+y.tab+'="'+E.escape.string(a)+'"]')},tabElement:function(a){var b;a=a||G;b=E.utilities.pathToArray(a);b=E.utilities.last(b);a=k.filter("[data-"+y.tab+'="'+E.escape.string(a)+'"]');b=k.filter("[data-"+y.tab+'="'+E.escape.string(b)+'"]');return 0<a.length?a:b},tab:function(){return G}},determine:{activeTab:function(){var b=null;k.each(function(d,f){a(f).hasClass(J.active)&&(d=a(this).data(y.tab),c.filter("[data-"+y.tab+'="'+E.escape.string(d)+'"]').hasClass(J.active)&&
(b=d))});return b}},utilities:{filterArray:function(b,c){return a.grep(b,function(b){return-1==a.inArray(b,c)})},last:function(a){return Array.isArray(a)?a[a.length-1]:!1},pathToArray:function(a){a===h&&(a=G);return"string"==typeof a?a.split("/"):[a]},arrayToPath:function(a){return Array.isArray(a)?a.join("/"):!1}},setting:function(b,c){E.debug("Changing setting",b,c);if(a.isPlainObject(b))a.extend(!0,D,b);else if(c!==h)a.isPlainObject(D[b])?a.extend(!0,D[b],c):D[b]=c;else return D[b]},internal:function(b,
c){if(a.isPlainObject(b))a.extend(!0,E,b);else if(c!==h)E[b]=c;else return E[b]},debug:function(){!D.silent&&D.debug&&(D.performance?E.performance.log(arguments):(E.debug=Function.prototype.bind.call(console.info,console,D.name+":"),E.debug.apply(console,arguments)))},verbose:function(){!D.silent&&D.verbose&&D.debug&&(D.performance?E.performance.log(arguments):(E.verbose=Function.prototype.bind.call(console.info,console,D.name+":"),E.verbose.apply(console,arguments)))},error:function(){D.silent||
(E.error=Function.prototype.bind.call(console.error,console,D.name+":"),E.error.apply(console,arguments))},performance:{log:function(a){var b,c;D.performance&&(b=(new Date).getTime(),c=L||b,c=b-c,L=b,x.push({Name:a[0],Arguments:[].slice.call(a,1)||"",Element:M,"Execution Time":c}));clearTimeout(E.performance.timer);E.performance.timer=setTimeout(E.performance.display,500)},display:function(){var b=D.name+":",c=0;L=!1;clearTimeout(E.performance.timer);a.each(x,function(a,b){c+=b["Execution Time"]});
b+=" "+c+"ms";S&&(b+=" '"+S+"'");(console.group!==h||console.table!==h)&&0<x.length&&(console.groupCollapsed(b),console.table?console.table(x):a.each(x,function(a,b){console.log(b.Name+": "+b["Execution Time"]+"ms")}),console.groupEnd());x=[]}},invoke:function(b,c,d){var f=m,e,k,l;c=c||P;d=M||d;"string"==typeof b&&f!==h&&(b=b.split(/[\. ]/),e=b.length-1,a.each(b,function(c,d){var l=c!=e?d+b[c+1].charAt(0).toUpperCase()+b[c+1].slice(1):b;if(a.isPlainObject(f[l])&&c!=e)f=f[l];else{if(f[l]!==h)return k=
f[l],!1;if(a.isPlainObject(f[d])&&c!=e)f=f[d];else return f[d]!==h?k=f[d]:E.error(n.method,b),!1}}));a.isFunction(k)?l=k.apply(d,c):k!==h&&(l=k);Array.isArray(I)?I.push(l):I!==h?I=[I,l]:l!==h&&(I=l);return k}};N?(m===h&&E.initialize(),E.invoke(T)):(m!==h&&m.invoke("destroy"),E.initialize())});return I!==h?I:this};a.tab=function(){a(l).tab.apply(this,arguments)};a.fn.tab.settings={name:"Tab",namespace:"tab",silent:!1,debug:!1,verbose:!1,performance:!0,auto:!1,history:!1,historyType:"hash",path:!1,
context:!1,childrenOnly:!1,maxDepth:25,deactivate:"siblings",alwaysRefresh:!1,cache:!0,loadOnce:!1,cacheType:"response",ignoreFirstLoad:!1,apiSettings:!1,evaluateScripts:"once",autoTabActivation:!0,onFirstLoad:function(a,c,h){},onLoad:function(a,c,h){},onVisible:function(a,c,h){},onRequest:function(a,c,h){},templates:{determineTitle:function(a){}},error:{api:"You attempted to load content without API module",method:"The method you called is not defined",missingTab:"Activated tab cannot be found. Tabs are case-sensitive.",
noContent:"The tab you specified is missing a content url.",path:"History enabled, but no path was specified",recursion:"Max recursive depth reached",legacyInit:"onTabInit has been renamed to onFirstLoad in 2.0, please adjust your code.",legacyLoad:"onTabLoad has been renamed to onLoad in 2.0. Please adjust your code",state:"History requires Asual's Address library <https://github.com/asual/jquery-address>"},regExp:{escape:/[-[\]{}()*+?.,\\^$|#\s:=@]/g},metadata:{tab:"tab",loaded:"loaded",promise:"promise"},
className:{loading:"loading",active:"active"},selector:{tabs:".ui.tab",ui:".ui"}}})(jQuery,window,document);
(function(a,l,F,h){a.isFunction=a.isFunction||function(a){return"function"===typeof a&&"number"!==typeof a.nodeType};l="undefined"!=typeof l&&l.Math==Math?l:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();a.fn.transition=function(){var e=a(this),c=e.selector||"",l=(new Date).getTime(),L=[],x=arguments,T=x[0],N=[].slice.call(arguments,1),P="string"===typeof T,C;e.each(function(I){var D=a(this),J=this,y,b,n,A,K,z,r,H,k;k={initialize:function(){y=k.get.settings.apply(J,x);A=
y.className;n=y.error;K=y.metadata;H="."+y.namespace;r="module-"+y.namespace;b=D.data(r)||k;z=k.get.animationEndEvent();P&&(P=k.invoke(T));!1===P&&(k.verbose("Converted arguments into settings object",y),y.interval?k.delay(y.animate):k.animate(),k.instantiate())},instantiate:function(){k.verbose("Storing instance of module",k);b=k;D.data(r,b)},destroy:function(){k.verbose("Destroying previous module for",J);D.removeData(r)},refresh:function(){k.verbose("Refreshing display type on next animation");
delete k.displayType},forceRepaint:function(){k.verbose("Forcing element repaint");var a=D.parent(),b=D.next();0===b.length?D.detach().appendTo(a):D.detach().insertBefore(b)},repaint:function(){k.verbose("Repainting element")},delay:function(a){(a=k.get.animationDirection())||(a=k.can.transition()?k.get.direction():"static");a="auto"==y.reverse&&a==A.outward||1==y.reverse?(e.length-I)*y.interval:I*y.interval;k.debug("Delaying animation by",a);setTimeout(k.animate,a)},animate:function(a){y=a||y;if(!k.is.supported())return k.error(n.support),
!1;k.debug("Preparing animation",y.animation);if(k.is.animating()){if(y.queue)return!y.allowRepeats&&k.has.direction()&&k.is.occurring()&&!0!==k.queuing?k.debug("Animation is currently occurring, preventing queueing same animation",y.animation):k.queue(y.animation),!1;if(!y.allowRepeats&&k.is.occurring())return k.debug("Animation is already occurring, will not execute repeated animation",y.animation),!1;k.debug("New animation started, completing previous early",y.animation);b.complete()}k.can.animate()?
k.set.animating(y.animation):k.error(n.noAnimation,y.animation,J)},reset:function(){k.debug("Resetting animation to beginning conditions");k.remove.animationCallbacks();k.restore.conditions();k.remove.animating()},queue:function(a){k.debug("Queueing animation of",a);k.queuing=!0;D.one(z+".queue"+H,function(){k.queuing=!1;k.repaint();k.animate.apply(this,y)})},complete:function(a){a&&a.target===J&&a.stopPropagation();k.debug("Animation complete",y.animation);k.remove.completeCallback();k.remove.failSafe();
k.is.looping()||(k.is.outward()?(k.verbose("Animation is outward, hiding element"),k.restore.conditions(),k.hide()):k.is.inward()?(k.verbose("Animation is outward, showing element"),k.restore.conditions(),k.show()):(k.verbose("Static animation completed"),k.restore.conditions(),y.onComplete.call(J)))},force:{visible:function(){var a=D.attr("style"),b=k.get.userStyle(a),a=k.get.displayType(),b=b+"display: "+a+" !important;",c=D[0].style.display;if(!a||"none"===c&&y.skipInlineHidden||D[0].tagName.match(/(script|link|style)/i))return k.remove.transition(),
!1;k.verbose("Overriding default display to show element",a);D.attr("style",b);return!0},hidden:function(){var a=D.attr("style"),b=D.css("display"),a=a===h||""===a;"none"===b||k.is.hidden()?a&&D.removeAttr("style"):(k.verbose("Overriding default display to hide element"),D.css("display","none"))}},has:{direction:function(b){var c=!1;b=b||y.animation;"string"===typeof b&&(b=b.split(" "),a.each(b,function(a,b){if(b===A.inward||b===A.outward)c=!0}));return c},inlineDisplay:function(){var a=D.attr("style")||
"";return Array.isArray(a.match(/display.*?;/,""))}},set:{animating:function(a){k.remove.completeCallback();a=a||y.animation;a=k.get.animationClass(a);k.save.animation(a);k.force.visible()&&(k.remove.hidden(),k.remove.direction(),k.start.animation(a))},duration:function(a,b){b=b||y.duration;if((b="number"==typeof b?b+"ms":b)||0===b)k.verbose("Setting animation duration",b),D.css({"animation-duration":b})},direction:function(a){a=a||k.get.direction();a==A.inward?k.set.inward():k.set.outward()},looping:function(){k.debug("Transition set to loop");
D.addClass(A.looping)},hidden:function(){D.addClass(A.transition).addClass(A.hidden)},inward:function(){k.debug("Setting direction to inward");D.removeClass(A.outward).addClass(A.inward)},outward:function(){k.debug("Setting direction to outward");D.removeClass(A.inward).addClass(A.outward)},visible:function(){D.addClass(A.transition).addClass(A.visible)}},start:{animation:function(a){a=a||k.get.animationClass();k.debug("Starting tween",a);D.addClass(a).one(z+".complete"+H,k.complete);y.useFailSafe&&
k.add.failSafe();k.set.duration(y.duration);y.onStart.call(J)}},save:{animation:function(a){k.cache||(k.cache={});k.cache.animation=a},displayType:function(a){"none"!==a&&D.data(K.displayType,a)},transitionExists:function(b,c){a.fn.transition.exists[b]=c;k.verbose("Saving existence of transition",b,c)}},restore:{conditions:function(){var a=k.get.currentAnimation();a&&(D.removeClass(a),k.verbose("Removing animation class",k.cache));k.remove.duration()}},add:{failSafe:function(){var a=k.get.duration();
k.timer=setTimeout(function(){D.triggerHandler(z)},a+y.failSafeDelay);k.verbose("Adding fail safe timer",k.timer)}},remove:{animating:function(){D.removeClass(A.animating)},animationCallbacks:function(){k.remove.queueCallback();k.remove.completeCallback()},queueCallback:function(){D.off(".queue"+H)},completeCallback:function(){D.off(".complete"+H)},display:function(){D.css("display","")},direction:function(){D.removeClass(A.inward).removeClass(A.outward)},duration:function(){D.css("animation-duration",
"")},failSafe:function(){k.verbose("Removing fail safe timer",k.timer);k.timer&&clearTimeout(k.timer)},hidden:function(){D.removeClass(A.hidden)},visible:function(){D.removeClass(A.visible)},looping:function(){k.debug("Transitions are no longer looping");k.is.looping()&&(k.reset(),D.removeClass(A.looping))},transition:function(){D.removeClass(A.transition).removeClass(A.visible).removeClass(A.hidden)}},get:{settings:function(b,c,e){return"object"==typeof b?a.extend(!0,{},a.fn.transition.settings,
b):"function"==typeof e?a.extend({},a.fn.transition.settings,{animation:b,onComplete:e,duration:c}):"string"==typeof c||"number"==typeof c?a.extend({},a.fn.transition.settings,{animation:b,duration:c}):"object"==typeof c?a.extend({},a.fn.transition.settings,c,{animation:b}):"function"==typeof c?a.extend({},a.fn.transition.settings,{animation:b,onComplete:c}):a.extend({},a.fn.transition.settings,{animation:b})},animationClass:function(a){a=a||y.animation;var b=k.can.transition()&&!k.has.direction()?
k.get.direction()+" ":"";return A.animating+" "+A.transition+" "+b+a},currentAnimation:function(){return k.cache&&k.cache.animation!==h?k.cache.animation:!1},currentDirection:function(){return k.is.inward()?A.inward:A.outward},direction:function(){return k.is.hidden()||!k.is.visible()?A.inward:A.outward},animationDirection:function(b){var c;b=b||y.animation;"string"===typeof b&&(b=b.split(" "),a.each(b,function(a,b){b===A.inward?c=A.inward:b===A.outward&&(c=A.outward)}));return c?c:!1},duration:function(a){a=
a||y.duration;!1===a&&(a=D.css("animation-duration")||0);return"string"===typeof a?-1<a.indexOf("ms")?parseFloat(a):1E3*parseFloat(a):a},displayType:function(a){a=a!==h?a:!0;if(y.displayType)return y.displayType;a&&D.data(K.displayType)===h&&(a=D.css("display"),""===a||"none"===a?k.can.transition(!0):k.save.displayType(a));return D.data(K.displayType)},userStyle:function(a){a=a||D.attr("style")||"";return a.replace(/display.*?;/,"")},transitionExists:function(b){return a.fn.transition.exists[b]},
animationStartEvent:function(){var a=F.createElement("div"),b={animation:"animationstart",OAnimation:"oAnimationStart",MozAnimation:"mozAnimationStart",WebkitAnimation:"webkitAnimationStart"},c;for(c in b)if(a.style[c]!==h)return b[c];return!1},animationEndEvent:function(){var a=F.createElement("div"),b={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"mozAnimationEnd",WebkitAnimation:"webkitAnimationEnd"},c;for(c in b)if(a.style[c]!==h)return b[c];return!1}},can:{transition:function(b){var c=
y.animation,e=k.get.transitionExists(c),n=k.get.displayType(!1),l,r,u;if(e===h||b){k.verbose("Determining whether animation exists");b=D.attr("class");l=D.prop("tagName");l=a("<"+l+" />").addClass(b).insertAfter(D);r=l.addClass(c).removeClass(A.inward).removeClass(A.outward).addClass(A.animating).addClass(A.transition).css("animationName");u=l.addClass(A.inward).css("animationName");n||(n=l.attr("class",b).removeAttr("style").removeClass(A.hidden).removeClass(A.visible).show().css("display"),k.verbose("Determining final display state",
n),k.save.displayType(n));l.remove();if(r!=u)k.debug("Direction exists for animation",c),l=!0;else if("none"!=r&&r)k.debug("Static animation found",c,n),l=!1;else{k.debug("No animation defined in css",c);return}k.save.transitionExists(c,l)}return e!==h?e:l},animate:function(){return k.can.transition()!==h}},is:{animating:function(){return D.hasClass(A.animating)},inward:function(){return D.hasClass(A.inward)},outward:function(){return D.hasClass(A.outward)},looping:function(){return D.hasClass(A.looping)},
occurring:function(a){a=a||y.animation;a="."+a.replace(" ",".");return 0<D.filter(a).length},visible:function(){return D.is(":visible")},hidden:function(){return"hidden"===D.css("visibility")},supported:function(){return!1!==z}},hide:function(){k.verbose("Hiding element");k.is.animating()&&k.reset();J.blur();k.remove.display();k.remove.visible();a.isFunction(y.onBeforeHide)?y.onBeforeHide.call(J,function(){k.hideNow()}):k.hideNow()},hideNow:function(){k.set.hidden();k.force.hidden();y.onHide.call(J);
y.onComplete.call(J)},show:function(a){k.verbose("Showing element",a);k.force.visible()&&(k.remove.hidden(),k.set.visible(),y.onShow.call(J),y.onComplete.call(J))},toggle:function(){k.is.visible()?k.hide():k.show()},stop:function(){k.debug("Stopping current animation");D.triggerHandler(z)},stopAll:function(){k.debug("Stopping all animation");k.remove.queueCallback();D.triggerHandler(z)},clear:{queue:function(){k.debug("Clearing animation queue");k.remove.queueCallback()}},enable:function(){k.verbose("Starting animation");
D.removeClass(A.disabled)},disable:function(){k.debug("Stopping animation");D.addClass(A.disabled)},setting:function(b,c){k.debug("Changing setting",b,c);if(a.isPlainObject(b))a.extend(!0,y,b);else if(c!==h)a.isPlainObject(y[b])?a.extend(!0,y[b],c):y[b]=c;else return y[b]},internal:function(b,c){if(a.isPlainObject(b))a.extend(!0,k,b);else if(c!==h)k[b]=c;else return k[b]},debug:function(){!y.silent&&y.debug&&(y.performance?k.performance.log(arguments):(k.debug=Function.prototype.bind.call(console.info,
console,y.name+":"),k.debug.apply(console,arguments)))},verbose:function(){!y.silent&&y.verbose&&y.debug&&(y.performance?k.performance.log(arguments):(k.verbose=Function.prototype.bind.call(console.info,console,y.name+":"),k.verbose.apply(console,arguments)))},error:function(){y.silent||(k.error=Function.prototype.bind.call(console.error,console,y.name+":"),k.error.apply(console,arguments))},performance:{log:function(a){var b,c;y.performance&&(b=(new Date).getTime(),c=l||b,c=b-c,l=b,L.push({Name:a[0],
Arguments:[].slice.call(a,1)||"",Element:J,"Execution Time":c}));clearTimeout(k.performance.timer);k.performance.timer=setTimeout(k.performance.display,500)},display:function(){var b=y.name+":",f=0;l=!1;clearTimeout(k.performance.timer);a.each(L,function(a,b){f+=b["Execution Time"]});b+=" "+f+"ms";c&&(b+=" '"+c+"'");1<e.length&&(b+=" ("+e.length+")");(console.group!==h||console.table!==h)&&0<L.length&&(console.groupCollapsed(b),console.table?console.table(L):a.each(L,function(a,b){console.log(b.Name+
": "+b["Execution Time"]+"ms")}),console.groupEnd());L=[]}},invoke:function(c,e,k){var n=b,l,r,u;e=e||N;k=J||k;"string"==typeof c&&n!==h&&(c=c.split(/[\. ]/),l=c.length-1,a.each(c,function(b,e){var f=b!=l?e+c[b+1].charAt(0).toUpperCase()+c[b+1].slice(1):c;if(a.isPlainObject(n[f])&&b!=l)n=n[f];else{if(n[f]!==h)return r=n[f],!1;if(a.isPlainObject(n[e])&&b!=l)n=n[e];else return n[e]!==h&&(r=n[e]),!1}}));a.isFunction(r)?u=r.apply(k,e):r!==h&&(u=r);Array.isArray(C)?C.push(u):C!==h?C=[C,u]:u!==h&&(C=u);
return r!==h?r:!1}};k.initialize()});return C!==h?C:this};a.fn.transition.exists={};a.fn.transition.settings={name:"Transition",silent:!1,debug:!1,verbose:!1,performance:!0,namespace:"transition",interval:0,reverse:"auto",onStart:function(){},onComplete:function(){},onShow:function(){},onHide:function(){},useFailSafe:!0,failSafeDelay:100,allowRepeats:!1,displayType:!1,animation:"fade",duration:!1,queue:!0,skipInlineHidden:!1,metadata:{displayType:"display"},className:{animating:"animating",disabled:"disabled",
hidden:"hidden",inward:"in",loading:"loading",looping:"looping",outward:"out",transition:"transition",visible:"visible"},error:{noAnimation:"Element is no longer attached to DOM. Unable to animate.  Use silent setting to suppress this warning in production.",repeated:"That animation is already occurring, cancelling repeated animation",method:"The method you called is not defined",support:"This browser does not support CSS animations"}}})(jQuery,window,document);
(function(a,l){"function"===typeof define&&define.amd?define(l):"object"===typeof exports?module.exports=l():a.Blazy=l()})(this,function(){function a(a){var b=a._util;b.elements=x(a.options);b.count=b.elements.length;b.destroyed&&(b.destroyed=!1,a.options.container&&C(a.options.container,function(a){N(a,"scroll",b.validateT)}),N(window,"resize",b.saveViewportOffsetT),N(window,"resize",b.validateT),N(window,"scroll",b.validateT));l(a)}function l(a){for(var c=a._util,e=0;e<c.count;e++){var h=c.elements[e],
l;var y=h;l=a.options;var k=y.getBoundingClientRect();l.container&&b&&(y=y.closest(l.containerClass))?(y=y.getBoundingClientRect(),l=F(y,J)?F(k,{top:y.top-l.offset,right:y.right+l.offset,bottom:y.bottom+l.offset,left:y.left-l.offset}):!1):l=F(k,J);if(l||S(h,a.options.successClass))a.load(h),c.elements.splice(e,1),c.count--,e--}0===c.count&&a.destroy()}function F(a,b){return a.right>=b.left&&a.bottom>=b.top&&a.left<=b.right&&a.top<=b.bottom}function h(a,b,h){if(!S(a,h.successClass)&&(b||h.loadInvisible||
0<a.offsetWidth&&0<a.offsetHeight))if(b=a.getAttribute(D)||a.getAttribute(h.src)){b=b.split(h.separator);var l=b[y&&1<b.length?1:0],r=a.getAttribute(h.srcset),x="img"===a.nodeName.toLowerCase(),k=(b=a.parentNode)&&"picture"===b.nodeName.toLowerCase();if(x||void 0===a.src){var d=new Image,f=function(){h.error&&h.error(a,"invalid");L(a,h.errorClass);P(d,"error",f);P(d,"load",F)},F=function(){x?k||c(a,l,r):a.style.backgroundImage='url("'+l+'")';e(a,h);P(d,"load",F);P(d,"error",f)};k&&(d=a,C(b.getElementsByTagName("source"),
function(a){var b=h.srcset,c=a.getAttribute(b);c&&(a.setAttribute("srcset",c),a.removeAttribute(b))}));N(d,"error",f);N(d,"load",F);c(d,l,r)}else a.src=l,e(a,h)}else"video"===a.nodeName.toLowerCase()?(C(a.getElementsByTagName("source"),function(a){var b=h.src,c=a.getAttribute(b);c&&(a.setAttribute("src",c),a.removeAttribute(b))}),a.load(),e(a,h)):(h.error&&h.error(a,"missing"),L(a,h.errorClass))}function e(a,b){L(a,b.successClass);b.success&&b.success(a);a.removeAttribute(b.src);a.removeAttribute(b.srcset);
C(b.breakpoints,function(b){a.removeAttribute(b.src)})}function c(a,b,c){c&&a.setAttribute("srcset",c);a.src=b}function S(a,b){return-1!==(" "+a.className+" ").indexOf(" "+b+" ")}function L(a,b){S(a,b)||(a.className+=" "+b)}function x(a){var b=[];a=a.root.querySelectorAll(a.selector);for(var c=a.length;c--;b.unshift(a[c]));return b}function T(a){J.bottom=(window.innerHeight||document.documentElement.clientHeight)+a;J.right=(window.innerWidth||document.documentElement.clientWidth)+a}function N(a,b,
c){a.attachEvent?a.attachEvent&&a.attachEvent("on"+b,c):a.addEventListener(b,c,{capture:!1,passive:!0})}function P(a,b,c){a.detachEvent?a.detachEvent&&a.detachEvent("on"+b,c):a.removeEventListener(b,c,{capture:!1,passive:!0})}function C(a,b){if(a&&b)for(var c=a.length,e=0;e<c&&!1!==b(a[e],e);e++);}function I(a,b,c){var e=0;return function(){var h=+new Date;h-e<b||(e=h,a.apply(c,arguments))}}var D,J,y,b;return function(c){if(!document.querySelectorAll){var e=document.createStyleSheet();document.querySelectorAll=
function(a,b,c,d,f){f=document.all;b=[];a=a.replace(/\[for\b/gi,"[htmlFor").split(",");for(c=a.length;c--;){e.addRule(a[c],"k:v");for(d=f.length;d--;)f[d].currentStyle.k&&b.push(f[d]);e.removeRule(0)}return b}}var x=this,z=x._util={};z.elements=[];z.destroyed=!0;x.options=c||{};x.options.error=x.options.error||!1;x.options.offset=x.options.offset||100;x.options.root=x.options.root||document;x.options.success=x.options.success||!1;x.options.selector=x.options.selector||".b-lazy";x.options.separator=
x.options.separator||"|";x.options.containerClass=x.options.container;x.options.container=x.options.containerClass?document.querySelectorAll(x.options.containerClass):!1;x.options.errorClass=x.options.errorClass||"b-error";x.options.breakpoints=x.options.breakpoints||!1;x.options.loadInvisible=x.options.loadInvisible||!1;x.options.successClass=x.options.successClass||"b-loaded";x.options.validateDelay=x.options.validateDelay||25;x.options.saveViewportOffsetDelay=x.options.saveViewportOffsetDelay||
50;x.options.srcset=x.options.srcset||"data-srcset";x.options.src=D=x.options.src||"data-src";b=Element.prototype.closest;y=1<window.devicePixelRatio;J={};J.top=0-x.options.offset;J.left=0-x.options.offset;x.revalidate=function(){a(x)};x.load=function(a,b){var c=this.options;void 0===a.length?h(a,b,c):C(a,function(a){h(a,b,c)})};x.destroy=function(){var a=this._util;this.options.container&&C(this.options.container,function(b){P(b,"scroll",a.validateT)});P(window,"scroll",a.validateT);P(window,"resize",
a.validateT);P(window,"resize",a.saveViewportOffsetT);a.count=0;a.elements.length=0;a.destroyed=!0};z.validateT=I(function(){l(x)},x.options.validateDelay,x);z.saveViewportOffsetT=I(function(){T(x.options.offset)},x.options.saveViewportOffsetDelay,x);T(x.options.offset);C(x.options.breakpoints,function(a){if(a.width>=window.screen.width)return D=a.src,!1});setTimeout(function(){a(x)})}});
var mainSiteUrl=$.url().attr("protocol")+"://"+$.url().attr("host")+($.url().attr("port")?":"+$.url().attr("port"):"");function htmlEncode(a){return $("<div/>").text(a).html()}function htmlDecode(a){return $("<div/>").html(a).text()}
function setStickyBottom(){$(".top-scroll.main").removeClass("top-scroll").addClass("top-scroll-dis");$(".top-scroll-dis.with-an").removeClass("top-scroll-dis").addClass("top-scroll");$(".top-scroll").on("click",function(a){scrollToElement("#siteTop")});$(".sticky-bottom-close").css("display","unset");$(".sticky-bottom-close").on("click",function(){$(".sticky-bottom-an").remove();$(".top-scroll.with-an").remove();$(".top-scroll-dis.main").removeClass("top-scroll-dis").addClass("top-scroll")})}
function initRegisterLink(){$(".only-register-link").on("click",function(a){a.preventDefault();showOnlyRegisterMessage()})}function updateURLParameter(a,l,F){var h="",e=a.split("?");a=e[0];var e=e[1],c="";if(e)for(var e=e.split("&"),S=0;S<e.length;S++)e[S].split("=")[0]!=l&&(h+=c+e[S],c="&");return a+"?"+h+(c+""+l+"="+F)}
jQuery(document).ready(function(a){a(".sidebar-cnob").on("click",function(c){c.preventDefault();a(".ui.mobile-sidebar").sidebar("setting","transition","overlay");a(".ui.mobile-sidebar").sidebar("toggle")});a(".resize-link").on("click",function(c){c.preventDefault();a(this).children("i").hasClass("fa-expand")?(a(".ui.container.main-wrap").addClass("fluid"),a(this).children("i").removeClass("fa-expand"),a(this).children("i").addClass("fa-compress"),changeResizeParam(1)):(a(".ui.container.main-wrap").removeClass("fluid"),
a(this).children("i").removeClass("fa-compress"),a(this).children("i").addClass("fa-expand"),changeResizeParam(0))});var l=htmlEncode(a(location).attr("href")),F=htmlEncode(a(document).attr("title")),h="http://vkontakte.ru/share.php?url="+l,e="http://twitter.com/home?status="+l+" "+F,F="http://www.facebook.com/sharer.php?u="+l+"&t="+F,l="https://plus.google.com/share?url="+l;a(".share-vk-link").attr("href",h);a(".share-twitter-link").attr("href",e);a(".share-facebook-link").attr("href",F);a(".share-google-link").attr("href",
l);a(".print-page-link").on("click",function(a){a.preventDefault();window.print();return!1});a(".show-page-link").on("click",function(c){c.preventDefault();a("#sitePageLinkBox").modal("show");a("#sitePageLink").val(a(location).attr("href"));a("#sitePageLink").focus()});a("#sitePageLink").focus(function(){this.select()});a(".donate-author-link").on("click",function(c){c.preventDefault();initModalForm("#donateAuthorBox form");a("#donateAuthorBox").modal({onApprove:function(){a("#donateAuthorBox form").submit();
return!0},onHidden:function(){}}).modal("show")});a("#donateAuthorBox .payment-types button").on("click",function(c){c.preventDefault();a(".payment-types button").removeClass("positive");a(this).addClass("positive");a("#paymentType").val(a(this).data("type"))});a("body").on("click",".scroll",function(c){c.preventDefault();c=a(this.hash).offset().top>a(document).height()-a(window).height()?a(document).height()-a(window).height():a(this.hash).offset().top;a("html,body").animate({scrollTop:c},300,"swing")});
a(".user-menu-link").click(function(c){c.preventDefault();a("#userBox").modal("show")});a(".search-submit").on("click",function(c){c.preventDefault();a(this).parents("form:first").submit()});a(".tabular.menu .item").tab();a(".top-news-tab .item").tab();a(".top-menu .submenu-link").dropdown({on:"hover"});a(".top-menu .search").popup({on:"click",transition:"slide down",position:"bottom right",lastResort:"bottom right",onVisible:function(c){a(this).find("input.site-main-search").focus()},exclusive:!0});
a(".top-menu .user-login").popup({on:"click",transition:"slide down",position:"bottom right",lastResort:"bottom right",exclusive:!0});a(".soci-link").popup({popup:".soci-menu",on:"click",transition:"slide down",position:"bottom right",lastResort:"bottom right",exclusive:!0});a(".tools-link").popup({popup:".tools-menu",on:"click",transition:"slide down",position:"bottom right",lastResort:"bottom right",exclusive:!0});a(".on-login").on("click",function(c){c.preventDefault();a("#infoRegisterBox").modal("show")});
a(".ui.dropdown.initial").dropdown();a(".ui.dropdown.fulltext").dropdown({match:"text",fullTextSearch:!0});a(".ui.dropdown.activateit").each(function(){var c=a(this);a(this).find(".active.selected").each(function(){c.dropdown("set selected",a(this).attr("data-value"))})});a(".filter-category").find(".field").parents(".filter-category").addClass("full");a(".filter-action").on("click",function(a){a.preventDefault();submitFilterParameters()});changeYoutubeSize();a(".idx-mat-tab .item").on("click",function(){bLazy.revalidate();
saveTab("mat",a(this).data("save"))});a(".idx-news-tab .item").on("click",function(){saveTab("news",a(this).data("save"))});initRegisterLink();window.bLazy=new Blazy({success:function(a){}})});
function changeYoutubeSize(){var a=$("iframe[src^='https://www.youtube.com']"),l=$("body");a.each(function(){$(this).data("aspectRatio",this.height/this.width||parseInt($(this).css("height"))/parseInt($(this).css("width"))).removeAttr("height").removeAttr("width")});$(window).resize(function(){var F=640>l.width()?l.width():640;a.each(function(){var a=$(this);a.width(F).height(F*a.data("aspectRatio"))})}).resize()}
function saveTab(a,l){a=$.ajax({url:"/profile/saveTabSelection?what="+a+"&tab="+l,type:"POST",dataType:"jsonp",crossDomain:!0,contentType:"application/json",jsonp:jsonpKey,cache:!1});a.done(function(a,h,e){JSON.parse(JSON.stringify(a))});a.fail(function(a,h,e){});a.always(function(){})}function showErrorMessage(a){$("#errorMainBox .errorMessage").html(a);$("#errorMainBox").modal("show")}function showInfoMessage(a){$("#infoMainBox .infoMessage").html(a);$("#infoMainBox").modal("show")}
function showOnlyRegisterMessage(){$("#infoOnlyRegisterMainBox").modal("show")}function changeResizeParam(a){a=$.ajax({url:"/profile/changeResize/"+a,type:"POST",dataType:"jsonp",crossDomain:!0,contentType:"application/json",jsonp:jsonpKey,cache:!1});a.done(function(a,F,h){a=JSON.parse(JSON.stringify(a));1==a.error&&showErrorMessage(a.message)});a.fail(function(a,F,h){showErrorMessage(a.responseText)});a.always(function(){})}
function initModalForm(a){$.fn.form&&($(a).form("reset"),$(a+" .ui.error.message").empty(),$(a+" .ui.success.message").empty(),$(a).removeClass("error warning success loading"))}function clearErrorInForm(a){$.fn.form&&($(a+" .field.error").removeClass("error"),$(a+" .ui.error.message").empty(),$(a+" .ui.success.message").empty(),$(a).removeClass("error warning success loading"))}
function formSendSuccess(a,l,F){$.fn.form&&($(a+" .success.message").append('<div class="header">'+l+"</div>"),$(a+" .success.message").append("<p>"+F+"</p>"),$(a).addClass("success"))}function formSendError(a,l,F){$.fn.form&&($(a).api("set error"),$(a+" .error.message").append('<div class="header">'+l+"</div>"),$(a+" .error.message").append("<p>"+F+"</p>"))}
function getFilterSettingsMap(a){var l;$(".filter-category .dropdown").each(function(){var a=$(this).dropdown("get value");a&&0<a.length&&(l=l?l+"_"+a.toString().replace(/,/g,"_"):a.toString().replace(/,/g,"_"))});l&&(a.filter=l);var F=$("input[name=srchName]").val();F&&(a.srchName=F);return a}
function submitFilterParameters(a,l){var F={};l?F.filterSearchId=l:F=getFilterSettingsMap(F);a&&a.order?F.order=a.order:(l=$.url().param("order"))?F.order=l:null;a&&a.view?F.view=a.view:(l=$.url().param("view"))?F.view=l:null;a&&a.show?F.show=a.show:(a=$.url().param("show"))?F.show=a:null;delete F.offset;(a=$.url().param("max"))?F.max=a:null;location=$.url().attr("path")+"?"+$.param(F)}
$.fn.api.settings.api={ctrlEnterSend:"/siteError/errorCtrlEnterSend",siteErrorCheck:"/siteError/errorSetCheck/{errid}",siteErrorUncheck:"/siteError/errorSetUncheck/{errid}",addOldBlog:"/profile/addOldBlog",createNewBlog:"/profile/createNewBlog",addBlogPost:"/blog/{blogname}/addDo",editBlogPost:"/blog/{blogname}/editDo",addCpuStat:"/cpubase/addDo",controlBookmark:"/bookmark/control",ecatalogOffers:"/ecatalog/getOffers",tagAutocomplete:"/tag/searchAutocomplete?searchStr={query}",setBlogPostPreview:"/blog/setPostPreview/{postid}",
controlAuthorFavorite:"/author/controlFavorite",controlAuthorBlacklist:"/author/controlBlacklist",changeDarkMode:"/profile/changeDarkMode"};$.fn.api.settings.successTest=function(a){return a&&1!=a.error?!0:!1};$.fn.calendar&&($.fn.calendar.settings.firstDayOfWeek=1,$.fn.calendar.settings.type="date",$.fn.calendar.settings.formatter.date=function(a,l){if(!a)return"";l=a.getDate();var F=a.getMonth()+1;a=a.getFullYear();return(10>l?"0":"")+l+"-"+(10>F?"0":"")+F+"-"+a});
if("ru"==siteLang||"ru_RU"==siteLang)$.fn.dropdown.settings.message={addResult:"<b>{term}</b>",count:"{count} \u0432\u044b\u0431\u0440\u0430\u043d\u043e",maxSelections:"\u041c\u0430\u043a\u0438\u0441\u043c\u0430\u043b\u044c\u043d\u043e {maxCount}",noResults:"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e.",serverError:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u0432\u044f\u0437\u0438 \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u043c"},
$.fn.form.settings.text={unspecifiedRule:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0435\u0440\u043d\u044b\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f",unspecifiedField:"\u0412 \u044d\u0442\u043e\u043c \u043f\u043e\u043b\u0435"},$.fn.form.settings.prompt={empty:"{name}: \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u044c",checked:"{name}: \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043e\u0442\u043c\u0435\u0442\u0438\u0442\u044c",
email:"{name}: \u043d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 e-mail",url:"{name}: \u043d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 url",regExp:"{name}: \u043d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f",integer:"{name}: \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u0446\u0435\u043b\u043e\u0435 \u0447\u0438\u0441\u043b\u043e",
decimal:"{name}: \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u0434\u0435\u0441\u044f\u0442\u0438\u0447\u043d\u043e\u0435 \u0447\u0438\u0441\u043b\u043e",number:"{name}: \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u0447\u0438\u0441\u043b\u043e",is:'{name} \u043d\u0435 "{ruleValue}"',isExactly:'{name} \u043d\u0435 "{ruleValue}"',not:'{name} \u043d\u0435\u043b\u044c\u0437\u044f \u0443\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0442\u044c \u0432 "{ruleValue}"',
notExactly:'{name} \u043d\u0435\u043b\u044c\u0437\u044f \u0443\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0442\u044c \u0432 "{ruleValue}"',contain:'{name} \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c "{ruleValue}"',containExactly:'{name} \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c "{ruleValue}"',doesntContain:'{name} \u043d\u0435 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 "{ruleValue}"',
doesntContainExactly:'{name} \u043d\u0435 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 "{ruleValue}"',minLength:"{name}: \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435, \u0447\u0435\u043c {ruleValue} \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432",length:"{name}: \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435, \u0447\u0435\u043c {ruleValue} \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432",
exactLength:"{name}: \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0442\u043e\u0447\u043d\u043e {ruleValue} \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432",maxLength:"{name}: \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043c\u0435\u043d\u044c\u0448\u0435 , \u0447\u0435\u043c {ruleValue} \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432",match:"{name}: \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u0442\u044c \u0441 \u043f\u043e\u043b\u0435\u043c {ruleValue}",
different:"{name}: \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043a\u0430\u043a \u0443 \u043f\u043e\u043b\u044f {ruleValue}",creditCard:"{name}: \u043d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u043d\u043e\u043c\u0435\u0440\u0430 \u043a\u0430\u0440\u0442\u044b",minCount:"{name}: \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u043d\u0435 \u043c\u0435\u043d\u0435\u0435 {ruleValue} \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u043e\u0432",
exactCount:"{name}: \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u0442\u043e\u0447\u043d\u043e {ruleValue} \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u043e\u0432",maxCount:"{name}: \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u043d\u0435 \u0431\u043e\u043b\u0435\u0435 {ruleValue} \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u043e\u0432",blogname:"{name}: \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u0432\u0435\u0441\u0442\u0438 \u043e\u0442 3 \u0434\u043e 16 \u043b\u0430\u0442\u0438\u043d\u0441\u043a\u0438\u0445 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432, \u0432\u043a\u043b\u044e\u0447\u0430\u044f \u0446\u0438\u0444\u0440\u044b, \u043f\u043e\u0434\u0447\u0435\u0440\u043a\u0438\u0432\u0430\u043d\u0438\u044f \u0438 \u0442\u0438\u0440\u0435.",
blogTitle:"{name}: \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u0432\u0435\u0441\u0442\u0438 \u043e\u0442 3 \u0434\u043e 100 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432",greaterThan:"{name}: \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435, \u0447\u0435\u043c {ruleValue}",smallerThan:"{name}: \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043c\u0435\u043d\u044c\u0448\u0435, \u0447\u0435\u043c {ruleValue}"},
$.fn.calendar&&($.fn.calendar.settings.text={days:"\u0412\u0441 \u041f\u043d \u0412\u0442 \u0421\u0440 \u0427\u0442 \u041f\u0442 \u0421\u0431".split(" "),months:"\u042f\u043d\u0432\u0430\u0440\u044c \u0424\u0435\u0432\u0440\u0430\u043b\u044c \u041c\u0430\u0440\u0442 \u0410\u043f\u0440\u0435\u043b\u044c \u041c\u0430\u0439 \u0418\u044e\u043d\u044c \u0418\u044e\u043b\u044c \u0410\u0432\u0433\u0443\u0441\u0442 \u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044c \u041e\u043a\u0442\u044f\u0431\u0440\u044c \u041d\u043e\u044f\u0431\u0440\u044c \u0414\u0435\u043a\u0430\u0431\u0440\u044c".split(" "),
monthsShort:"\u042f\u043d\u0432 \u0424\u0435\u0432 \u041c\u0430\u0440 \u0410\u043f\u0440 \u041c\u0430\u0439 \u0418\u044e\u043d \u0418\u044e\u043b \u0410\u0432\u0433 \u0421\u0435\u043d \u041e\u043a\u0442 \u041d\u043e\u044f \u0414\u0435\u043a".split(" "),today:"\u0421\u0435\u0433\u043e\u0434\u043d\u044f",now:"\u0421\u0435\u0439\u0447\u0430\u0441",am:"AM",pm:"PM"},$.fn.calendar.settings.firstDayOfWeek=1,$.fn.calendar.settings.type="date");
$.fn.form.settings.rules.greaterThan=function(a,l){return a>=l};$.fn.form.settings.rules.smallerThan=function(a,l){return a<=l};
var uiFormValidationRules={fields:{required:"empty",required2:"empty",required3:"empty",required4:"empty",required5:"empty",required6:"empty",required7:"empty",required8:"empty",required9:"empty",required10:"empty",checked:"checked",integer:"integer",integer2:"integer",integer3:"integer",integer4:"integer",integer5:"integer",integer6:"integer",decimal:"decimal",decimal2:"decimal",number:"number",email:"email",url:"url","email-required":["empty","email"],"url-required":["empty","url"],"textarea-required":"minLength[1]",
blogname:["empty","minLength[3]","maxLength[30]","regExp[/^[a-zA-Z0-9_-]{3,30}$/]"],blogTitle:["empty","minLength[3]","maxLength[100]"],"blog-article-desc":"minLength[80]","blog-news-desc":"minLength[30]","dropdown-required":["empty"],oRatio:["empty","decimal","smallerThan[99.9]"],vCore:["empty","decimal","smallerThan[99.999]"]},keyboardShortcuts:!1,className:{success:""}},formSettings={onSuccess:function(){$(".modal").modal("hide")}};
jQuery(document).ready(function(a){a(".ui.form").form(uiFormValidationRules);a(".ui.checkbox").checkbox()});
function replaceSeoHtmlLink(a){a="undefined"===typeof a?"":a+" ";$(a+".over-hiddenlink-html").each(function(){var a=$(this).data("link"),F="_blank";0==a.indexOf("#")&&(F="");if(0==a.indexOf("#")||0<=a.indexOf("overclockers.ru"))F="_self";"undefined"!==typeof a&&0!=a.length&&($(this).attr("href",a),$(this).attr("target",F))});$(a+".hidlink,"+a+".over-hiddenlink").replaceWith(function(){var a=$(this).data("link"),F=' target="_blank" ',h=!1;0==a.indexOf("#")&&(h=!0,F="");if(0==a.indexOf("#")||0<=a.indexOf("overclockers.ru"))F=
' target="_self" ';if("undefined"===typeof a||0==a.length)return $(this).html();var e=$(this).data("desc");if("undefined"===typeof e||0==e.length||"\u0432\u043d\u0435\u0448\u043d\u044f\u044f \u0441\u0441\u044b\u043b\u043a\u0430"==e)e=a;var c=e;80<e.length&&(c=e.substr(0,30)+"..."+e.substr(e.length-30));var S=["class","style","id","onclick"],L="";for(i=0;i<S.length;i++)var x=$(this).data(S[i]),x="undefined"===typeof x||0==x.length?"":" "+S[i]+'="'+x+'" ',L=L+x;return h?'<a href="'+a+'" class="scroll">'+
e+"</a>":'<a href="'+a+'"'+L+' title="'+e+'"'+F+">"+c+"</a>"})}$(function(){replaceSeoHtmlLink();$(".hidlink-img").each(function(){$(this).attr("href",$(this).data("u"));$(this).attr("title",$(this).text())});$(".hidlink-mail").each(function(){$(this).attr("href","mailto:"+$(this).data("mail")+"@overclockers.ru");$(this).attr("title","mail address")})});window.AppFunc||(AppFunc={});AppFunc.Selector={};
AppFunc.Selector.getSelected=function(){var a="";window.getSelection?a=window.getSelection():document.getSelection?a=document.getSelection():document.selection&&(a=document.selection.createRange().text);return a};var selectedText="";AppFunc.Selector.mouseup=function(){selectedText=AppFunc.Selector.getSelected()};
jQuery(document).ready(function(a){a(document).bind("mouseup",AppFunc.Selector.mouseup);a(".show-ctrl-enter-link").on("click",function(a){a.preventDefault();initCtrlEnter()});a("body").keydown(function(a){a.ctrlKey&&13==a.keyCode&&(a.preventDefault(),initCtrlEnter())});a("#ctrlEnterBox form").api({method:"post",serializeForm:!0,dataType:"json",beforeSend:function(l){if(a("#ctrlEnterBox form").form("is valid"))clearErrorInForm("#ctrlEnterBox form");else return!1;l.data=a.extend(l.data,{ctrlEnterLink:location.pathname,
ctrlEnterSubject:a.trim(a("h1").text())});"undefined"!==typeof currentMaterialId&&(l.data=a.extend(l.data,{materialId:currentMaterialId}));"undefined"!==typeof currentBlogPostId&&(l.data=a.extend(l.data,{blogPostId:currentBlogPostId}));return l},onRequest:function(l,F){a("#ctrlEnterBox .actions .button").addClass("disabled")},onComplete:function(l,F,h){a("#ctrlEnterBox .actions .button").removeClass("disabled")},onSuccess:function(l){formSendSuccess("#ctrlEnterBox form","\u0423\u0441\u043f\u0435\u0448\u043d\u043e",
l.message);a("#ctrlEnterBox form").form("clear");setTimeout("$('#ctrlEnterBox').modal('hide')",3E3)},onFailure:function(a){formSendError("#ctrlEnterBox form","\u041e\u0448\u0438\u0431\u043a\u0430",a.message)}})});
function initCtrlEnter(){initModalForm("#ctrlEnterBox form");$("#ctrlEnterBox").modal({detachable:!0,transition:"fade up",onApprove:function(){$("#ctrlEnterEmail").val()?$("#ctrlEnterEmail").attr("data-validate","email"):$("#ctrlEnterEmail").removeAttr("data-validate");$("#ctrlEnterBox form").submit();return!1}}).modal("show");$("#ctrlEnterError").val(decodeURI(selectedText))}
function scrollToElement(a){a=$(a).offset().top>$(document).height()-$(window).height()?$(document).height()-$(window).height():$(a).offset().top;$("html,body").animate({scrollTop:a},"normal")}$(function(){$(".top-scroll").on("click",function(a){scrollToElement("#siteTop")});var a=$("#siteTop");if(0<a.length){var l=$(a).offset().top+300;$.event.add(window,"scroll",function(){$(window).scrollTop()>l?$(".top-scroll").show():$(".top-scroll").hide()})}});